!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t){t.exports=JSON.parse('{"population":{"label":"Population","units":"si","units_alt":"percentage","desc":"","source":"[TO COME]","tooltipFormat":",.0f","disagTooltipFormat":".1%"},"foreign_born":{"label":"Foreign born","units":"percentage","desc":"Percentage of residents who were not U.S. citizens at birth","source":"[TO COME]","tooltipFormat":".1%"},"poverty":{"label":"Poverty rate","units":"percentage","desc":"Percentage of people in households with income below the poverty level","source":"[TO COME]","tooltipFormat":".1%"},"deep_poverty":{"label":"Deep poverty rate","units":"percentage","desc":"Percentage of people in households with income at or below 50 percent of the poverty level","source":"[TO COME]","tooltipFormat":".1%"},"cost_burden":{"label":"Housing cost burdened","units":"percentage","desc":"Percentage of households spending more than 30 percent of their income on housing","source":"[TO COME]","tooltipFormat":".1%"},"hh_income":{"label":"Household income","units":"currency","desc":"Combined income from all members of a household 15 years old or older","source":"[TO COME]","tooltipFormat":"$,.0f"},"homeownership":{"label":"Homeownership","units":"percentage","desc":"Percentage of households owned by the head of household","source":"[TO COME]","tooltipFormat":".1%"},"labor_force":{"label":"Labor force participation rate","units":"percentage","desc":"Percentage of people in the military or classified in the civilian labor force","source":"[TO COME]","tooltipFormat":".1%"},"unemployment":{"label":"Unemployment rate","units":"percentage","desc":"Percentage of the civilian work force that is unemployed","source":"[TO COME]","tooltipFormat":".1%"},"disability":{"label":"Disability","units":"percentage","desc":"Percentage of people with a disability (civilian noninstitutionalized population)","source":"[TO COME]","tooltipFormat":".1%"},"commute":{"label":"Commute to work","units":"percentage","desc":"Percentage of workers who commute to work","source":"[TO COME]","tooltipFormat":".1%"},"college":{"label":"College","units":"percentage","desc":"[TO COME]","source":"[TO COME]","tooltipFormat":".1%"},"pre_K":{"label":"Preschool enrollment rate","units":"percentage","desc":"Percentage of preschool-aged children enrolled in preschool","source":"[TO COME]","tooltipFormat":".1%"},"homicide_capita":{"label":"Homicide rate","units":"decimal","desc":"The number of homicides per 100,000 inhabitants","source":"[TO COME]","tooltipFormat":".1f"},"race1":"White","race2":"Black","race3":"Hispanic","race4":"Asian","age1":"< 35","age2":"35–64","age3":"65+"}')},function(t,e,n){t.exports=n.p+"54d338acbf7a58183d83bbe9df079329.svg"},function(t,e,n){},function(t,e,n){var r,i,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/* @license
Papa Parse
v5.0.1
https://github.com/mholt/PapaParse
License: MIT
*/i=[],void 0===(o="function"==typeof(r=function t(){"use strict";var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},n=!e.document&&!!e.postMessage,r=n&&/blob:/i.test((e.location||{}).protocol),i={},o=0,s={parse:function(n,r){var a=(r=r||{}).dynamicTyping||!1;if(w(a)&&(r.dynamicTypingFunction=a,a={}),r.dynamicTyping=a,r.transform=!!w(r.transform)&&r.transform,r.worker&&s.WORKERS_SUPPORTED){var u=function(){if(!s.WORKERS_SUPPORTED)return!1;var n,r,a=(n=e.URL||e.webkitURL||null,r=t.toString(),s.BLOB_URL||(s.BLOB_URL=n.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),u=new e.Worker(a);return u.onmessage=g,u.id=o++,i[u.id]=u}();return u.userStep=r.step,u.userChunk=r.chunk,u.userComplete=r.complete,u.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,void u.postMessage({input:n,config:r,workerId:u.id})}var c=null;return s.NODE_STREAM_INPUT,"string"==typeof n?c=r.download?new l(r):new p(r):!0===n.readable&&w(n.read)&&w(n.on)?c=new h(r):(e.File&&n instanceof File||n instanceof Object)&&(c=new f(r)),c.stream(n)},unparse:function(t,e){var n=!1,r=!0,i=",",o="\r\n",u='"',c=u+u,l=!1,f=null;!function(){if("object"==a(e)){if("string"!=typeof e.delimiter||s.BAD_DELIMITERS.filter(function(t){return-1!==e.delimiter.indexOf(t)}).length||(i=e.delimiter),("boolean"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(l=e.skipEmptyLines),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(u=e.quoteChar),"boolean"==typeof e.header&&(r=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");f=e.columns}void 0!==e.escapeChar&&(c=e.escapeChar+u)}}();var p=new RegExp(m(u),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return d(null,t,l);if("object"==a(t[0]))return d(f||h(t[0]),t,l)}else if("object"==a(t))return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:h(t.data[0])),Array.isArray(t.data[0])||"object"==a(t.data[0])||(t.data=[t.data])),d(t.fields||[],t.data||[],l);throw new Error("Unable to serialize unrecognized input");function h(t){if("object"!=a(t))return[];var e=[];for(var n in t)e.push(n);return e}function d(t,e,n){var a="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var s=Array.isArray(t)&&0<t.length,u=!Array.isArray(e[0]);if(s&&r){for(var c=0;c<t.length;c++)0<c&&(a+=i),a+=y(t[c],c);0<e.length&&(a+=o)}for(var l=0;l<e.length;l++){var f=s?t.length:e[l].length,p=!1,h=s?0===Object.keys(e[l]).length:0===e[l].length;if(n&&!s&&(p="greedy"===n?""===e[l].join("").trim():1===e[l].length&&0===e[l][0].length),"greedy"===n&&s){for(var d=[],m=0;m<f;m++){var g=u?t[m]:m;d.push(e[l][g])}p=""===d.join("").trim()}if(!p){for(var v=0;v<f;v++){0<v&&!h&&(a+=i);var _=s&&u?t[v]:v;a+=y(e[l][_],v)}l<e.length-1&&(!n||0<f&&!h)&&(a+=o)}}return a}function y(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);t=t.toString().replace(p,c);var r="boolean"==typeof n&&n||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(t,s.BAD_DELIMITERS)||-1<t.indexOf(i)||" "===t.charAt(0)||" "===t.charAt(t.length-1);return r?u+t+u:t}}};if(s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK="\ufeff",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!n&&!!e.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=y,s.ParserHandle=d,s.NetworkStreamer=l,s.FileStreamer=f,s.StringStreamer=p,s.ReadableStreamStreamer=h,e.jQuery){var u=e.jQuery;u.fn.parse=function(t){var n=t.config||{},r=[];return this.each(function(t){if("INPUT"!==u(this).prop("tagName").toUpperCase()||"file"!==u(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:u.extend({},n)})}),i(),this;function i(){if(0!==r.length){var e,n,i,c=r[0];if(w(t.before)){var l=t.before(c.file,c.inputElem);if("object"==a(l)){if("abort"===l.action)return e=c.file,n=c.inputElem,i=l.reason,void(w(t.error)&&t.error({name:"AbortError"},e,n,i));if("skip"===l.action)return void o();"object"==a(l.config)&&(c.instanceConfig=u.extend(c.instanceConfig,l.config))}else if("skip"===l)return void o()}var f=c.instanceConfig.complete;c.instanceConfig.complete=function(t){w(f)&&f(t,c.file,c.inputElem),o()},s.parse(c.file,c.instanceConfig)}else w(t.complete)&&t.complete()}function o(){r.splice(0,1),i()}}}function c(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=b(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new d(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,n){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(t);void 0!==i&&(t=i)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+t;this._partialLine="";var a=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=a.meta.cursor;this._finished||(this._partialLine=o.substring(u-this._baseIndex),this._baseIndex=u),a&&a.data&&(this._rowCount+=a.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)e.postMessage({results:a,workerId:s.WORKER_ID,finished:c});else if(w(this._config.chunk)&&!n){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!c||!w(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(t){w(this._config.error)?this._config.error(t):r&&this._config.error&&e.postMessage({workerId:s.WORKER_ID,error:t,finished:!1})}}function l(t){var e;(t=t||{}).chunkSize||(t.chunkSize=s.RemoteChunkSize),c.call(this,t),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),n||(e.onload=x(this._chunkLoaded,this),e.onerror=x(this._chunkError,this)),e.open("GET",this._input,!n),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var r in t)e.setRequestHeader(r,t[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{e.send()}catch(t){this._chunkError(t.message)}n&&0===e.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._finished=!this._config.chunkSize||this._start>function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substr(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(new Error(n))}}function f(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=s.LocalChunkSize),c.call(this,t);var r="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,r?((e=new FileReader).onload=x(this._chunkLoaded,this),e.onerror=x(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,i)}var o=e.readAsText(t,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function p(t){var e;c.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,n=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(n)}}}function h(t){c.call(this,t=t||{});var e=[],n=!0,r=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=x(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=x(function(t){this._streamCleanUp(),this._sendError(t)},this),this._streamEnd=x(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=x(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function d(t){var e,n,r,i=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,o=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,a=this,u=0,c=0,l=!1,f=!1,p=[],h={data:[],errors:[],meta:{}};if(w(t.step)){var d=t.step;t.step=function(e){if(h=e,_())v();else{if(v(),0===h.data.length)return;u+=e.data.length,t.preview&&u>t.preview?n.abort():d(h,a)}}}function g(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function v(){if(h&&r&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),r=!1),t.skipEmptyLines)for(var e=0;e<h.data.length;e++)g(h.data[e])&&h.data.splice(e--,1);return _()&&function(){if(h)if(Array.isArray(h.data[0])){for(var e=0;_()&&e<h.data.length;e++)h.data[e].forEach(n);h.data.splice(0,1)}else h.data.forEach(n);function n(e){w(t.transformHeader)&&(e=t.transformHeader(e)),p.push(e)}}(),function(){if(!h||!t.header&&!t.dynamicTyping&&!t.transform)return h;function e(e,n){var r,i=t.header?{}:[];for(r=0;r<e.length;r++){var o=r,a=e[r];t.header&&(o=r>=p.length?"__parsed_extra":p[r]),t.transform&&(a=t.transform(a,o)),a=x(o,a),"__parsed_extra"===o?(i[o]=i[o]||[],i[o].push(a)):i[o]=a}return t.header&&(r>p.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+p.length+" fields but parsed "+r,c+n):r<p.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+p.length+" fields but parsed "+r,c+n)),i}var n=1;return!h.data[0]||Array.isArray(h.data[0])?(h.data=h.data.map(e),n=h.data.length):h.data=e(h.data,0),t.header&&h.meta&&(h.meta.fields=p),c+=n,h}()}function _(){return t.header&&0===p.length}function x(e,n){return r=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[r]&&(t.dynamicTyping[r]=t.dynamicTypingFunction(r)),!0===(t.dynamicTyping[r]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(i.test(n)?parseFloat(n):o.test(n)?new Date(n):""===n?null:n):n;var r}function k(t,e,n,r){h.errors.push({type:t,code:e,message:n,row:r})}this.parse=function(i,o,a){var u=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substr(0,1048576);var n=new RegExp(m(e)+"([^]*?)"+m(e),"gm"),r=(t=t.replace(n,"")).split("\r"),i=t.split("\n"),o=1<i.length&&i[0].length<r[0].length;if(1===r.length||o)return"\n";for(var a=0,s=0;s<r.length;s++)"\n"===r[s][0]&&a++;return a>=r.length/2?"\r\n":"\r"}(i,u)),r=!1,t.delimiter)w(t.delimiter)&&(t.delimiter=t.delimiter(i),h.meta.delimiter=t.delimiter);else{var c=function(e,n,r,i,o){var a,u,c,l;o=o||[",","\t","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var f=0;f<o.length;f++){var p=o[f],h=0,d=0,m=0;c=void 0;for(var v=new y({comments:i,delimiter:p,newline:n,preview:10}).parse(e),_=0;_<v.data.length;_++)if(r&&g(v.data[_]))m++;else{var b=v.data[_].length;d+=b,void 0!==c?0<b&&(h+=Math.abs(b-c),c=b):c=b}0<v.data.length&&(d/=v.data.length-m),(void 0===u||h<=u)&&(void 0===l||l<d)&&1.99<d&&(u=h,a=p,l=d)}return{successful:!!(t.delimiter=a),bestDelimiter:a}}(i,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);c.successful?t.delimiter=c.bestDelimiter:(r=!0,t.delimiter=s.DefaultDelimiter),h.meta.delimiter=t.delimiter}var f=b(t);return t.preview&&t.header&&f.preview++,e=i,n=new y(f),h=n.parse(e,o,a),v(),l?{meta:{paused:!0}}:h||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,n.abort(),e=e.substr(n.getCharIndex())},this.resume=function(){a.streamer._halted?(l=!1,a.streamer.parseChunk(e,!0)):setTimeout(this.resume,3)},this.aborted=function(){return f},this.abort=function(){f=!0,n.abort(),h.meta.aborted=!0,w(t.complete)&&t.complete(h),e=""}}function m(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(t){var e,n=(t=t||{}).delimiter,r=t.newline,i=t.comments,o=t.step,a=t.preview,u=t.fastMode,c=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(c=t.escapeChar),("string"!=typeof n||-1<s.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<s.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var l=0,f=!1;this.parse=function(t,s,p){if("string"!=typeof t)throw new Error("Input must be a string");var h=t.length,d=n.length,y=r.length,g=i.length,v=w(o),_=[],b=[],x=[],k=l=0;if(!t)return B();if(u||!1!==u&&-1===t.indexOf(e)){for(var S=t.split(r),M=0;M<S.length;M++){if(x=S[M],l+=x.length,M!==S.length-1)l+=r.length;else if(p)return B();if(!i||x.substr(0,g)!==i){if(v){if(_=[],L(x.split(n)),$(),f)return B()}else L(x.split(n));if(a&&a<=M)return _=_.slice(0,a),B(!0)}}return B()}for(var E=t.indexOf(n,l),T=t.indexOf(r,l),O=new RegExp(m(c)+m(e),"g"),C=t.indexOf(e,l);;)if(t[l]!==e)if(i&&0===x.length&&t.substr(l,g)===i){if(-1===T)return B();l=T+y,T=t.indexOf(r,l),E=t.indexOf(n,l)}else{if(-1!==E&&(E<T||-1===T)){if(-1===C){x.push(t.substring(l,E)),l=E+d,E=t.indexOf(n,l);continue}var N=F(E,C,T);if(N&&N.nextDelim){E=N.nextDelim,C=N.quoteSearch,x.push(t.substring(l,E)),l=E+d,E=t.indexOf(n,l);continue}}if(-1===T)break;if(x.push(t.substring(l,T)),j(T+y),v&&($(),f))return B();if(a&&_.length>=a)return B(!0)}else for(C=l,l++;;){if(-1===(C=t.indexOf(e,C+1)))return p||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_.length,index:l}),I();if(C===h-1)return I(t.substring(l,C).replace(O,e));if(e!==c||t[C+1]!==c){if(e===c||0===C||t[C-1]!==c){var A=P(-1===T?E:Math.min(E,T));if(t[C+1+A]===n){x.push(t.substring(l,C).replace(O,e)),t[l=C+1+A+d]!==e&&(C=t.indexOf(e,l)),E=t.indexOf(n,l),T=t.indexOf(r,l);break}var D=P(T);if(t.substr(C+1+D,y)===r){if(x.push(t.substring(l,C).replace(O,e)),j(C+1+D+y),E=t.indexOf(n,l),C=t.indexOf(e,l),v&&($(),f))return B();if(a&&_.length>=a)return B(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:_.length,index:l}),C++}}else C++}return I();function L(t){_.push(t),k=l}function P(e){var n=0;if(-1!==e){var r=t.substring(C+1,e);r&&""===r.trim()&&(n=r.length)}return n}function I(e){return p||(void 0===e&&(e=t.substr(l)),x.push(e),l=h,L(x),v&&$()),B()}function j(e){l=e,L(x),x=[],T=t.indexOf(r,l)}function B(t,e){return{data:e?_[0]:_,errors:b,meta:{delimiter:n,linebreak:r,aborted:f,truncated:!!t,cursor:k+(s||0)}}}function $(){o(B(void 0,!0)),_=[],b=[]}function F(r,i,o){var a={nextDelim:void 0,quoteSearch:void 0},s=t.indexOf(e,i+1);if(i<r&&r<s&&(s<o||-1===o)){var u=t.indexOf(n,s);if(-1===u)return a;s<u&&(s=t.indexOf(e,s+1)),a=F(u,s,o)}else a={nextDelim:r,quoteSearch:i};return a}},this.abort=function(){f=!0},this.getCharIndex=function(){return l}}function g(t){var e=t.data,n=i[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){r=!0,v(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(w(n.userStep)){for(var a=0;a<e.results.data.length&&(n.userStep({data:e.results.data[a],errors:e.results.errors,meta:e.results.meta},o),!r);a++);delete e.results}else w(n.userChunk)&&(n.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!r&&v(e.workerId,e.results)}function v(t,e){var n=i[t];w(n.userComplete)&&n.userComplete(e),n.terminate(),delete i[t]}function _(){throw new Error("Not implemented.")}function b(t){if("object"!=a(t)||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=b(t[n]);return e}function x(t,e){return function(){t.apply(e,arguments)}}function w(t){return"function"==typeof t}return r&&(e.onmessage=function(t){var n=t.data;if(void 0===s.WORKER_ID&&n&&(s.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:s.WORKER_ID,results:s.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var r=s.parse(n.input,n.config);r&&e.postMessage({workerId:s.WORKER_ID,results:r,finished:!0})}}),(l.prototype=Object.create(c.prototype)).constructor=l,(f.prototype=Object.create(c.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(h.prototype=Object.create(c.prototype)).constructor=h,s})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";(function(t){for(
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.15.0
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document,r=["Edge","Trident","Firefox"],i=0,o=0;o<r.length;o+=1)if(n&&navigator.userAgent.indexOf(r[o])>=0){i=1;break}var a=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},i))}};function s(t){return t&&"[object Function]"==={}.toString.call(t)}function u(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function c(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function l(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=u(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:l(c(t))}var f=n&&!(!window.MSInputMethodContext||!document.documentMode),p=n&&/MSIE 10/.test(navigator.userAgent);function h(t){return 11===t?f:10===t?p:f||p}function d(t){if(!t)return document.documentElement;for(var e=h(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===u(n,"position")?d(n):n:t?t.ownerDocument.documentElement:document.documentElement}function m(t){return null!==t.parentNode?m(t.parentNode):t}function y(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a,s,u=o.commonAncestorContainer;if(t!==u&&e!==u||r.contains(i))return"BODY"===(s=(a=u).nodeName)||"HTML"!==s&&d(a.firstElementChild)!==a?d(u):u;var c=m(t);return c.host?y(c.host,e):y(t,m(e).host)}function g(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var r=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||r)[e]}return t[e]}function v(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+r+"Width"],10)}function _(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],h(10)?parseInt(n["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function b(t){var e=t.body,n=t.documentElement,r=h(10)&&getComputedStyle(n);return{height:_("Height",e,n,r),width:_("Width",e,n,r)}}var x=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),k=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function M(t){return S({},t,{right:t.left+t.width,bottom:t.top+t.height})}function E(t){var e={};try{if(h(10)){e=t.getBoundingClientRect();var n=g(t,"top"),r=g(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(t){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?b(t.ownerDocument):{},a=o.width||t.clientWidth||i.right-i.left,s=o.height||t.clientHeight||i.bottom-i.top,c=t.offsetWidth-a,l=t.offsetHeight-s;if(c||l){var f=u(t);c-=v(f,"x"),l-=v(f,"y"),i.width-=c,i.height-=l}return M(i)}function T(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=h(10),i="HTML"===e.nodeName,o=E(t),a=E(e),s=l(t),c=u(e),f=parseFloat(c.borderTopWidth,10),p=parseFloat(c.borderLeftWidth,10);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=M({top:o.top-a.top-f,left:o.left-a.left-p,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var m=parseFloat(c.marginTop,10),y=parseFloat(c.marginLeft,10);d.top-=f-m,d.bottom-=f-m,d.left-=p-y,d.right-=p-y,d.marginTop=m,d.marginLeft=y}return(r&&!n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=g(e,"top"),i=g(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}(d,e)),d}function O(t){if(!t||!t.parentElement||h())return document.documentElement;for(var e=t.parentElement;e&&"none"===u(e,"transform");)e=e.parentElement;return e||document.documentElement}function C(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?O(t):y(t,e);if("viewport"===r)o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,r=T(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:g(n),s=e?0:g(n,"left");return M({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o})}(a,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=l(c(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===r?t.ownerDocument.documentElement:r;var f=T(s,a,i);if("HTML"!==s.nodeName||function t(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===u(e,"position"))return!0;var r=c(e);return!!r&&t(r)}(a))o=f;else{var p=b(t.ownerDocument),h=p.height,d=p.width;o.top+=f.top-f.marginTop,o.bottom=h+f.top,o.left+=f.left-f.marginLeft,o.right=d+f.left}}var m="number"==typeof(n=n||0);return o.left+=m?n:n.left||0,o.top+=m?n:n.top||0,o.right-=m?n:n.right||0,o.bottom-=m?n:n.bottom||0,o}function N(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=C(n,r,o,i),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},u=Object.keys(s).map(function(t){return S({key:t},s[t],{area:(e=s[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),c=u.filter(function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight}),l=c.length>0?c[0].key:u[0].key,f=t.split("-")[1];return l+(f?"-"+f:"")}function A(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return T(n,r?O(e):y(e,n),r)}function D(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+r,height:t.offsetHeight+n}}function L(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function P(t,e,n){n=n.split("-")[0];var r=D(t),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",u=o?"height":"width",c=o?"width":"height";return i[a]=e[a]+e[u]/2-r[u]/2,i[s]=n===s?e[s]-r[c]:e[L(s)],i}function I(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function j(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var r=I(t,function(t){return t[e]===n});return t.indexOf(r)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&s(n)&&(e.offsets.popper=M(e.offsets.popper),e.offsets.reference=M(e.offsets.reference),e=n(e,t))}),e}function B(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function $(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],o=i?""+i+n:t;if(void 0!==document.body.style[o])return o}return null}function F(t){var e=t.ownerDocument;return e?e.defaultView:window}function R(t,e,n,r){n.updateBound=r,F(t).addEventListener("resize",n.updateBound,{passive:!0});var i=l(t);return function t(e,n,r,i){var o="BODY"===e.nodeName,a=o?e.ownerDocument.defaultView:e;a.addEventListener(n,r,{passive:!0}),o||t(l(a.parentNode),n,r,i),i.push(a)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function H(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,F(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function U(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function Y(t,e){Object.keys(e).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&U(e[n])&&(r="px"),t.style[n]=e[n]+r})}var z=n&&/Firefox/i.test(navigator.userAgent);function V(t,e,n){var r=I(t,function(t){return t.name===e}),i=!!r&&t.some(function(t){return t.name===n&&t.enabled&&t.order<r.order});if(!i){var o="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],W=q.slice(3);function X(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=W.indexOf(t),r=W.slice(n+1).concat(W.slice(0,n));return e?r.reverse():r}var K={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function Z(t,e,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=a.indexOf(I(a,function(t){return-1!==t.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return(c=c.map(function(t,r){var i=(1===r?!o:o)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return M(s)[e]/100*o}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(t,i,e,n)})})).forEach(function(t,e){t.forEach(function(n,r){U(n)&&(i[e]+=n*("-"===t[r-1]?-1:1))})}),i}var Q={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",c=s?"width":"height",l={start:k({},u,o[u]),end:k({},u,o[u]+o[c]-a[c])};t.offsets.popper=S({},a,l[r])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,r=t.placement,i=t.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],u=void 0;return u=U(+n)?[+n,0]:Z(n,o,a,s),"left"===s?(o.top+=u[0],o.left-=u[1]):"right"===s?(o.top+=u[0],o.left+=u[1]):"top"===s?(o.left+=u[0],o.top-=u[1]):"bottom"===s&&(o.left+=u[0],o.top+=u[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||d(t.instance.popper);t.instance.reference===n&&(n=d(n));var r=$("transform"),i=t.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var u=C(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=o,i.left=a,i[r]=s,e.boundaries=u;var c=e.priority,l=t.offsets.popper,f={primary:function(t){var n=l[t];return l[t]<u[t]&&!e.escapeWithReference&&(n=Math.max(l[t],u[t])),k({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=l[n];return l[t]>u[t]&&!e.escapeWithReference&&(r=Math.min(l[n],u[t]-("right"===t?l.width:l.height))),k({},n,r)}};return c.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";l=S({},l,f[e](t))}),t.offsets.popper=l,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",u=a?"left":"top",c=a?"width":"height";return n[s]<o(r[u])&&(t.offsets.popper[u]=o(r[u])-n[c]),n[u]>o(r[s])&&(t.offsets.popper[u]=o(r[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!V(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],o=t.offsets,a=o.popper,s=o.reference,c=-1!==["left","right"].indexOf(i),l=c?"height":"width",f=c?"Top":"Left",p=f.toLowerCase(),h=c?"left":"top",d=c?"bottom":"right",m=D(r)[l];s[d]-m<a[p]&&(t.offsets.popper[p]-=a[p]-(s[d]-m)),s[p]+m>a[d]&&(t.offsets.popper[p]+=s[p]+m-a[d]),t.offsets.popper=M(t.offsets.popper);var y=s[p]+s[l]/2-m/2,g=u(t.instance.popper),v=parseFloat(g["margin"+f],10),_=parseFloat(g["border"+f+"Width"],10),b=y-t.offsets.popper[p]-v-_;return b=Math.max(Math.min(a[l]-m,b),0),t.arrowElement=r,t.offsets.arrow=(k(n={},p,Math.round(b)),k(n,h,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(B(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=C(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=L(r),o=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case K.FLIP:a=[r,i];break;case K.CLOCKWISE:a=X(r);break;case K.COUNTERCLOCKWISE:a=X(r,!0);break;default:a=e.behavior}return a.forEach(function(s,u){if(r!==s||a.length===u+1)return t;r=t.placement.split("-")[0],i=L(r);var c=t.offsets.popper,l=t.offsets.reference,f=Math.floor,p="left"===r&&f(c.right)>f(l.left)||"right"===r&&f(c.left)<f(l.right)||"top"===r&&f(c.bottom)>f(l.top)||"bottom"===r&&f(c.top)<f(l.bottom),h=f(c.left)<f(n.left),d=f(c.right)>f(n.right),m=f(c.top)<f(n.top),y=f(c.bottom)>f(n.bottom),g="left"===r&&h||"right"===r&&d||"top"===r&&m||"bottom"===r&&y,v=-1!==["top","bottom"].indexOf(r),_=!!e.flipVariations&&(v&&"start"===o&&h||v&&"end"===o&&d||!v&&"start"===o&&m||!v&&"end"===o&&y),b=!!e.flipVariationsByContent&&(v&&"start"===o&&d||v&&"end"===o&&h||!v&&"start"===o&&y||!v&&"end"===o&&m),x=_||b;(p||g||x)&&(t.flipped=!0,(p||g)&&(r=a[u+1]),x&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=r+(o?"-"+o:""),t.offsets.popper=S({},t.offsets.popper,P(t.instance.popper,t.offsets.reference,t.placement)),t=j(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),t.placement=L(e),t.offsets.popper=M(i),t}},hide:{order:800,enabled:!0,fn:function(t){if(!V(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=I(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,r=e.y,i=t.offsets.popper,o=I(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:e.gpuAcceleration,s=d(t.instance.popper),u=E(s),c={position:i.position},l=function(t,e){var n=t.offsets,r=n.popper,i=n.reference,o=Math.round,a=Math.floor,s=function(t){return t},u=o(i.width),c=o(r.width),l=-1!==["left","right"].indexOf(t.placement),f=-1!==t.placement.indexOf("-"),p=e?l||f||u%2==c%2?o:a:s,h=e?o:s;return{left:p(u%2==1&&c%2==1&&!f&&e?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:p(r.right)}}(t,window.devicePixelRatio<2||!z),f="bottom"===n?"top":"bottom",p="right"===r?"left":"right",h=$("transform"),m=void 0,y=void 0;if(y="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-u.height+l.bottom:l.top,m="right"===p?"HTML"===s.nodeName?-s.clientWidth+l.right:-u.width+l.right:l.left,a&&h)c[h]="translate3d("+m+"px, "+y+"px, 0)",c[f]=0,c[p]=0,c.willChange="transform";else{var g="bottom"===f?-1:1,v="right"===p?-1:1;c[f]=y*g,c[p]=m*v,c.willChange=f+", "+p}var _={"x-placement":t.placement};return t.attributes=S({},_,t.attributes),t.styles=S({},c,t.styles),t.arrowStyles=S({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return Y(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&Y(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,r,i){var o=A(i,e,t,n.positionFixed),a=N(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),Y(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},J=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};x(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=a(this.update.bind(this)),this.options=S({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(S({},t.Defaults.modifiers,i.modifiers)).forEach(function(e){r.options.modifiers[e]=S({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return S({name:t},r.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&s(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return w(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=A(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=N(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=P(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=j(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,B(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[$("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=R(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return H.call(this)}}]),t}();J.Utils=("undefined"!=typeof window?window:t).PopperUtils,J.placements=q,J.Defaults=Q,e.a=J}).call(this,n(15))},function(t,e,n){t.exports=n.p+"data/dashboard-data-2.csv?v=f04ad5"},function(t,e){t.exports='<p>The State of 10 Cities, an interactive resource from The Pew Charitable Trusts, allows you to analyze data from 10 U.S. cities on key economic, social, and demographic indicators over the past decade. With this tool, you can:</p>\n<ul style="list-style-type: disc;">\n    <li>Compare cities over time or with each other.</li>\n    <li>Separate data for certain indicators by age and race.</li>\n    <li>Gain insights into how cities have changed on 14 key measures over the past decade.</li>\n</ul>\n<p>The interactive’s primary purpose is to provide insights into where Philadelphia and peer cities stand on a range of important metrics, including population, employment, and homeownership. This tool is not meant to be a comprehensive assessment of a city; rather, it selectively presents data that are available across cities and over time—and illustrates differences between cities.</p>\n<div skip="true" class="rich-text__expand-button l-rte-collapse-text"><input type="button" class="rte-expand-button" value="Read more"></div>\n<p><strong>How are the cities chosen?<br>\n    </strong>This tool utilizes cities that Pew has used for comparison to Philadelphia in its annual <em>State of the City</em> reports, based on economic, social, population, and geographical considerations. The comparison cities are Baltimore, Boston, Chicago, Cleveland, Detroit, Houston, Phoenix, Pittsburgh, and Washington.</p>\n<p><strong>How are the indicators chosen?<br>\n    </strong>The State of 10 Cities uses indicators that are available across cities, updated on a yearly basis, and considered central to a city’s condition. Where possible, the tool breaks down the indicators by age and race.</p>\n<p><strong>Where do the data come from?<br>\n    </strong>The State of 10 Cities draws on data from several federal agencies, including the U.S. Census Bureau, the Bureau of Labor Statistics, and the Federal Bureau of Investigation.</p>'},function(t,e,n){t.exports=n(19)},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}t.exports=r},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r=n(3),i=n.n(r),o=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},a=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return o(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};var s=a(o),u=s.right,c=(s.left,u);var l=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},f=Array.prototype,p=(f.slice,f.map,function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}),h=Math.sqrt(50),d=Math.sqrt(10),m=Math.sqrt(2),y=function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=g(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o};function g(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=h?10:o>=d?5:o>=m?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=h?10:o>=d?5:o>=m?2:1)}function v(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=h?i*=10:o>=d?i*=5:o>=m&&(i*=2),e<t?-i:i}var _=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r};var b=Array.prototype.slice,x=function(t){return t},w=1,k=2,S=3,M=4,E=1e-6;function T(t){return"translate("+(t+.5)+",0)"}function O(t){return"translate(0,"+(t+.5)+")"}function C(){return!this.__axis}function N(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,u=t===w||t===M?-1:1,c=t===M||t===k?"x":"y",l=t===w||t===S?T:O;function f(f){var p=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,h=null==i?e.tickFormat?e.tickFormat.apply(e,n):x:i,d=Math.max(o,0)+s,m=e.range(),y=+m[0]+.5,g=+m[m.length-1]+.5,v=(e.bandwidth?function(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}:function(t){return function(e){return+t(e)}})(e.copy()),_=f.selection?f.selection():f,b=_.selectAll(".domain").data([null]),T=_.selectAll(".tick").data(p,e).order(),O=T.exit(),N=T.enter().append("g").attr("class","tick"),A=T.select("line"),D=T.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(N),A=A.merge(N.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),D=D.merge(N.append("text").attr("fill","currentColor").attr(c,u*d).attr("dy",t===w?"0em":t===S?"0.71em":"0.32em")),f!==_&&(b=b.transition(f),T=T.transition(f),A=A.transition(f),D=D.transition(f),O=O.transition(f).attr("opacity",E).attr("transform",function(t){return isFinite(t=v(t))?l(t):this.getAttribute("transform")}),N.attr("opacity",E).attr("transform",function(t){var e=this.parentNode.__axis;return l(e&&isFinite(e=e(t))?e:v(t))})),O.remove(),b.attr("d",t===M||t==k?a?"M"+u*a+","+y+"H0.5V"+g+"H"+u*a:"M0.5,"+y+"V"+g:a?"M"+y+","+u*a+"V0.5H"+g+"V"+u*a:"M"+y+",0.5H"+g),T.attr("opacity",1).attr("transform",function(t){return l(v(t))}),A.attr(c+"2",u*o),D.attr(c,u*d).text(h),_.filter(C).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===k?"start":t===M?"end":"middle"),_.each(function(){this.__axis=v})}return f.scale=function(t){return arguments.length?(e=t,f):e},f.ticks=function(){return n=b.call(arguments),f},f.tickArguments=function(t){return arguments.length?(n=null==t?[]:b.call(t),f):n.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:b.call(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(i=t,f):i},f.tickSize=function(t){return arguments.length?(o=a=+t,f):o},f.tickSizeInner=function(t){return arguments.length?(o=+t,f):o},f.tickSizeOuter=function(t){return arguments.length?(a=+t,f):a},f.tickPadding=function(t){return arguments.length?(s=+t,f):s},f}function A(){}function D(t,e){var n=new A;if(t instanceof A)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}A.prototype=D.prototype={constructor:A,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var L=D;function P(){return{}}function I(t,e,n){t[e]=n}function j(){return L()}function B(t,e,n){t.set(e,n)}function $(){}var F=L.prototype;function R(t,e){var n=new $;if(t instanceof $)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}$.prototype=R.prototype={constructor:$,has:F.has,add:function(t){return this["$"+(t+="")]=t,this},remove:F.remove,clear:F.clear,values:F.keys,size:F.size,empty:F.empty,each:F.each};var H=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},U=function(t){return(t=H(Math.abs(t)))?t[1]:NaN},Y=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function z(t){return new V(t)}function V(t){if(!(e=Y.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}z.prototype=V.prototype,V.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var q,W,X,K,Z=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t},Q=function(t,e){var n=H(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},J={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Q(100*t,e)},r:Q,s:function(t,e){var n=H(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(q=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+H(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},G=function(t){return t},tt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],et=function(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}):G,i=t.currency,o=t.decimal,a=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):G,s=t.percent||"%";function u(t){var e=(t=z(t)).fill,n=t.align,u=t.sign,c=t.symbol,l=t.zero,f=t.width,p=t.comma,h=t.precision,d=t.trim,m=t.type;"n"===m?(p=!0,m="g"):J[m]||(null==h&&(h=12),d=!0,m="g"),(l||"0"===e&&"="===n)&&(l=!0,e="0",n="=");var y="$"===c?i[0]:"#"===c&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",g="$"===c?i[1]:/[%p]/.test(m)?s:"",v=J[m],_=/[defgprs%]/.test(m);function b(t){var i,s,c,b=y,x=g;if("c"===m)x=v(t)+x,t="";else{var w=(t=+t)<0;if(t=v(Math.abs(t),h),d&&(t=Z(t)),w&&0==+t&&(w=!1),b=(w?"("===u?u:"-":"-"===u||"("===u?"":u)+b,x=("s"===m?tt[8+q/3]:"")+x+(w&&"("===u?")":""),_)for(i=-1,s=t.length;++i<s;)if(48>(c=t.charCodeAt(i))||c>57){x=(46===c?o+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}p&&!l&&(t=r(t,1/0));var k=b.length+t.length+x.length,S=k<f?new Array(f-k+1).join(e):"";switch(p&&l&&(t=r(S+t,S.length?f-x.length:1/0),S=""),n){case"<":t=b+t+x+S;break;case"=":t=b+S+t+x;break;case"^":t=S.slice(0,k=S.length>>1)+b+t+x+S.slice(k);break;default:t=S+b+t+x}return a(t)}return h=null==h?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),b.toString=function(){return t+""},b}return{format:u,formatPrefix:function(t,e){var n=u(((t=z(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(U(e)/3))),i=Math.pow(10,-r),o=tt[8+r/3];return function(t){return n(i*t)+o}}}};W=et({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),X=W.format,K=W.formatPrefix;function nt(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,c,l,f,p,h=t._root,d={data:r},m=t._x0,y=t._y0,g=t._x1,v=t._y1;if(!h)return t._root=d,t;for(;h.length;)if((c=e>=(o=(m+g)/2))?m=o:g=o,(l=n>=(a=(y+v)/2))?y=a:v=a,i=h,!(h=h[f=l<<1|c]))return i[f]=d,t;if(s=+t._x.call(null,h.data),u=+t._y.call(null,h.data),e===s&&n===u)return d.next=h,i?i[f]=d:t._root=d,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=e>=(o=(m+g)/2))?m=o:g=o,(l=n>=(a=(y+v)/2))?y=a:v=a}while((f=l<<1|c)==(p=(u>=a)<<1|s>=o));return i[p]=h,i[f]=d,t}var rt=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function it(t){return t[0]}function ot(t){return t[1]}function at(t,e,n){var r=new st(null==e?it:e,null==n?ot:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function st(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ut(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var ct=at.prototype=st.prototype;ct.copy=function(){var t,e,n=new st(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=ut(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=ut(e));return n},ct.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return nt(this.cover(e,n),e,n,t)},ct.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(u>l||c>f)return this;for(this.cover(u,c).cover(l,f),n=0;n<o;++n)nt(this,a[n],s[n],t[n]);return this},ct.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,u=i-n,c=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=c,c=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},ct.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},ct.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ct.find=function(t,e,n){var r,i,o,a,s,u,c,l=this._x0,f=this._y0,p=this._x1,h=this._y1,d=[],m=this._root;for(m&&d.push(new rt(m,l,f,p,h)),null==n?n=1/0:(l=t-n,f=e-n,p=t+n,h=e+n,n*=n);u=d.pop();)if(!(!(m=u.node)||(i=u.x0)>p||(o=u.y0)>h||(a=u.x1)<l||(s=u.y1)<f))if(m.length){var y=(i+a)/2,g=(o+s)/2;d.push(new rt(m[3],y,g,a,s),new rt(m[2],i,g,y,s),new rt(m[1],y,o,a,g),new rt(m[0],i,o,y,g)),(c=(e>=g)<<1|t>=y)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-c],d[d.length-1-c]=u)}else{var v=t-+this._x.call(null,m.data),_=e-+this._y.call(null,m.data),b=v*v+_*_;if(b<n){var x=Math.sqrt(n=b);l=t-x,f=e-x,p=t+x,h=e+x,r=m.data}}return r},ct.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,c,l,f,p,h=this._root,d=this._x0,m=this._y0,y=this._x1,g=this._y1;if(!h)return this;if(h.length)for(;;){if((c=o>=(s=(d+y)/2))?d=s:y=s,(l=a>=(u=(m+g)/2))?m=u:g=u,e=h,!(h=h[f=l<<1|c]))return this;if(!h.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,p=f)}for(;h.data!==t;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(h=e[0]||e[1]||e[2]||e[3])&&h===(e[3]||e[2]||e[1]||e[0])&&!h.length&&(n?n[p]=h:this._root=h),this):(this._root=i,this)},ct.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},ct.root=function(){return this._root},ct.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},ct.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new rt(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var c=(r+o)/2,l=(i+a)/2;(n=u[3])&&s.push(new rt(n,c,l,o,a)),(n=u[2])&&s.push(new rt(n,r,l,c,a)),(n=u[1])&&s.push(new rt(n,c,i,o,l)),(n=u[0])&&s.push(new rt(n,r,i,c,l))}return this},ct.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new rt(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,c=e.y1,l=(a+u)/2,f=(s+c)/2;(o=i[0])&&n.push(new rt(o,a,s,l,f)),(o=i[1])&&n.push(new rt(o,l,s,u,f)),(o=i[2])&&n.push(new rt(o,a,f,l,c)),(o=i[3])&&n.push(new rt(o,l,f,u,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},ct.x=function(t){return arguments.length?(this._x=t,this):this._x},ct.y=function(t){return arguments.length?(this._y=t,this):this._y};var lt=function(t){return function(){return t}},ft=function(){return 1e-6*(Math.random()-.5)};function pt(t){return t.x+t.vx}function ht(t){return t.y+t.vy}var dt={value:function(){}};function mt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new yt(r)}function yt(t){this._=t}function gt(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function vt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function _t(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=dt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}yt.prototype=mt.prototype={constructor:yt,on:function(t,e){var n,r=this._,i=gt(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=_t(r[n],t.name,e);else if(null==e)for(n in r)r[n]=_t(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=vt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new yt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var bt=mt;function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var wt,kt,St=0,Mt=0,Et=0,Tt=1e3,Ot=0,Ct=0,Nt=0,At="object"===("undefined"==typeof performance?"undefined":xt(performance))&&performance.now?performance:Date,Dt="object"===("undefined"==typeof window?"undefined":xt(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Lt(){return Ct||(Dt(Pt),Ct=At.now()+Nt)}function Pt(){Ct=0}function It(){this._call=this._time=this._next=null}function jt(t,e,n){var r=new It;return r.restart(t,e,n),r}function Bt(){Ct=(Ot=At.now())+Nt,St=Mt=0;try{!function(){Lt(),++St;for(var t,e=wt;e;)(t=Ct-e._time)>=0&&e._call.call(null,t),e=e._next;--St}()}finally{St=0,function(){var t,e,n=wt,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:wt=e);kt=t,Ft(r)}(),Ct=0}}function $t(){var t=At.now(),e=t-Ot;e>Tt&&(Nt-=e,Ot=t)}function Ft(t){St||(Mt&&(Mt=clearTimeout(Mt)),t-Ct>24?(t<1/0&&(Mt=setTimeout(Bt,t-At.now()-Nt)),Et&&(Et=clearInterval(Et))):(Et||(Ot=At.now(),Et=setInterval($t,Tt)),St=1,Dt(Bt)))}It.prototype=jt.prototype={constructor:It,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Lt():+n)+(null==e?0:+e),this._next||kt===this||(kt?kt._next=this:wt=this,kt=this),this._call=t,this._time=n,Ft()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ft())}};function Rt(t){return t.x}function Ht(t){return t.y}var Ut=10,Yt=Math.PI*(3-Math.sqrt(5)),zt=Math.PI,Vt=2*zt,qt=Vt-1e-6;function Wt(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Xt(){return new Wt}Wt.prototype=Xt.prototype={constructor:Wt,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,c=o-t,l=a-e,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(l*s-u*c)>1e-6&&i){var p=n-o,h=r-a,d=s*s+u*u,m=p*p+h*h,y=Math.sqrt(d),g=Math.sqrt(f),v=i*Math.tan((zt-Math.acos((d+f-m)/(2*y*g)))/2),_=v/g,b=v/y;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*c)+","+(e+_*l)),this._+="A"+i+","+i+",0,0,"+ +(l*p>c*h)+","+(this._x1=t+b*s)+","+(this._y1=e+b*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,c=e+s,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%Vt+Vt),f>qt?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=zt)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Kt=Xt;function Zt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Qt=Array.prototype,Jt=Qt.map,Gt=Qt.slice,te={name:"implicit"};function ee(){var t=L(),e=[],n=[],r=te;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==te)return r;t.set(o,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=L();for(var r,o,a=-1,s=n.length;++a<s;)t.has(o=(r=n[a])+"")||t.set(o,e.push(r));return i},i.range=function(t){return arguments.length?(n=Gt.call(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return ee(e,n).unknown(r)},Zt.apply(i,arguments),i}var ne=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function re(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ie(){}var oe="\\s*([+-]?\\d+)\\s*",ae="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",se="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ue=/^#([0-9a-f]{3})$/,ce=/^#([0-9a-f]{6})$/,le=new RegExp("^rgb\\("+[oe,oe,oe]+"\\)$"),fe=new RegExp("^rgb\\("+[se,se,se]+"\\)$"),pe=new RegExp("^rgba\\("+[oe,oe,oe,ae]+"\\)$"),he=new RegExp("^rgba\\("+[se,se,se,ae]+"\\)$"),de=new RegExp("^hsl\\("+[ae,se,se]+"\\)$"),me=new RegExp("^hsla\\("+[ae,se,se,ae]+"\\)$"),ye={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ge(){return this.rgb().formatHex()}function ve(){return this.rgb().formatRgb()}function _e(t){var e;return t=(t+"").trim().toLowerCase(),(e=ue.exec(t))?new Se((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=ce.exec(t))?be(parseInt(e[1],16)):(e=le.exec(t))?new Se(e[1],e[2],e[3],1):(e=fe.exec(t))?new Se(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=pe.exec(t))?xe(e[1],e[2],e[3],e[4]):(e=he.exec(t))?xe(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=de.exec(t))?Oe(e[1],e[2]/100,e[3]/100,1):(e=me.exec(t))?Oe(e[1],e[2]/100,e[3]/100,e[4]):ye.hasOwnProperty(t)?be(ye[t]):"transparent"===t?new Se(NaN,NaN,NaN,0):null}function be(t){return new Se(t>>16&255,t>>8&255,255&t,1)}function xe(t,e,n,r){return r<=0&&(t=e=n=NaN),new Se(t,e,n,r)}function we(t){return t instanceof ie||(t=_e(t)),t?new Se((t=t.rgb()).r,t.g,t.b,t.opacity):new Se}function ke(t,e,n,r){return 1===arguments.length?we(t):new Se(t,e,n,null==r?1:r)}function Se(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Me(){return"#"+Te(this.r)+Te(this.g)+Te(this.b)}function Ee(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Te(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Oe(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ae(t,e,n,r)}function Ce(t){if(t instanceof Ae)return new Ae(t.h,t.s,t.l,t.opacity);if(t instanceof ie||(t=_e(t)),!t)return new Ae;if(t instanceof Ae)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Ae(a,s,u,t.opacity)}function Ne(t,e,n,r){return 1===arguments.length?Ce(t):new Ae(t,e,n,null==r?1:r)}function Ae(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function De(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}ne(ie,_e,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ge,formatHex:ge,formatHsl:function(){return Ce(this).formatHsl()},formatRgb:ve,toString:ve}),ne(Se,ke,re(ie,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Se(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Se(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Me,formatHex:Me,formatRgb:Ee,toString:Ee})),ne(Ae,Ne,re(ie,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ae(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ae(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Se(De(t>=240?t-240:t+120,i,r),De(t,i,r),De(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Le=Math.PI/180,Pe=180/Math.PI,Ie=.96422,je=1,Be=.82521,$e=4/29,Fe=6/29,Re=3*Fe*Fe,He=Fe*Fe*Fe;function Ue(t){if(t instanceof ze)return new ze(t.l,t.a,t.b,t.opacity);if(t instanceof Qe)return Je(t);t instanceof Se||(t=we(t));var e,n,r=Xe(t.r),i=Xe(t.g),o=Xe(t.b),a=Ve((.2225045*r+.7168786*i+.0606169*o)/je);return r===i&&i===o?e=n=a:(e=Ve((.4360747*r+.3850649*i+.1430804*o)/Ie),n=Ve((.0139322*r+.0971045*i+.7141733*o)/Be)),new ze(116*a-16,500*(e-a),200*(a-n),t.opacity)}function Ye(t,e,n,r){return 1===arguments.length?Ue(t):new ze(t,e,n,null==r?1:r)}function ze(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Ve(t){return t>He?Math.pow(t,1/3):t/Re+$e}function qe(t){return t>Fe?t*t*t:Re*(t-$e)}function We(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Xe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ke(t){if(t instanceof Qe)return new Qe(t.h,t.c,t.l,t.opacity);if(t instanceof ze||(t=Ue(t)),0===t.a&&0===t.b)return new Qe(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Pe;return new Qe(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ze(t,e,n,r){return 1===arguments.length?Ke(t):new Qe(t,e,n,null==r?1:r)}function Qe(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Je(t){if(isNaN(t.h))return new ze(t.l,0,0,t.opacity);var e=t.h*Le;return new ze(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}ne(ze,Ye,re(ie,{brighter:function(t){return new ze(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ze(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Se(We(3.1338561*(e=Ie*qe(e))-1.6168667*(t=je*qe(t))-.4906146*(n=Be*qe(n))),We(-.9787684*e+1.9161415*t+.033454*n),We(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),ne(Qe,Ze,re(ie,{brighter:function(t){return new Qe(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Qe(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Je(this).rgb()}}));var Ge=-.14861,tn=1.78277,en=-.29227,nn=-.90649,rn=1.97294,on=rn*nn,an=rn*tn,sn=tn*en-nn*Ge;function un(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof cn)return new cn(t.h,t.s,t.l,t.opacity);t instanceof Se||(t=we(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(sn*r+on*e-an*n)/(sn+on-an),o=r-i,a=(rn*(n-i)-en*o)/nn,s=Math.sqrt(a*a+o*o)/(rn*i*(1-i)),u=s?Math.atan2(a,o)*Pe-120:NaN;return new cn(u<0?u+360:u,s,i,t.opacity)}(t):new cn(t,e,n,null==r?1:r)}function cn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ln(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}ne(cn,un,re(ie,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new cn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new cn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Le,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Se(255*(e+n*(Ge*r+tn*i)),255*(e+n*(en*r+nn*i)),255*(e+n*(rn*r)),this.opacity)}}));var fn=function(t){return function(){return t}};function pn(t,e){return function(n){return t+n*e}}function hn(t,e){var n=e-t;return n?pn(t,n>180||n<-180?n-360*Math.round(n/360):n):fn(isNaN(t)?e:t)}function dn(t){return 1==(t=+t)?mn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):fn(isNaN(e)?n:e)}}function mn(t,e){var n=e-t;return n?pn(t,n):fn(isNaN(t)?e:t)}var yn=function t(e){var n=dn(e);function r(t,e){var r=n((t=ke(t)).r,(e=ke(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=mn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function gn(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=ke(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}gn(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return ln((n-r/e)*e,a,i,o,s)}}),gn(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return ln((n-r/e)*e,i,o,a,s)}});var vn=function(t,e){return e-=t=+t,function(n){return t+e*n}};function _n(t){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var bn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xn=new RegExp(bn.source,"g");function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var kn,Sn,Mn,En,Tn=function(t,e){var n,r=wn(e);return null==e||"boolean"===r?fn(e):("number"===r?vn:"string"===r?(n=_e(e))?(e=n,yn):function(t,e){var n,r,i,o=bn.lastIndex=xn.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=bn.exec(t))&&(r=xn.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:vn(n,r)})),o=xn.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}:e instanceof _e?yn:e instanceof Date?function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}:Array.isArray(e)?function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Tn(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},i={};for(n in null!==t&&"object"===_n(t)||(t={}),null!==e&&"object"===_n(e)||(e={}),e)n in t?r[n]=Tn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}:vn)(t,e)},On=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},Cn=180/Math.PI,Nn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},An=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Cn,skewX:Math.atan(u)*Cn,scaleX:a,scaleY:s}};function Dn(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:vn(t,i)},{i:u-2,x:vn(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:vn(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:vn(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:vn(t,n)},{i:s-2,x:vn(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}Dn(function(t){return"none"===t?Nn:(kn||(kn=document.createElement("DIV"),Sn=document.documentElement,Mn=document.defaultView),kn.style.transform=t,t=Mn.getComputedStyle(Sn.appendChild(kn),null).getPropertyValue("transform"),Sn.removeChild(kn),t=t.slice(7,-1).split(","),An(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Dn(function(t){return null==t?Nn:(En||(En=document.createElementNS("http://www.w3.org/2000/svg","g")),En.setAttribute("transform",t),(t=En.transform.baseVal.consolidate())?(t=t.matrix,An(t.a,t.b,t.c,t.d,t.e,t.f)):Nn)},", ",")",")"),Math.SQRT2;function Ln(t){return function(e,n){var r=t((e=Ne(e)).h,(n=Ne(n)).h),i=mn(e.s,n.s),o=mn(e.l,n.l),a=mn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}Ln(hn),Ln(mn);function Pn(t){return function(e,n){var r=t((e=Ze(e)).h,(n=Ze(n)).h),i=mn(e.c,n.c),o=mn(e.l,n.l),a=mn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}Pn(hn),Pn(mn);function In(t){return function e(n){function r(e,r){var i=t((e=un(e)).h,(r=un(r)).h),o=mn(e.s,r.s),a=mn(e.l,r.l),s=mn(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}In(hn),In(mn);var jn=function(t){return function(){return t}},Bn=function(t){return+t},$n=[0,1];function Fn(t){return t}function Rn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:jn(isNaN(e)?NaN:.5)}function Hn(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Un(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Rn(i,r),o=n(a,o)):(r=Rn(r,i),o=n(o,a)),function(t){return o(r(t))}}function Yn(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Rn(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=c(t,e,1,r)-1;return o[n](i[n](e))}}function zn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vn(){var t,e,n,r,i,o,a=$n,s=$n,u=Tn,c=Fn;function l(){return r=Math.min(a.length,s.length)>2?Yn:Un,i=o=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(s,a.map(t),vn)))(n)))},f.domain=function(t){return arguments.length?(a=Jt.call(t,Bn),c===Fn||(c=Hn(a)),l()):a.slice()},f.range=function(t){return arguments.length?(s=Gt.call(t),l()):s.slice()},f.rangeRound=function(t){return s=Gt.call(t),u=On,l()},f.clamp=function(t){return arguments.length?(c=t?Hn(a):Fn,f):c!==Fn},f.interpolate=function(t){return arguments.length?(u=t,l()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}function qn(t,e){return Vn()(t,e)}var Wn=function(t,e,n,r){var i,o=v(t,e,n);switch((r=z(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(U(e)/3)))-U(Math.abs(t)))}(o,a))||(r.precision=i),K(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,U(e)-U(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-U(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return X(r)};function Xn(t){var e=t.domain;return t.ticks=function(t){var n=e();return y(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Wn(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=g(s,u,n))>0?r=g(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=g(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,e(i)),t},t}var Kn=function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t};function Zn(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Qn(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Jn(t){return t<0?-t*t:t*t}function Gn(t){var e=t(Fn,Fn),n=1;function r(){return 1===n?t(Fn,Fn):.5===n?t(Qn,Jn):t(Zn(n),Zn(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Xn(e)}var tr=new Date,er=new Date;function nr(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return nr(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return tr.setTime(+e),er.setTime(+r),t(tr),t(er),Math.floor(n(tr,er))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var rr=nr(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});rr.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?nr(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):rr:null};var ir=rr,or=(rr.range,6e4),ar=6048e5,sr=nr(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),ur=sr,cr=(sr.range,nr(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*or)},function(t,e){return(e-t)/or},function(t){return t.getMinutes()})),lr=cr,fr=(cr.range,nr(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*or)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()})),pr=fr,hr=(fr.range,nr(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*or)/864e5},function(t){return t.getDate()-1})),dr=hr;hr.range;function mr(t){return nr(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*or)/ar})}var yr=mr(0),gr=mr(1),vr=mr(2),_r=mr(3),br=mr(4),xr=mr(5),wr=mr(6),kr=(yr.range,gr.range,vr.range,_r.range,br.range,xr.range,wr.range,nr(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),Sr=kr,Mr=(kr.range,nr(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));Mr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?nr(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Er=Mr,Tr=(Mr.range,nr(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*or)},function(t,e){return(e-t)/or},function(t){return t.getUTCMinutes()})),Or=(Tr.range,nr(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()})),Cr=(Or.range,nr(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1})),Nr=Cr;Cr.range;function Ar(t){return nr(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/ar})}var Dr=Ar(0),Lr=Ar(1),Pr=Ar(2),Ir=Ar(3),jr=Ar(4),Br=Ar(5),$r=Ar(6),Fr=(Dr.range,Lr.range,Pr.range,Ir.range,jr.range,Br.range,$r.range,nr(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),Rr=(Fr.range,nr(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));Rr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?nr(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Hr=Rr;Rr.range;function Ur(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Yr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zr(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var Vr,qr,Wr,Xr,Kr,Zr={"-":"",_:" ",0:"0"},Qr=/^\s*\d+/,Jr=/^%/,Gr=/[\\^$*+?|[\]().{}]/g;function ti(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ei(t){return t.replace(Gr,"\\$&")}function ni(t){return new RegExp("^(?:"+t.map(ei).join("|")+")","i")}function ri(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function ii(t,e,n){var r=Qr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function oi(t,e,n){var r=Qr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ai(t,e,n){var r=Qr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function si(t,e,n){var r=Qr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ui(t,e,n){var r=Qr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ci(t,e,n){var r=Qr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function li(t,e,n){var r=Qr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fi(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pi(t,e,n){var r=Qr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function hi(t,e,n){var r=Qr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function di(t,e,n){var r=Qr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function mi(t,e,n){var r=Qr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function yi(t,e,n){var r=Qr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gi(t,e,n){var r=Qr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function vi(t,e,n){var r=Qr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _i(t,e,n){var r=Qr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bi(t,e,n){var r=Jr.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function xi(t,e,n){var r=Qr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function wi(t,e,n){var r=Qr.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function ki(t,e){return ti(t.getDate(),e,2)}function Si(t,e){return ti(t.getHours(),e,2)}function Mi(t,e){return ti(t.getHours()%12||12,e,2)}function Ei(t,e){return ti(1+dr.count(Er(t),t),e,3)}function Ti(t,e){return ti(t.getMilliseconds(),e,3)}function Oi(t,e){return Ti(t,e)+"000"}function Ci(t,e){return ti(t.getMonth()+1,e,2)}function Ni(t,e){return ti(t.getMinutes(),e,2)}function Ai(t,e){return ti(t.getSeconds(),e,2)}function Di(t){var e=t.getDay();return 0===e?7:e}function Li(t,e){return ti(yr.count(Er(t),t),e,2)}function Pi(t,e){var n=t.getDay();return t=n>=4||0===n?br(t):br.ceil(t),ti(br.count(Er(t),t)+(4===Er(t).getDay()),e,2)}function Ii(t){return t.getDay()}function ji(t,e){return ti(gr.count(Er(t),t),e,2)}function Bi(t,e){return ti(t.getFullYear()%100,e,2)}function $i(t,e){return ti(t.getFullYear()%1e4,e,4)}function Fi(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ti(e/60|0,"0",2)+ti(e%60,"0",2)}function Ri(t,e){return ti(t.getUTCDate(),e,2)}function Hi(t,e){return ti(t.getUTCHours(),e,2)}function Ui(t,e){return ti(t.getUTCHours()%12||12,e,2)}function Yi(t,e){return ti(1+Nr.count(Hr(t),t),e,3)}function zi(t,e){return ti(t.getUTCMilliseconds(),e,3)}function Vi(t,e){return zi(t,e)+"000"}function qi(t,e){return ti(t.getUTCMonth()+1,e,2)}function Wi(t,e){return ti(t.getUTCMinutes(),e,2)}function Xi(t,e){return ti(t.getUTCSeconds(),e,2)}function Ki(t){var e=t.getUTCDay();return 0===e?7:e}function Zi(t,e){return ti(Dr.count(Hr(t),t),e,2)}function Qi(t,e){var n=t.getUTCDay();return t=n>=4||0===n?jr(t):jr.ceil(t),ti(jr.count(Hr(t),t)+(4===Hr(t).getUTCDay()),e,2)}function Ji(t){return t.getUTCDay()}function Gi(t,e){return ti(Lr.count(Hr(t),t),e,2)}function to(t,e){return ti(t.getUTCFullYear()%100,e,2)}function eo(t,e){return ti(t.getUTCFullYear()%1e4,e,4)}function no(){return"+0000"}function ro(){return"%"}function io(t){return+t}function oo(t){return Math.floor(+t/1e3)}!function(t){Vr=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=ni(i),l=ri(i),f=ni(o),p=ri(o),h=ni(a),d=ri(a),m=ni(s),y=ri(s),g=ni(u),v=ri(u),_={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:ki,e:ki,f:Oi,H:Si,I:Mi,j:Ei,L:Ti,m:Ci,M:Ni,p:function(t){return i[+(t.getHours()>=12)]},Q:io,s:oo,S:Ai,u:Di,U:Li,V:Pi,w:Ii,W:ji,x:null,X:null,y:Bi,Y:$i,Z:Fi,"%":ro},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Ri,e:Ri,f:Vi,H:Hi,I:Ui,j:Yi,L:zi,m:qi,M:Wi,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:io,s:oo,S:Xi,u:Ki,U:Zi,V:Qi,w:Ji,W:Gi,x:null,X:null,y:to,Y:eo,Z:no,"%":ro},x={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return S(t,e,n,r)},d:hi,e:hi,f:_i,H:mi,I:mi,j:di,L:vi,m:pi,M:yi,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},Q:xi,s:wi,S:gi,u:oi,U:ai,V:si,w:ii,W:ui,x:function(t,e,r){return S(t,n,e,r)},X:function(t,e,n){return S(t,r,e,n)},y:li,Y:ci,Z:fi,"%":bi};function w(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=Zr[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function k(t,e){return function(n){var r,i,o=zr(1900);if(S(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Yr(zr(o.y))).getUTCDay(),r=i>4||0===i?Lr.ceil(r):Lr(r),r=Nr.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=e(zr(o.y))).getDay(),r=i>4||0===i?gr.ceil(r):gr(r),r=dr.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Yr(zr(o.y)).getUTCDay():e(zr(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Yr(o)):e(o)}}function S(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in Zr?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=w(n,_),_.X=w(r,_),_.c=w(e,_),b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),{format:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",Ur);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t,Yr);return e.toString=function(){return t},e}}}(t),qr=Vr.format,Wr=Vr.parse,Xr=Vr.utcFormat,Kr=Vr.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||Xr("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||Kr("%Y-%m-%dT%H:%M:%S.%LZ");var ao=1e3,so=60*ao,uo=60*so,co=24*uo,lo=7*co,fo=30*co,po=365*co;function ho(t){return new Date(t)}function mo(t){return t instanceof Date?+t:+new Date(+t)}function yo(t,e,n,r,i,o,s,u,c){var l=qn(Fn,Fn),f=l.invert,p=l.domain,h=c(".%L"),d=c(":%S"),m=c("%I:%M"),y=c("%I %p"),g=c("%a %d"),_=c("%b %d"),b=c("%B"),x=c("%Y"),w=[[s,1,ao],[s,5,5*ao],[s,15,15*ao],[s,30,30*ao],[o,1,so],[o,5,5*so],[o,15,15*so],[o,30,30*so],[i,1,uo],[i,3,3*uo],[i,6,6*uo],[i,12,12*uo],[r,1,co],[r,2,2*co],[n,1,lo],[e,1,fo],[e,3,3*fo],[t,1,po]];function k(a){return(s(a)<a?h:o(a)<a?d:i(a)<a?m:r(a)<a?y:e(a)<a?n(a)<a?g:_:t(a)<a?b:x)(a)}function S(e,n,r,i){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(r-n)/e,s=a(function(t){return t[2]}).right(w,o);s===w.length?(i=v(n/po,r/po,e),e=t):s?(i=(s=w[o/w[s-1][2]<w[s][2]/o?s-1:s])[1],e=s[0]):(i=Math.max(v(n,r,e),1),e=u)}return null==i?e:e.every(i)}return l.invert=function(t){return new Date(f(t))},l.domain=function(t){return arguments.length?p(Jt.call(t,mo)):p().map(ho)},l.ticks=function(t,e){var n,r=p(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=S(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},l.tickFormat=function(t,e){return null==e?k:c(e)},l.nice=function(t,e){var n=p();return(t=S(t,n[0],n[n.length-1],e))?p(Kn(n,t)):l},l.copy=function(){return zn(l,yo(t,e,n,r,i,o,s,u,c))},l}var go="http://www.w3.org/1999/xhtml",vo={svg:"http://www.w3.org/2000/svg",xhtml:go,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},_o=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),vo.hasOwnProperty(e)?{space:vo[e],local:t}:t};var bo=function(t){var e=_o(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===go&&e.documentElement.namespaceURI===go?e.createElement(t):e.createElementNS(n,t)}})(e)};function xo(){}var wo=function(t){return null==t?xo:function(){return this.querySelector(t)}};function ko(){return[]}var So=function(t){return new Array(t.length)};function Mo(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Mo.prototype={constructor:Mo,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Eo="$";function To(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Mo(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function Oo(t,e,n,r,i,o,a){var s,u,c,l={},f=e.length,p=o.length,h=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(h[s]=c=Eo+a.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<p;++s)(u=l[c=Eo+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],l[c]=null):n[s]=new Mo(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&l[h[s]]===u&&(i[s]=u)}function Co(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function No(t){return function(){this.removeAttribute(t)}}function Ao(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Do(t,e){return function(){this.setAttribute(t,e)}}function Lo(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Po(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Io(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var jo=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Bo(t){return function(){this.style.removeProperty(t)}}function $o(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Fo(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ro(t,e){return t.style.getPropertyValue(e)||jo(t).getComputedStyle(t,null).getPropertyValue(e)}function Ho(t){return function(){delete this[t]}}function Uo(t,e){return function(){this[t]=e}}function Yo(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function zo(t){return t.trim().split(/^|\s+/)}function Vo(t){return t.classList||new qo(t)}function qo(t){this._node=t,this._names=zo(t.getAttribute("class")||"")}function Wo(t,e){for(var n=Vo(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Xo(t,e){for(var n=Vo(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Ko(t){return function(){Wo(this,t)}}function Zo(t){return function(){Xo(this,t)}}function Qo(t,e){return function(){(e.apply(this,arguments)?Wo:Xo)(this,t)}}qo.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Jo(){this.textContent=""}function Go(t){return function(){this.textContent=t}}function ta(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function ea(){this.innerHTML=""}function na(t){return function(){this.innerHTML=t}}function ra(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ia(){this.nextSibling&&this.parentNode.appendChild(this)}function oa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function aa(){return null}function sa(){var t=this.parentNode;t&&t.removeChild(this)}function ua(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function ca(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var la={},fa=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(la={mouseenter:"mouseover",mouseleave:"mouseout"}));function pa(t,e,n){return t=ha(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function ha(t,e,n){return function(r){var i=fa;fa=r;try{t.call(this,this.__data__,e,n)}finally{fa=i}}}function da(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function ma(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function ya(t,e,n){var r=la.hasOwnProperty(t.type)?pa:ha;return function(i,o,a){var s,u=this.__on,c=r(e,o,a);if(u)for(var l=0,f=u.length;l<f;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function ga(t,e,n){var r=jo(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var va=[null];function _a(t,e){this._groups=t,this._parents=e}function ba(){return new _a([[document.documentElement]],va)}_a.prototype=ba.prototype={constructor:_a,select:function(t){"function"!=typeof t&&(t=wo(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new _a(r,this._parents)},selectAll:function(t){var e;"function"!=typeof t&&(t=null==(e=t)?ko:function(){return this.querySelectorAll(e)});for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var s,u=n[a],c=u.length,l=0;l<c;++l)(s=u[l])&&(i.push(t.call(s,s.__data__,l,u)),o.push(s));return new _a(i,o)},filter:function(t){var e;"function"!=typeof t&&(e=t,t=function(){return this.matches(e)});for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a,s=n[o],u=s.length,c=i[o]=[],l=0;l<u;++l)(a=s[l])&&t.call(a,a.__data__,l,s)&&c.push(a);return new _a(i,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),l=-1,this.each(function(t){d[++l]=t}),d;var n,r=e?Oo:To,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),c=new Array(a),l=0;l<a;++l){var f=i[l],p=o[l],h=p.length,d=t.call(f,f&&f.__data__,l,i),m=d.length,y=u[l]=new Array(m),g=s[l]=new Array(m);r(f,p,y,g,c[l]=new Array(h),d,e);for(var v,_,b=0,x=0;b<m;++b)if(v=y[b]){for(b>=x&&(x=b+1);!(_=g[x])&&++x<m;);v._next=_||null}}return(s=new _a(s,i))._enter=u,s._exit=c,s},enter:function(){return new _a(this._enter||this._groups.map(So),this._parents)},exit:function(){return new _a(this._exit||this._groups.map(So),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,p=a[s]=new Array(f),h=0;h<f;++h)(u=c[h]||l[h])&&(p[h]=u);for(;s<r;++s)a[s]=e[s];return new _a(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Co);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new _a(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=_o(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Ao:No:"function"==typeof e?n.local?Io:Po:n.local?Lo:Do)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Bo:"function"==typeof e?Fo:$o)(t,e,null==n?"":n)):Ro(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ho:"function"==typeof e?Yo:Uo)(t,e)):this.node()[t]},classed:function(t,e){var n=zo(t+"");if(arguments.length<2){for(var r=Vo(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Qo:e?Ko:Zo)(n,e))},text:function(t){return arguments.length?this.each(null==t?Jo:("function"==typeof t?ta:Go)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ea:("function"==typeof t?ra:na)(t)):this.node().innerHTML},raise:function(){return this.each(ia)},lower:function(){return this.each(oa)},append:function(t){var e="function"==typeof t?t:bo(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:bo(t),r=null==e?aa:"function"==typeof e?e:wo(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(sa)},clone:function(t){return this.select(t?ca:ua)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=da(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?ya:ma,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return ga(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return ga(this,t,e)}})(t,e))}};var xa=ba,wa=function(t){return"string"==typeof t?new _a([[document.querySelector(t)]],[document.documentElement]):new _a([[t]],va)},ka=0;function Sa(){this._="@"+(++ka).toString(36)}Sa.prototype=function(){return new Sa}.prototype={constructor:Sa,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Ma=function(t){return function(){return t}},Ea=(Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,1e-12),Ta=Math.PI,Oa=2*Ta;function Ca(t){this._context=t}Ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Na=function(t){return new Ca(t)};function Aa(t){return t[0]}function Da(t){return t[1]}var La=function(){var t=Aa,e=Da,n=Ma(!0),r=null,i=Na,o=null;function a(a){var s,u,c,l=a.length,f=!1;for(null==r&&(o=i(c=Kt())),s=0;s<=l;++s)!(s<l&&n(u=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(u,s,a),+e(u,s,a));if(c)return o=null,c+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:Ma(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Ma(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:Ma(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a};Ia(Na);function Pa(t){this._curve=t}function Ia(t){function e(e){return new Pa(t(e))}return e._curve=t,e}Pa.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};Array.prototype.slice;Math.sqrt(1/3);var ja=Math.sin(Ta/10)/Math.sin(7*Ta/10),Ba=(Math.sin(Oa/10),Math.cos(Oa/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function $a(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Fa(t){this._context=t}Fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$a(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$a(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ra(t){this._context=t}Ra.prototype={areaStart:Ba,areaEnd:Ba,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$a(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ha(t){this._context=t}Ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$a(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ua(t,e){this._basis=new Fa(t),this._beta=e}Ua.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};(function t(e){function n(t){return 1===e?new Fa(t):new Ua(t,e)}return n.beta=function(e){return t(+e)},n})(.85);function Ya(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function za(t,e){this._context=t,this._k=(1-e)/6}za.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ya(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ya(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new za(t,e)}return n.tension=function(e){return t(+e)},n})(0);function Va(t,e){this._context=t,this._k=(1-e)/6}Va.prototype={areaStart:Ba,areaEnd:Ba,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ya(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new Va(t,e)}return n.tension=function(e){return t(+e)},n})(0);function qa(t,e){this._context=t,this._k=(1-e)/6}qa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ya(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new qa(t,e)}return n.tension=function(e){return t(+e)},n})(0);function Wa(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Ea){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Ea){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Xa(t,e){this._context=t,this._alpha=e}Xa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Wa(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new Xa(t,e):new za(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function Ka(t,e){this._context=t,this._alpha=e}Ka.prototype={areaStart:Ba,areaEnd:Ba,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Wa(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new Ka(t,e):new Va(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function Za(t,e){this._context=t,this._alpha=e}Za.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Wa(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new Za(t,e):new qa(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function Qa(t){this._context=t}Qa.prototype={areaStart:Ba,areaEnd:Ba,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ja(t){return t<0?-1:1}function Ga(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Ja(o)+Ja(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function ts(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function es(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function ns(t){this._context=t}function rs(t){this._context=new is(t)}function is(t){this._context=t}function os(t){this._context=t}function as(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}ns.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:es(this,this._t0,ts(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,es(this,ts(this,n=Ga(this,t,e)),n);break;default:es(this,this._t0,n=Ga(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(rs.prototype=Object.create(ns.prototype)).point=function(t,e){ns.prototype.point.call(this,e,t)},is.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},os.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=as(t),i=as(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ss(t,e){this._context=t,this._t=e}ss.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var us={ascending:o,axisBottom:function(t){return N(S,t)},axisLeft:function(t){return N(M,t)},descending:function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},entries:function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},extent:l,forceCollide:function(t){var e,n,r=1,i=1;function o(){for(var t,o,s,u,c,l,f,p=e.length,h=0;h<i;++h)for(o=at(e,pt,ht).visitAfter(a),t=0;t<p;++t)s=e[t],l=n[s.index],f=l*l,u=s.x+s.vx,c=s.y+s.vy,o.visit(d);function d(t,e,n,i,o){var a=t.data,p=t.r,h=l+p;if(!a)return e>u+h||i<u-h||n>c+h||o<c-h;if(a.index>s.index){var d=u-a.x-a.vx,m=c-a.y-a.vy,y=d*d+m*m;y<h*h&&(0===d&&(y+=(d=ft())*d),0===m&&(y+=(m=ft())*m),y=(h-(y=Math.sqrt(y)))/y*r,s.vx+=(d*=y)*(h=(p*=p)/(f+p)),s.vy+=(m*=y)*h,a.vx-=d*(h=1-h),a.vy-=m*h)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=lt(null==t?1:+t)),o.initialize=function(t){e=t,s()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(e){return arguments.length?(t="function"==typeof e?e:lt(+e),s(),o):t},o},forceManyBody:function(){var t,e,n,r,i=lt(-30),o=1,a=1/0,s=.81;function u(r){var i,o=t.length,a=at(t,Rt,Ht).visitAfter(l);for(n=r,i=0;i<o;++i)e=t[i],a.visit(f)}function c(){if(t){var e,n,o=t.length;for(r=new Array(o),e=0;e<o;++e)n=t[e],r[n.index]=+i(n,e,t)}}function l(t){var e,n,i,o,a,s=0,u=0;if(t.length){for(i=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,u+=n,i+=n*e.x,o+=n*e.y);t.x=i/u,t.y=o/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=r[e.data.index]}while(e=e.next)}t.value=s}function f(t,i,u,c){if(!t.value)return!0;var l=t.x-e.x,f=t.y-e.y,p=c-i,h=l*l+f*f;if(p*p/s<h)return h<a&&(0===l&&(h+=(l=ft())*l),0===f&&(h+=(f=ft())*f),h<o&&(h=Math.sqrt(o*h)),e.vx+=l*t.value*n/h,e.vy+=f*t.value*n/h),!0;if(!(t.length||h>=a)){(t.data!==e||t.next)&&(0===l&&(h+=(l=ft())*l),0===f&&(h+=(f=ft())*f),h<o&&(h=Math.sqrt(o*h)));do{t.data!==e&&(p=r[t.data.index]*n/h,e.vx+=l*p,e.vy+=f*p)}while(t=t.next)}}return u.initialize=function(e){t=e,c()},u.strength=function(t){return arguments.length?(i="function"==typeof t?t:lt(+t),c(),u):i},u.distanceMin=function(t){return arguments.length?(o=t*t,u):Math.sqrt(o)},u.distanceMax=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)},u.theta=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)},u},forceSimulation:function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,u=jt(l),c=bt("tick","end");function l(){f(),c.call("tick",e),n<r&&(u.stop(),c.call("end",e))}function f(r){var u,c,l=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,s.forEach(function(t){t(n)}),u=0;u<l;++u)null==(c=t[u]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return e}function p(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=Ut*Math.sqrt(n),o=n*Yt;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function h(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),p(),e={tick:f,restart:function(){return u.restart(l),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,p(),s.forEach(h),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,h(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,u,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(a=(i=e-(s=t[c]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}},format:X,formatLocale:et,line:La,max:function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r},min:_,nest:function(){var t,e,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var u,c,l,f=-1,p=n.length,h=r[i++],d=L(),m=a();++f<p;)(l=d.get(u=h(c=n[f])+""))?l.push(c):d.set(u,[c]);return d.each(function(t,e){s(m,e,o(t,i,a,s))}),m}return n={object:function(t){return o(t,0,P,I)},map:function(t){return o(t,0,j,B)},entries:function(t){return function t(n,o){if(++o>r.length)return n;var a,s=i[o-1];return null!=e&&o>=r.length?a=n.entries():(a=[],n.each(function(e,n){a.push({key:n,values:t(e,o)})})),null!=s?a.sort(function(t,e){return s(t.key,e.key)}):a}(o(t,0,j,B),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}},path:Kt,range:p,scaleOrdinal:ee,scaleLinear:function t(){var e=qn(Fn,Fn);return e.copy=function(){return zn(e,t())},Zt.apply(e,arguments),Xn(e)},scaleSqrt:function(){return function t(){var e=Gn(Vn());return e.copy=function(){return zn(e,t()).exponent(e.exponent())},Zt.apply(e,arguments),e}.apply(null,arguments).exponent(.5)},scaleTime:function(){return Zt.apply(yo(Er,Sr,yr,dr,pr,lr,ur,ir,qr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},select:wa,selectAll:function(t){return"string"==typeof t?new _a([document.querySelectorAll(t)],[document.documentElement]):new _a([null==t?[]:t],va)},timeFormat:qr,timeParse:Wr,timeYear:Er,tip:function(){var t=function(){return"n"},e=function(){return[0,0]},n=function(){return" "},r=document.body,i=f(),o=null,a=null,s=null;function u(t){(o=function(t){var e=t.node();return e?"svg"===e.tagName.toLowerCase()?e:e.ownerSVGElement:null}(t))&&(a=o.createSVGPoint(),r.appendChild(i))}u.show=function(){var i=Array.prototype.slice.call(arguments);i[i.length-1]instanceof SVGElement&&(s=i.pop());var o,a=n.apply(this,i),f=e.apply(this,i),h=t.apply(this,i),d=p(),m=l.length,y=document.documentElement.scrollTop||r.scrollTop,g=document.documentElement.scrollLeft||r.scrollLeft;for(d.html(a).style("opacity",1).style("pointer-events","all");m--;)d.classed(l[m],!1);return o=c.get(h).apply(this),d.classed(h,!0).style("top",o.top+f[0]+y+"px").style("left",o.left+f[1]+g+"px"),u},u.hide=function(){return p().style("opacity",0).style("pointer-events","none"),u},u.attr=function(t,e){if(arguments.length<2&&"string"==typeof t)return p().attr(t);var n=Array.prototype.slice.call(arguments);return xa.prototype.attr.apply(p(),n),u},u.style=function(t,e){if(arguments.length<2&&"string"==typeof t)return p().style(t);var n=Array.prototype.slice.call(arguments);return xa.prototype.style.apply(p(),n),u},u.direction=function(e){return arguments.length?(t=null==e?e:d(e),u):t},u.offset=function(t){return arguments.length?(e=null==t?t:d(t),u):e},u.html=function(t){return arguments.length?(n=null==t?t:d(t),u):n},u.rootElement=function(t){return arguments.length?(r=null==t?t:d(t),u):r},u.destroy=function(){return i&&(p().remove(),i=null),u};var c=L({n:function(){var t=h(this);return{top:t.n.y-i.offsetHeight,left:t.n.x-i.offsetWidth/2}},s:function(){var t=h(this);return{top:t.s.y,left:t.s.x-i.offsetWidth/2}},e:function(){var t=h(this);return{top:t.e.y-i.offsetHeight/2,left:t.e.x}},w:function(){var t=h(this);return{top:t.w.y-i.offsetHeight/2,left:t.w.x-i.offsetWidth}},nw:function(){var t=h(this);return{top:t.nw.y-i.offsetHeight,left:t.nw.x-i.offsetWidth}},ne:function(){var t=h(this);return{top:t.ne.y-i.offsetHeight,left:t.ne.x}},sw:function(){var t=h(this);return{top:t.sw.y,left:t.sw.x-i.offsetWidth}},se:function(){var t=h(this);return{top:t.se.y,left:t.se.x}}}),l=c.keys();function f(){var t=wa(document.createElement("div"));return t.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box"),t.node()}function p(){return null==i&&(i=f(),r.appendChild(i)),wa(i)}function h(t){for(var e=s||t;null==e.getScreenCTM&&null!=e.parentNode;)e=e.parentNode;var n={},r=e.getScreenCTM(),i=e.getBBox(),o=i.width,u=i.height,c=i.x,l=i.y;return a.x=c,a.y=l,n.nw=a.matrixTransform(r),a.x+=o,n.ne=a.matrixTransform(r),a.y+=u,n.se=a.matrixTransform(r),a.x-=o,n.sw=a.matrixTransform(r),a.y-=u/2,n.w=a.matrixTransform(r),a.x+=o,n.e=a.matrixTransform(r),a.x-=o/2,a.y-=u/2,n.n=a.matrixTransform(r),a.y+=u,n.s=a.matrixTransform(r),n}function d(t){return"function"==typeof t?t:function(){return t}}return u}};function cs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ls(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fs(t,e,n){return e&&ls(t.prototype,e),n&&ls(t,n),t}function ps(t,e){return!e||"object"!==_s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hs(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ys(t,e)}function ds(t){var e="function"==typeof Map?new Map:void 0;return(ds=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return ms(t,arguments,gs(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ys(r,t)})(t)}function ms(t,e,n){return(ms=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&ys(i,n.prototype),i}).apply(null,arguments)}function ys(t,e){return(ys=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gs(t){return(gs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vs(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _s(t){return(_s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bs(){}function xs(t){return t()}function ws(){return Object.create(null)}function ks(t){t.forEach(xs)}function Ss(t){return"function"==typeof t}function Ms(t,e){return t!=t?e==e:t!==e||t&&"object"===_s(t)||"function"==typeof t}new Set;function Es(t,e){t.appendChild(e)}function Ts(t,e,n){t.insertBefore(e,n||null)}function Os(t){t.parentNode.removeChild(t)}function Cs(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Ns(t){return document.createElement(t)}function As(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ds(t){return document.createTextNode(t)}function Ls(){return Ds(" ")}function Ps(){return Ds("")}function Is(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function js(t){return function(e){return e.preventDefault(),t.call(this,e)}}function Bs(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function $s(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function Fs(t,e){e=""+e,t.data!==e&&(t.data=e)}function Rs(t,e,n){t.classList[n?"add":"remove"](e)}var Hs;function Us(t){Hs=t}function Ys(){if(!Hs)throw new Error("Function called outside component initialization");return Hs}function zs(t){Ys().$$.before_update.push(t)}function Vs(t){Ys().$$.on_mount.push(t)}var qs=[],Ws=[],Xs=[],Ks=[],Zs=Promise.resolve(),Qs=!1;function Js(){Qs||(Qs=!0,Zs.then(tu))}function Gs(t){Xs.push(t)}function tu(){var t=new Set;do{for(;qs.length;){var e=qs.shift();Us(e),eu(e.$$)}for(;Ws.length;)Ws.pop()();for(var n=0;n<Xs.length;n+=1){var r=Xs[n];t.has(r)||(r(),t.add(r))}Xs.length=0}while(qs.length);for(;Ks.length;)Ks.pop()();Qs=!1}function eu(t){t.fragment&&(t.update(t.dirty),ks(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(Gs))}var nu,ru=new Set;function iu(){nu={r:0,c:[],p:nu}}function ou(){nu.r||ks(nu.c),nu=nu.p}function au(t,e){t&&t.i&&(ru.delete(t),t.i(e))}function su(t,e,n,r){if(t&&t.o){if(ru.has(t))return;ru.add(t),nu.c.push(function(){ru.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}"undefined"!=typeof window?window:global;function uu(t,e,n){var r=t.$$,i=r.fragment,o=r.on_mount,a=r.on_destroy,s=r.after_update;i.m(e,n),Gs(function(){var e=o.map(xs).filter(Ss);a?a.push.apply(a,vs(e)):ks(e),t.$$.on_mount=[]}),s.forEach(Gs)}function cu(t,e){t.$$.fragment&&(ks(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function lu(t,e,n,r,i,o){var a=Hs;Us(t);var s,u=e.props||{},c=t.$$={fragment:null,ctx:null,props:o,update:bs,not_equal:i,bound:ws(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:ws(),dirty:null},l=!1;c.ctx=n?n(t,u,function(e,n){c.ctx&&i(c.ctx[e],c.ctx[e]=n)&&(c.bound[e]&&c.bound[e](n),l&&function(t,e){t.$$.dirty||(qs.push(t),Js(),t.$$.dirty=ws()),t.$$.dirty[e]=!0}(t,e))}):u,c.update(),l=!0,ks(c.before_update),c.fragment=r(c.ctx),e.target&&(e.hydrate?c.fragment.l((s=e.target,Array.from(s.childNodes))):c.fragment.c(),e.intro&&au(t.$$.fragment),uu(t,e.target,e.anchor),tu()),Us(a)}var fu=function(){function t(){cs(this,t)}return fs(t,[{key:"$destroy",value:function(){cu(this,1),this.$destroy=bs}},{key:"$on",value:function(t,e){var n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}}},{key:"$set",value:function(){}}]),t}();function pu(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bs,r=[];function i(n){if(Ms(t,n)){if(t=n,!e)return;r.forEach(function(t){return t[1]()}),r.forEach(function(e){return e[0](t)})}}return{set:i,update:function(e){i(e(t))},subscribe:function(o){var a=[o,arguments.length>1&&void 0!==arguments[1]?arguments[1]:bs];return r.push(a),1===r.length&&(e=n(i)||bs),o(t),function(){var t=r.indexOf(a);-1!==t&&r.splice(t,1),0===r.length&&(e(),e=null)}}}}var hu=pu("time"),du=pu("nestedByIndicator"),mu=pu(""),yu=pu("");n(8);n(9);function gu(t){return(gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vu(t){return(vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bu(t,e){return(bu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xu(t,e,n){var r=Object.create(t);return r.option=e[n],r}function wu(t){var e,n,r,i,o,a,s=t.option.display;return{c:function(){e=Ns("li"),n=Ds(s),e.dataset.value=r=t.option.value,$s(e,"aria-selected",i=t.currentValue===t.option.value),$s(e,"aria-role","option"),$s(e,"id",o="dropdown-item-"+t.option.value),$s(e,"class","svelte-1f5ftc6"),Rs(e,"hover",!!t.toBeSelected&&t.option.value===t.toBeSelected.dataset.value),a=Is(e,"click",Bs(t.itemClickHandler))},m:function(t,r){Ts(t,e,r),Es(e,n)},p:function(t,a){t.options&&s!==(s=a.option.display)&&Fs(n,s),t.options&&r!==(r=a.option.value)&&(e.dataset.value=r),(t.currentValue||t.options)&&i!==(i=a.currentValue===a.option.value)&&$s(e,"aria-selected",i),t.options&&o!==(o="dropdown-item-"+a.option.value)&&$s(e,"id",o),(t.toBeSelected||t.options)&&Rs(e,"hover",!!a.toBeSelected&&a.option.value===a.toBeSelected.dataset.value)},d:function(t){t&&Os(e),a()}}}function ku(t){for(var e,n,r,i,o,a,s,u,c,l,f,p=t.options,h=[],d=0;d<p.length;d+=1)h[d]=wu(xu(t,p,d));return{c:function(){e=Ns("div"),n=Ns("label"),r=Ds(t.label),i=Ls(),o=Ns("div"),a=Ns("div"),s=Ns("div"),u=Ds(t.currentDisplay),c=Ls(),l=Ns("ul");for(var p=0;p<h.length;p+=1)h[p].c();$s(n,"class","svelte-1f5ftc6"),$s(s,"class","svelte-1f5ftc6"),$s(l,"aria-role","listbox"),$s(l,"aria-activedescendant",t.activeDescendantID),$s(l,"class","svelte-1f5ftc6"),$s(a,"class","dropdown svelte-1f5ftc6"),$s(a,"aria-haspopup","listbox"),$s(a,"aria-expanded",t.isOpen),$s(a,"role","button"),$s(a,"tabindex","0"),Rs(a,"is-open",t.isOpen),$s(o,"class","dropdown-inner svelte-1f5ftc6"),$s(e,"class","dropdown-outer svelte-1f5ftc6"),f=[Is(a,"keydown",t.keyHandler),Is(a,"click",Bs(t.clickHandler))]},m:function(t,f){Ts(t,e,f),Es(e,n),Es(n,r),Es(e,i),Es(e,o),Es(o,a),Es(a,s),Es(s,u),Es(a,c),Es(a,l);for(var p=0;p<h.length;p+=1)h[p].m(l,null)},p:function(t,e){if(t.label&&Fs(r,e.label),t.currentDisplay&&Fs(u,e.currentDisplay),t.options||t.currentValue||t.toBeSelected){p=e.options;for(var n=0;n<p.length;n+=1){var i=xu(e,p,n);h[n]?h[n].p(t,i):(h[n]=wu(i),h[n].c(),h[n].m(l,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=p.length}t.activeDescendantID&&$s(l,"aria-activedescendant",e.activeDescendantID),t.isOpen&&($s(a,"aria-expanded",e.isOpen),Rs(a,"is-open",e.isOpen))},i:bs,o:bs,d:function(t){t&&Os(e),Cs(h,t),ks(f)}}}function Su(t,e,n){var r=e.label,i=e.options,o=e.currentValue,a=e.itemOnClick,s=e.subscribeTo;n("itemOnClick",a=a||function(){console.log("no itemOnClick prop")}),s&&s.subscribe(function(t){n("currentValue",o=t||o)});var u,c,l,f,p=!1;function h(){n("isOpen",p=!1),n("toBeSelected",u=l)}return Vs(function(){l=document.querySelector("#"+c),n("toBeSelected",u=l)}),t.$set=function(t){"label"in t&&n("label",r=t.label),"options"in t&&n("options",i=t.options),"currentValue"in t&&n("currentValue",o=t.currentValue),"itemOnClick"in t&&n("itemOnClick",a=t.itemOnClick),"subscribeTo"in t&&n("subscribeTo",s=t.subscribeTo)},t.$$.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentValue:1,options:1,activeDescendantID:1};(t.currentValue||t.options)&&n("currentValue",o=o||i[0].value),t.currentValue&&n("activeDescendantID",c="dropdown-item-"+o),t.activeDescendantID&&(l=document.querySelector("#"+c)),(t.options||t.currentValue)&&n("currentDisplay",f=i.find(function(t){return t.value===o})?i.find(function(t){return t.value===o}).display:i[0].display)},{label:r,options:i,currentValue:o,itemOnClick:a,subscribeTo:s,isOpen:p,toBeSelected:u,clickHandler:function(t){p?(h(),document.body.removeEventListener("click",h)):(n("isOpen",p=!0),document.body.addEventListener("click",h))},keyHandler:function(t){function e(){u.dispatchEvent(new MouseEvent("click"),{view:window,bubbles:!0,cancelable:!0})}if(9!==t.keyCode&&t.preventDefault(),console.log(t.keyCode),-1!==[32,38,40].indexOf(t.keyCode))if(p)if(32===t.keyCode)e();else if(38===t.keyCode){var r=u.previousElementSibling;r&&n("toBeSelected",u=r)}else{var i=u.nextElementSibling;console.log(i),i&&n("toBeSelected",u=i)}else n("isOpen",p=!0);27===t.keyCode&&p&&h(),13===t.keyCode&&p&&e()},itemClickHandler:function(t){console.log(this,this.dataset.value),n("currentValue",o=this.dataset.value),a.call(this,t),n("isOpen",p=!1)},activeDescendantID:c,currentDisplay:f}}var Mu=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==gu(e)&&"function"!=typeof e?_u(t):e}(this,vu(e).call(this)),lu(_u(n),t,Su,ku,Ms,["label","options","currentValue","itemOnClick","subscribeTo"]),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bu(t,e)}(e,fu),e}();n(10);function Eu(t){return(Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tu(t){return(Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ou(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cu(t,e){return(Cu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nu(t){var e;return{c:function(){$s(e=Ns("button"),"aria-label",t.ariaLabel),$s(e,"class","x-out svelte-ld55ag")},m:function(t,n){Ts(t,e,n)},p:function(t,n){t.ariaLabel&&$s(e,"aria-label",n.ariaLabel)},i:bs,o:bs,d:function(t){t&&Os(e)}}}function Au(t,e,n){var r=e.ariaLabel;return t.$set=function(t){"ariaLabel"in t&&n("ariaLabel",r=t.ariaLabel)},{ariaLabel:r}}var Du={dropdown:Mu,xOut:function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==Eu(e)&&"function"!=typeof e?Ou(t):e}(this,Tu(e).call(this)),lu(Ou(n),t,Au,Nu,Ms,["ariaLabel"]),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cu(t,e)}(e,fu),e}()},Lu=n(0),Pu=n(1),Iu=n.n(Pu);n(11);function ju(t){return(ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bu(t){return(Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fu(t,e){return(Fu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ru(t){var e,n;return{c:function(){(e=Ns("button")).textContent="Show legend",$s(e,"class","show-legend svelte-x578xk"),n=Is(e,"click",t.clickHandler)},m:function(t,n){Ts(t,e,n)},d:function(t){t&&Os(e),n()}}}function Hu(t){var e,n,r,i,o,a,s,u,c,l,f,p,h=new Du.xOut({}),d=t.isClosed&&Ru(t);return{c:function(){e=Ns("div"),n=Ns("div"),r=Ns("div"),(i=Ns("div")).innerHTML='<div class="legend svelte-x578xk"><div class="color-codes svelte-x578xk"><div class="color-codes-inner svelte-x578xk"><div class="color-code-category svelte-x578xk"><h3 class="svelte-x578xk">Age:</h3> <ul class="svelte-x578xk"><li class="svelte-x578xk">&lt;35</li> <li class="svelte-x578xk">35–64</li> <li class="svelte-x578xk">65+</li></ul></div> <div class="color-code-category svelte-x578xk"><h3 class="svelte-x578xk">Race:</h3> <ul class="svelte-x578xk"><li class="svelte-x578xk">White, non-Hispanic</li> <li class="svelte-x578xk">Black</li> <li class="svelte-x578xk">Hispanic</li> <li class="svelte-x578xk">Asian</li></ul></div></div> <div><div class="agreggated-dash svelte-x578xk"></div> = age/race not available\n\t\t\t                        </div></div></div>',o=Ls(),a=Ns("div"),s=As("svg"),u=Ls(),c=Ns("div"),h.$$.fragment.c(),l=Ls(),d&&d.c(),$s(i,"class","svelte-x578xk"),$s(s,"class","population-legend svelte-x578xk"),$s(s,"width","100%"),$s(s,"xmlns","http://www.w3.org/2000/svg"),$s(s,"version","1.1"),$s(s,"viewBox","0 0 "+t.viewBoxHeight+" "+t.viewBoxHeight),$s(a,"class","legend-svg-container svelte-x578xk"),$s(c,"class","x-out-container svelte-x578xk"),$s(r,"class","legend-container-wrapper svelte-x578xk"),$s(n,"class","legend-container-inner svelte-x578xk"),$s(e,"class","legend-container svelte-x578xk"),Rs(e,"isClosed",t.isClosed),Rs(e,"hide","time"===t.viewType),p=Is(c,"click",t.clickHandler)},m:function(p,m){Ts(p,e,m),Es(e,n),Es(n,r),Es(r,i),Es(r,o),Es(r,a),Es(a,s),t.svg_1_binding(s),Es(r,u),Es(r,c),uu(h,c,null),Es(e,l),d&&d.m(e,null),f=!0},p:function(t,n){n.isClosed?d||((d=Ru(n)).c(),d.m(e,null)):d&&(d.d(1),d=null),t.isClosed&&Rs(e,"isClosed",n.isClosed),t.viewType&&Rs(e,"hide","time"===n.viewType)},i:function(t){f||(au(h.$$.fragment,t),f=!0)},o:function(t){su(h.$$.fragment,t),f=!1},d:function(n){n&&Os(e),t.svg_1_binding(null),cu(h),d&&d.d(),p()}}}function Uu(t,e,n){var r,i,o=e.metadata,a=e.maxRadius,s=e.minRadius,u=!1,c=[o.minPop,o.maxPop],l=0,f=.5,p=2;return hu.subscribe(function(t){n("viewType",r=t)}),Vs(function(){var t=100/3.19-l-f,e=us.scaleSqrt().range([s,a]).domain(c),n=c.map(function(t){return e=t,n=Math.round(Math.log(e)/Math.LN10+1e-9),Math.pow(10,n);var e,n}),r=us.select(i).selectAll("g").data(n).enter().append("g").attr("transform",function(r,i){return"translate(".concat(p+ +e(n[1]),", ").concat(t-e(r),")")});r.append("circle").attr("r",function(t,n){return e(t)}),r.append("text").attr("class","circle-label").attr("transform",function(t,n){return"translate(0, ".concat(1===n?0-+e(t)+7.5:0-+e(t)-1,")")}).text(function(t,e){return us.format(".0s")(t)})}),t.$set=function(t){"metadata"in t&&n("metadata",o=t.metadata),"maxRadius"in t&&n("maxRadius",a=t.maxRadius),"minRadius"in t&&n("minRadius",s=t.minRadius)},{metadata:o,maxRadius:a,minRadius:s,viewType:r,isClosed:u,viewBoxHeight:100/3.19,svg:i,clickHandler:function(t){console.log(t),n("isClosed",u=!u)},svg_1_binding:function(t){Ws[t?"unshift":"push"](function(){n("svg",i=t)})}}}var Yu=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==ju(e)&&"function"!=typeof e?$u(t):e}(this,Bu(e).call(this)),lu($u(n),t,Uu,Hu,Ms,["metadata","maxRadius","minRadius"]),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fu(t,e)}(e,fu),e}();n(12);function zu(t){return(zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vu(t){return(Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wu(t,e){return(Wu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xu(t){var e,n,r,i;return{c:function(){e=Ns("div"),n=Ns("p"),r=Ns("img"),i=Ds(" = best fit trend line"),$s(r,"src",Iu.a),$s(r,"alt","blue line equals best fit trend line"),$s(r,"class","svelte-1ldp7e1"),$s(n,"class","svelte-1ldp7e1"),$s(e,"class","trendline-key svelte-1ldp7e1")},m:function(t,o){Ts(t,e,o),Es(e,n),Es(n,r),Es(n,i)},p:bs,d:function(t){t&&Os(e)}}}function Ku(t){var e,n,r,i,o,a,s,u,c,l,f=new Du.dropdown({props:{label:"Organize by:",options:t.organizeByOptions,itemOnClick:t.organizeItemOnClick}}),p=new Du.dropdown({props:{label:t.groupSelectorLabel+":",options:Zu(t.groupedData),itemOnClick:Qu,subscribeTo:yu}}),h="time"===t.viewType&&Xu(),d=new Yu({props:{metadata:t.metadata,maxRadius:"15",minRadius:"5"}});return{c:function(){e=Ns("div"),n=Ns("div"),r=Ns("div"),f.$$.fragment.c(),i=Ls(),o=Ns("div"),p.$$.fragment.c(),a=Ls(),(s=Ns("div")).innerHTML='<div class="svelte-1ldp7e1"><input type="radio" name="view-type" value="time" id="radio1" checked="true"><label for="radio1" class="svelte-1ldp7e1">Over time</label></div> <div class="svelte-1ldp7e1"><input type="radio" name="view-type" value="disaggregated" id="radio2"><label for="radio2" class="svelte-1ldp7e1">By age and race</label></div>',u=Ls(),h&&h.c(),c=Ls(),d.$$.fragment.c(),$s(r,"class","svelte-1ldp7e1"),$s(o,"class","svelte-1ldp7e1"),$s(s,"class","view-type-selectors svelte-1ldp7e1"),$s(n,"class","selections svelte-1ldp7e1"),$s(e,"class","selections-wrapper svelte-1ldp7e1"),Rs(e,"is-sticky",t.isSticky)},m:function(m,y){Ts(m,e,y),Es(e,n),Es(n,r),uu(f,r,null),Es(n,i),Es(n,o),uu(p,o,null),Es(n,a),Es(n,s),t.div4_binding(s),Es(e,u),h&&h.m(e,null),Es(e,c),uu(d,e,null),l=!0},p:function(t,n){var r={};t.organizeByOptions&&(r.options=n.organizeByOptions),t.organizeItemOnClick&&(r.itemOnClick=n.organizeItemOnClick),f.$set(r);var i={};t.groupSelectorLabel&&(i.label=n.groupSelectorLabel+":"),(t.createOptions||t.groupedData)&&(i.options=Zu(n.groupedData)),t.dropdownItemOnClick&&(i.itemOnClick=Qu),t.scrolledToStore&&(i.subscribeTo=yu),p.$set(i),"time"===n.viewType?h?h.p(t,n):((h=Xu()).c(),h.m(e,c)):h&&(h.d(1),h=null);var o={};t.metadata&&(o.metadata=n.metadata),d.$set(o),t.isSticky&&Rs(e,"is-sticky",n.isSticky)},i:function(t){l||(au(f.$$.fragment,t),au(p.$$.fragment,t),au(d.$$.fragment,t),l=!0)},o:function(t){su(f.$$.fragment,t),su(p.$$.fragment,t),su(d.$$.fragment,t),l=!1},d:function(n){n&&Os(e),cu(f),cu(p),t.div4_binding(null),h&&h.d(),cu(d)}}}function Zu(t){return t.map(function(t,e){return{value:t.key,display:Lu[t.key]?Lu[t.key].label:t.key,isInitialSelected:0===e}})}function Qu(){mu.set(this.dataset.value)}function Ju(t){hu.set(t.target.value)}function Gu(t,e,n){var r,i,o=e.groupedData,a=e.metadata,s=e.isSticky,u=[{value:"nestedByIndicator",display:"Indicator",isInitialSelected:!0},{value:"nestedByCity",display:"City",isInitialSelected:!1}],c=e.typeSelectors;return hu.subscribe(function(t){n("viewType",i=t)}),du.subscribe(function(t){var e=document.querySelector(".dataviz-section a.section-anchor");e&&e.modifiedScrollIntoView(),n("groupSelectorLabel",r=u.find(function(e){return e.value===t}).display)}),Vs(function(){c.querySelectorAll("input").forEach(function(t){t.addEventListener("change",Ju)})}),t.$set=function(t){"groupedData"in t&&n("groupedData",o=t.groupedData),"metadata"in t&&n("metadata",a=t.metadata),"isSticky"in t&&n("isSticky",s=t.isSticky),"typeSelectors"in t&&n("typeSelectors",c=t.typeSelectors)},{groupedData:o,metadata:a,isSticky:s,groupSelectorLabel:r,viewType:i,organizeByOptions:u,typeSelectors:c,organizeItemOnClick:function(){du.set(this.dataset.value),this.dataset.value},div4_binding:function(t){Ws[t?"unshift":"push"](function(){n("typeSelectors",c=t)})}}}var tc=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==zu(e)&&"function"!=typeof e?qu(t):e}(this,Vu(e).call(this)),lu(qu(n),t,Gu,Ku,Ms,["groupedData","metadata","isSticky","typeSelectors"]),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wu(t,e)}(e,fu),e}();n(2),n(13);function ec(t){return(ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nc(t){return(nc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ic(t,e){return(ic=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oc(t){var e,n;return{c:function(){e=Ns("figure"),$s(n=As("svg"),"focusable","false"),$s(n,"class","chart-time svelte-khqj7v"),$s(n,"width","100%"),$s(n,"xmlns","http://www.w3.org/2000/svg"),$s(n,"version","1.1"),$s(n,"viewBox","0 0 100 "+ac),$s(e,"class","svg-container chart-time svelte-khqj7v")},m:function(r,i){Ts(r,e,i),Es(e,n),t.svg_1_binding(n)},p:bs,i:bs,o:bs,d:function(n){n&&Os(e),t.svg_1_binding(null)}}}var ac=116;function sc(t){return t.findIndex(function(t){return null!==t.value})}function uc(t,e,n){var r,i=e.datum,o=e.metadata,a=e.group;return zs(function(){r&&us.select(r).select(".chart-group").remove();var t=10,e=21,n=100-e-5,s=ac-t-15,u=us.scaleTime().range([0,n]),c=us.scaleLinear().range([s,0]),l=us.line().x(function(t){return u(t.year)}).y(function(t){return c(t.value)}).defined(function(t){return null!==t.value}),f=us.range(o.startYear,o.stopYear).concat(o.stopYear),p=us.timeParse("%Y"),h=f.map(function(t){return{year:p(t),value:i.values[0][t]}}).filter(function(t){return null!==t.value}),d=us.formatLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""]});console.log(i);var m="currency"===Lu[i.values[0].indicator].units?".0s":"si"===Lu[i.values[0].indicator].units?".1s":"number"===Lu[i.values[0].indicator].units?".0f":"decimal"===Lu[i.values[0].indicator].units?".0f":".0%";u.domain(us.extent(h,function(t){return t.year}));void 0===o[i.values[0].indicator].minAge&&void 0===o[i.values[0].indicator].minRace||"population"===i.values[0].indicator?o[i.values[0].indicator].minYear:us.min([o[i.values[0].indicator].minAge,o[i.values[0].indicator].minRace]);var y=void 0===o[i.values[0].indicator].maxAge&&void 0===o[i.values[0].indicator].maxRace||"population"===i.values[0].indicator?o[i.values[0].indicator].maxYear:us.max([o[i.values[0].indicator].maxAge,o[i.values[0].indicator].maxRace]);c.domain([0,y]).nice(4),"commute"===i.values[0].indicator&&console.log("oink",c.domain());var g=us.select(r).append("g").classed("chart-group",!0),v=us.tip().attr("class","d3-tip").offset([2*ac-10,.5]).html(function(t){return'<span class="year">'.concat(t.year.getFullYear(),"</span> | ").concat(d.format(Lu[i.values[0].indicator].tooltipFormat)(t.value))}),_=g.append("g").attr("transform","translate(".concat(e,",").concat(t,")")),b=(g.append("g").attr("transform","translate(".concat(e,", ").concat(s+t+3,")")).attr("class","axis x-axis").call(us.axisBottom(u).tickSizeInner(0).tickSizeOuter(0).tickPadding(4).tickValues([h[sc(h)].year,h[h.length-1].year])),g.append("g").attr("class","axis y-axis").attr("transform","translate(".concat(e+1,", ").concat(t,")")).call(us.axisLeft(c).tickSizeInner(0).tickSizeOuter(1).tickPadding(4).ticks(4,m)),us.range(1,h.length+1-sc(h))),x=function(t,e){var n=function(t,e){return t+e},r=1*t.reduce(n)/t.length,i=1*e.reduce(n)/e.length,o=t.map(function(t){return Math.pow(t-r,2)}).reduce(n),a=e.map(function(t){return Math.pow(t-i,2)}).reduce(n),s=t.map(function(t,n){return(t-r)*(e[n]-i)}).reduce(n),u=s/o;return[u,i-r*u,Math.pow(s,2)/(o*a)]}(b,h.slice(sc(h)).map(function(t){return t.value}));console.log(x),_.append("line").attr("class","line trendline").attr("x1",u(h[sc(h)].year)).attr("y1",c(x[0]+x[1])).attr("x2",u(h[h.length-1].year)).attr("y2",c(x[0]*b.length+x[1])),_.append("path").datum(h).attr("class","line valueline").attr("d",l),_.selectAll(".value-point").data(h.slice(sc(h))).enter().append("circle").attr("class","value-point").attr("tabindex",0).attr("focusable",!0).attr("data-id",function(t,e){return"".concat(a,"-").concat(i.key,"-").concat(e)}).attr("r",0).attr("cx",function(t){return u(t.year)}).attr("cy",function(t){return c(t.value)}).on("focus",function(){var t="#rect-"+this.getAttribute("data-id"),e=us.select(t).node(),n=document.createEvent("Event");n.initEvent("mouseover",!0,!0),e.dispatchEvent(n)}).on("blur",function(){var t=us.select("#rect-"+this.getAttribute("data-id")).node(),e=document.createEvent("Event");e.initEvent("mouseout",!0,!0),t.dispatchEvent(e)}).nodes().forEach(function(t){t.addEventListener("keydown",function(t,e){27===e.keyCode&&document.querySelector(".js-skip-link-"+t).focus()}.bind(void 0,a))}),_.selectAll(".value-proxy-rect").data(h.slice(sc(h))).enter().append("rect").attr("id",function(t,e){return"rect-".concat(a,"-").concat(i.key,"-").concat(e)}).attr("class","value-proxy-rect").attr("width",8).attr("height",2*ac).attr("x",function(t){return u(t.year)-4}).attr("y",function(t){return c(t.value)-ac}).call(v).on("mouseover",v.show).on("mouseout",v.hide)}),t.$set=function(t){"datum"in t&&n("datum",i=t.datum),"metadata"in t&&n("metadata",o=t.metadata),"group"in t&&n("group",a=t.group)},{datum:i,metadata:o,group:a,svg:r,svg_1_binding:function(t){Ws[t?"unshift":"push"](function(){n("svg",r=t)})}}}var cc=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==ec(e)&&"function"!=typeof e?rc(t):e}(this,nc(e).call(this)),lu(rc(n),t,uc,oc,Ms,["datum","metadata","group"]),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ic(t,e)}(e,fu),e}();n(14);function lc(t){return(lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fc(t){return(fc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hc(t,e){return(hc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dc(t){var e,n;return{c:function(){e=Ns("figure"),$s(n=As("svg"),"focusable","false"),$s(n,"width","100%"),$s(n,"xmlns","http://www.w3.org/2000/svg"),$s(n,"version","1.1"),$s(n,"viewBox","0 0 100 "+mc),$s(n,"class","svelte-1u6rqk5"),$s(e,"class","svg-container svelte-1u6rqk5")},m:function(r,i){Ts(r,e,i),Es(e,n),t.svg_1_binding(n)},p:bs,i:bs,o:bs,d:function(n){n&&Os(e),t.svg_1_binding(null)}}}var mc=116,yc=15,gc=5;function vc(t,e,n){var r,i=e.datum,o=e.group,a=e.metadata,s=e.groupBy;console.log(s),console.log(this);var u,c=[a.minPop,a.maxPop];return zs(function(){r&&us.select(r).select(".chart-group").remove();var t=10,e=5,n=15,s=21,l=us.formatLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),f=100-s-e,p=mc-t-n,h=us.scaleOrdinal().range([0,f]),d=us.scaleLinear().range([p,0]),m=us.scaleSqrt().range([gc,yc]),y=[i.values[0].age1_a,i.values[0].age2_a,i.values[0].age3_a].sort(function(t,e){return us.descending(t,e)}),g=[i.values[0].race1_a,i.values[0].race2_a,i.values[0].race3_a,i.values[0].race4_a].sort(function(t,e){return us.descending(t,e)}),v=[[{colorIndex:0,percent:i.values[0].age1,absolute:i.values[0].age1_a,key:"age1"},{colorIndex:1,percent:i.values[0].age2,absolute:i.values[0].age2_a,key:"age2"},{colorIndex:2,percent:i.values[0].age3,absolute:i.values[0].age3_a,key:"age3"}],[{colorIndex:0,percent:i.values[0].race1,absolute:i.values[0].race1_a,key:"race1"},{colorIndex:1,percent:i.values[0].race2,absolute:i.values[0].race2_a,key:"race2"},{colorIndex:2,percent:i.values[0].race3,absolute:i.values[0].race3_a,key:"race3"},{colorIndex:3,percent:i.values[0].race4,absolute:i.values[0].race4_a,key:"race4"}]];console.log(v),console.log(i);var _=Lu[i.values[0].indicator].units_alt||Lu[i.values[0].indicator].units,b="currency"===_?".0s":"si"===_?".1s":"number"===_?".0f":"decimal"===_?".0f":".0%";h.domain([0,v.length]);var x=us.min([a[i.values[0].indicator].minAge,a[i.values[0].indicator].minRace]),w=us.max([a[i.values[0].indicator].maxAge,a[i.values[0].indicator].maxRace]),k=(void 0!==x||a[i.values[0].indicator].minYear,void 0!==w?w:a[i.values[0].indicator].maxYear);d.domain([0,k]).nice(4),"commute"===i.values[0].indicator&&console.log("oink",w,d.domain()),m.domain(c),h.domain(["Age","Race"]);var S=us.tip().attr("class","d3-tip disaggregated").html(function(t,e){var n="indicator"===u?o:i.key;return t.sort(function(t,e){return us.descending(t.percent,e.percent)}).reduce(function(t,r,i){var o=r.key.match("age")?"age":"race";return t+'<p class="'.concat(("age"===o?y:g).indexOf(r.absolute)===e?"isHighlighted":""," ").concat("tooltip-p tooltip-color-"+r.colorIndex,'""><span class="').concat(o,'">').concat(Lu[r.key],"</span> | ").concat(Lu[n]&&Lu[n].disagTooltipFormat?l.format(Lu[n].disagTooltipFormat)(r.percent):l.format(Lu[n].tooltipFormat)(r.percent)," \n                                 (").concat(r.absolute?us.format(",.0f")(r.absolute)+" ppl":"size n/a",")</p>")},"")}),M=us.tip().attr("class","d3-tip disaggregated d3-tip--not-available").html(function(t){var e="indicator"===u?o:i.key;return'<p class="tooltip-p-na"><strong>'.concat(Lu[e]&&Lu[e].disagTooltipFormat?l.format(Lu[e].disagTooltipFormat)(t.value):l.format(Lu[e].tooltipFormat)(t.value),"</strong> | Data by ").concat(0===t.groupIndex?"age":"race"," not available</p>")}),E=us.select(r).append("g").classed("chart-group",!0);E.append("g").attr("transform","translate(".concat(s,", ").concat(p+t+3,")")).attr("class","axis x-axis categorical").call(us.axisBottom(h).tickSizeInner(0).tickSizeOuter(0).tickPadding(4)),E.append("g").attr("class","axis y-axis").attr("transform","translate(".concat(s+1,", ").concat(t,")")).call(us.axisLeft(d).tickSizeInner(0).tickSizeOuter(1).tickPadding(4).ticks(4,b));E.append("g").attr("transform","translate(".concat(s,",").concat(t,")")).selectAll(".type").data(v).enter().append("g").attr("transform",function(t,e,n){return"translate(".concat(0===e?yc:f-yc,", 0)")}).each(function(t,e,n){var s=t.filter(function(t){return!isNaN(t.percent)}),u=t.filter(function(t){return isNaN(t.percent)});if(s.length>0){us.select(this).selectAll(".data-group").data(function(t){return t.sort(function(t,e){return us.descending(t.absolute,e.absolute)})}).enter().append("g").attr("class","data-group").append("circle").attr("tabindex",0).attr("cx",0).attr("cy",function(t){return d(t.percent)}).attr("r",function(t){return null!==t.absolute?m(t.absolute):gc/2}).attr("class",function(t){return"bubble color"+t.colorIndex}).attr("focusable",!0).classed("absolute-undefined",function(t){return null===t.absolute}).call(S).on("mouseover",function(e,n){S.show.call(this,t.filter(function(t){return!isNaN(t.percent)}),n)}).on("mouseout",S.hide).on("focus",function(e,n){S.show.call(this,t.filter(function(t){return!isNaN(t.percent)}),n)}).on("blur",S.hide).nodes().forEach(function(t){t.addEventListener("keydown",function(t,e){27===e.keyCode&&document.querySelector(".js-skip-link-"+t).focus()}.bind(void 0,o))}),u.length>0&&us.select(r.parentNode).append("figcaption").attr("class","missing-race-note").html(function(t){return t.reduce(function(e,n,r){var i=r===t.length-1?"":"<br />";return e+Lu[n.key]+": n/a"+i},"")}(u))}else{var c=us.select(this).datum(i.values[0][a.stopYear]);c.append("rect").attr("class","aggregated").attr("height",2).attr("width",10).attr("x",-5).attr("y",function(t){return d(t)}),c.append("circle").attr("class","aggregated-circle").attr("r",14).attr("cy",function(t){return d(t)}).attr("cx",0).attr("tabindex",0).attr("focusable",!0).call(M).on("mouseover",function(t){M.show.call(this,{groupIndex:e,value:t})}).on("mouseout",M.hide).on("focus",function(t){M.show.call(this,{groupIndex:e,value:t})}).on("blur",M.hide)}})}),t.$set=function(t){"datum"in t&&n("datum",i=t.datum),"group"in t&&n("group",o=t.group),"metadata"in t&&n("metadata",a=t.metadata),"groupBy"in t&&n("groupBy",s=t.groupBy)},t.$$.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{groupBy:1};t.groupBy&&(u="nestedByCity"===s?"city":"indicator")},{datum:i,group:o,metadata:a,groupBy:s,svg:r,svg_1_binding:function(t){Ws[t?"unshift":"push"](function(){n("svg",r=t)})}}}var _c=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==lc(e)&&"function"!=typeof e?pc(t):e}(this,fc(e).call(this)),lu(pc(n),t,vc,dc,Ms,["datum","group","metadata","groupBy"]),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hc(t,e)}(e,fu),e}(),bc=n(4);function xc(){return(xc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var wc="undefined"!=typeof window&&"undefined"!=typeof document,kc=wc?navigator.userAgent:"",Sc=/MSIE |Trident\//.test(kc),Mc=/UCBrowser\//.test(kc),Ec=wc&&/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,Tc={a11y:!0,allowHTML:!0,animateFill:!0,animation:"shift-away",appendTo:function(){return document.body},aria:"describedby",arrow:!1,arrowType:"sharp",boundary:"scrollParent",content:"",delay:0,distance:10,duration:[325,275],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,followCursor:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},placement:"top",popperOptions:{},role:"tooltip",showOnInit:!1,size:"regular",sticky:!1,target:"",theme:"dark",touch:!0,touchHold:!1,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,wait:null,zIndex:9999},Oc=["arrow","arrowType","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],Cc=wc?Element.prototype:{},Nc=Cc.matches||Cc.matchesSelector||Cc.webkitMatchesSelector||Cc.mozMatchesSelector||Cc.msMatchesSelector;function Ac(t){return[].slice.call(t)}function Dc(t,e){return Lc(t,function(t){return Nc.call(t,e)})}function Lc(t,e){for(;t;){if(e(t))return t;t=t.parentElement}return null}var Pc={passive:!0},Ic=4,jc="x-placement",Bc="x-out-of-boundaries",$c="tippy-iOS",Fc="tippy-active",Rc="tippy-popper",Hc="tippy-tooltip",Uc="tippy-content",Yc="tippy-backdrop",zc="tippy-arrow",Vc="tippy-roundarrow",qc=".".concat(Rc),Wc=".".concat(Hc),Xc=".".concat(Uc),Kc=".".concat(Yc),Zc=".".concat(zc),Qc=".".concat(Vc),Jc=!1;function Gc(){Jc||(Jc=!0,Ec&&document.body.classList.add($c),window.performance&&document.addEventListener("mousemove",el))}var tl=0;function el(){var t=performance.now();t-tl<20&&(Jc=!1,document.removeEventListener("mousemove",el),Ec||document.body.classList.remove($c)),tl=t}function nl(){var t=document.activeElement;t&&t.blur&&t._tippy&&t.blur()}var rl=Object.keys(Tc);function il(t,e){return{}.hasOwnProperty.call(t,e)}function ol(t,e,n){if(Array.isArray(t)){var r=t[e];return null==r?n:r}return t}function al(t,e){return 0===e?t:function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)};var n}function sl(t,e){return t&&t.modifiers&&t.modifiers[e]}function ul(t,e){return t.indexOf(e)>-1}function cl(t){return t instanceof Element}function ll(t){return!(!t||!il(t,"isVirtual"))||cl(t)}function fl(t,e){return"function"==typeof t?t.apply(null,e):t}function pl(t,e){t.filter(function(t){return"flip"===t.name})[0].enabled=e}function hl(){return document.createElement("div")}function dl(t,e){t.forEach(function(t){t&&(t.style.transitionDuration="".concat(e,"ms"))})}function ml(t,e){t.forEach(function(t){t&&t.setAttribute("data-state",e)})}function yl(t,e){var n=xc({},e,{content:fl(e.content,[t])},e.ignoreAttributes?{}:function(t){return rl.reduce(function(e,n){var r=(t.getAttribute("data-tippy-".concat(n))||"").trim();if(!r)return e;if("content"===n)e[n]=r;else try{e[n]=JSON.parse(r)}catch(t){e[n]=r}return e},{})}(t));return(n.arrow||Mc)&&(n.animateFill=!1),n}function gl(t,e){Object.keys(t).forEach(function(t){if(!il(e,t))throw new Error("[tippy]: `".concat(t,"` is not a valid option"))})}function vl(t,e){t.innerHTML=cl(e)?e.innerHTML:e}function _l(t,e){if(cl(e.content))vl(t,""),t.appendChild(e.content);else if("function"!=typeof e.content){t[e.allowHTML?"innerHTML":"textContent"]=e.content}}function bl(t){return{tooltip:t.querySelector(Wc),backdrop:t.querySelector(Kc),content:t.querySelector(Xc),arrow:t.querySelector(Zc)||t.querySelector(Qc)}}function xl(t){t.setAttribute("data-inertia","")}function wl(t){var e=hl();return"round"===t?(e.className=Vc,vl(e,'<svg viewBox="0 0 18 7" xmlns="http://www.w3.org/2000/svg"><path d="M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/></svg>')):e.className=zc,e}function kl(){var t=hl();return t.className=Yc,t.setAttribute("data-state","hidden"),t}function Sl(t,e){t.setAttribute("tabindex","-1"),e.setAttribute("data-interactive","")}function Ml(t,e,n){var r=Mc&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend";t[e+"EventListener"](r,n)}function El(t){var e=t.getAttribute(jc);return e?e.split("-")[0]:""}function Tl(t,e,n){n.split(" ").forEach(function(n){t.classList[e](n+"-theme")})}var Ol=1,Cl=[];function Nl(t,e){var n,r,i,o,a,s=yl(t,e);if(!s.multiple&&t._tippy)return null;var u,c,l,f,p,h=!1,d=!1,m=!1,y=!1,g=[],v=al(j,s.interactiveDebounce),_=Ol++,b=function(t,e){var n=hl();n.className=Rc,n.id="tippy-".concat(t),n.style.zIndex=""+e.zIndex,n.style.position="absolute",n.style.top="0",n.style.left="0",e.role&&n.setAttribute("role",e.role);var r=hl();r.className=Hc,r.style.maxWidth=e.maxWidth+("number"==typeof e.maxWidth?"px":""),r.setAttribute("data-size",e.size),r.setAttribute("data-animation",e.animation),r.setAttribute("data-state","hidden"),Tl(r,"add",e.theme);var i=hl();return i.className=Uc,i.setAttribute("data-state","hidden"),e.interactive&&Sl(n,r),e.arrow&&r.appendChild(wl(e.arrowType)),e.animateFill&&(r.appendChild(kl()),r.setAttribute("data-animatefill","")),e.inertia&&xl(r),_l(i,e),r.appendChild(i),n.appendChild(r),n}(_,s),x=bl(b),w={id:_,reference:t,popper:b,popperChildren:x,popperInstance:null,props:s,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},clearDelayTimeouts:W,set:X,setContent:function(t){X({content:t})},show:K,hide:Z,enable:function(){w.state.isEnabled=!0},disable:function(){w.state.isEnabled=!1},destroy:function(e){if(w.state.isDestroyed)return;d=!0,w.state.isMounted&&Z(0);L(),delete t._tippy;var n=w.props.target;n&&e&&cl(t)&&Ac(t.querySelectorAll(n)).forEach(function(t){t._tippy&&t._tippy.destroy()});w.popperInstance&&w.popperInstance.destroy();d=!1,w.state.isDestroyed=!0}};return t._tippy=w,b._tippy=w,D(),s.lazy||Y(),s.showOnInit&&z(),!s.a11y||s.target||(!cl(p=M())||Nc.call(p,"a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]")&&!p.hasAttribute("disabled"))||M().setAttribute("tabindex","0"),b.addEventListener("mouseenter",function(t){w.props.interactive&&w.state.isVisible&&"mouseenter"===n&&z(t,!0)}),b.addEventListener("mouseleave",function(){w.props.interactive&&"mouseenter"===n&&document.addEventListener("mousemove",v)}),w;function k(){document.removeEventListener("mousemove",P)}function S(){document.body.removeEventListener("mouseleave",V),document.removeEventListener("mousemove",v),Cl=Cl.filter(function(t){return t!==v})}function M(){return w.props.triggerTarget||t}function E(){document.addEventListener("click",q,!0)}function T(){document.removeEventListener("click",q,!0)}function O(){return[w.popperChildren.tooltip,w.popperChildren.backdrop,w.popperChildren.content]}function C(){var t=w.props.followCursor;return t&&"focus"!==n||Jc&&"initial"===t}function N(t,e){var n=w.popperChildren.tooltip;function r(t){t.target===n&&(Ml(n,"remove",r),e())}if(0===t)return e();Ml(n,"remove",l),Ml(n,"add",r),l=r}function A(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];M().addEventListener(t,e,n),g.push({eventType:t,handler:e,options:n})}function D(){w.props.touchHold&&!w.props.target&&(A("touchstart",I,Pc),A("touchend",B,Pc)),w.props.trigger.trim().split(" ").forEach(function(t){if("manual"!==t)if(w.props.target)switch(t){case"mouseenter":A("mouseover",F),A("mouseout",R);break;case"focus":A("focusin",F),A("focusout",R);break;case"click":A(t,F)}else switch(A(t,I),t){case"mouseenter":A("mouseleave",B);break;case"focus":A(Sc?"focusout":"blur",$)}})}function L(){g.forEach(function(t){var e=t.eventType,n=t.handler,r=t.options;M().removeEventListener(e,n,r)}),g=[]}function P(e){var n=r=e,i=n.clientX,o=n.clientY;if(f){var a=Lc(e.target,function(e){return e===t}),s=t.getBoundingClientRect(),u=w.props.followCursor,c="horizontal"===u,l="vertical"===u,p=ul(["top","bottom"],El(b)),h=b.getAttribute(jc),d=!!h&&!!h.split("-")[1],m=p?b.offsetWidth:b.offsetHeight,y=m/2,g=p?0:d?m:y,v=p?d?m:y:0;!a&&w.props.interactive||(w.popperInstance.reference=xc({},w.popperInstance.reference,{referenceNode:t,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:p?m:0,height:p?0:m,top:(c?s.top:o)-g,bottom:(c?s.bottom:o)+g,left:(l?s.left:i)-v,right:(l?s.right:i)+v}}}),w.popperInstance.update()),"initial"===u&&w.state.isVisible&&k()}}function I(t){w.state.isEnabled&&!H(t)&&(w.state.isVisible||(n=t.type,t instanceof MouseEvent&&(r=t,Cl.forEach(function(e){return e(t)}))),"click"===t.type&&!1!==w.props.hideOnClick&&w.state.isVisible?V():z(t))}function j(e){var n=Dc(e.target,qc)===b,r=Lc(e.target,function(e){return e===t});n||r||function(t,e,n,r){if(!t)return!0;var i=n.clientX,o=n.clientY,a=r.interactiveBorder,s=r.distance,u=e.top-o>("top"===t?a+s:a),c=o-e.bottom>("bottom"===t?a+s:a),l=e.left-i>("left"===t?a+s:a),f=i-e.right>("right"===t?a+s:a);return u||c||l||f}(El(b),b.getBoundingClientRect(),e,w.props)&&(S(),V())}function B(t){if(!H(t))return w.props.interactive?(document.body.addEventListener("mouseleave",V),document.addEventListener("mousemove",v),void Cl.push(v)):void V()}function $(t){t.target===M()&&(w.props.interactive&&t.relatedTarget&&b.contains(t.relatedTarget)||V())}function F(t){Dc(t.target,w.props.target)&&z(t)}function R(t){Dc(t.target,w.props.target)&&V()}function H(t){var e="ontouchstart"in window,n=ul(t.type,"touch"),r=w.props.touchHold;return e&&Jc&&r&&!n||Jc&&!r&&n}function U(){!y&&c&&(y=!0,function(t){t.offsetHeight}(b),c())}function Y(){var e=w.props.popperOptions,n=w.popperChildren,r=n.tooltip,i=n.arrow,o=sl(e,"preventOverflow");function a(t){w.props.flip&&!w.props.flipOnUpdate&&(t.flipped&&(w.popperInstance.options.placement=t.placement),pl(w.popperInstance.modifiers,!1)),r.setAttribute(jc,t.placement),!1!==t.attributes[Bc]?r.setAttribute(Bc,""):r.removeAttribute(Bc),u&&u!==t.placement&&m&&(r.style.transition="none",requestAnimationFrame(function(){r.style.transition=""})),u=t.placement,m=w.state.isVisible;var e=El(b),n=r.style;n.top=n.bottom=n.left=n.right="",n[e]=-(w.props.distance-10)+"px";var i=o&&void 0!==o.padding?o.padding:Ic,a="number"==typeof i,s=xc({top:a?i:i.top,bottom:a?i:i.bottom,left:a?i:i.left,right:a?i:i.right},!a&&i);s[e]=a?i+w.props.distance:(i[e]||0)+w.props.distance,w.popperInstance.modifiers.filter(function(t){return"preventOverflow"===t.name})[0].padding=s,f=s}var s=xc({eventsEnabled:!1,placement:w.props.placement},e,{modifiers:xc({},e?e.modifiers:{},{preventOverflow:xc({boundariesElement:w.props.boundary,padding:Ic},o),arrow:xc({element:i,enabled:!!i},sl(e,"arrow")),flip:xc({enabled:w.props.flip,padding:w.props.distance+Ic,behavior:w.props.flipBehavior},sl(e,"flip")),offset:xc({offset:w.props.offset},sl(e,"offset"))}),onCreate:function(t){a(t),U(),e&&e.onCreate&&e.onCreate(t)},onUpdate:function(t){a(t),U(),e&&e.onUpdate&&e.onUpdate(t)}});w.popperInstance=new bc.a(t,b,s)}function z(t,n){if(W(),!w.state.isVisible){if(w.props.target)return function(t){if(t){var n=Dc(t.target,w.props.target);n&&!n._tippy&&Nl(n,xc({},w.props,{content:fl(e.content,[n]),appendTo:e.appendTo,target:"",showOnInit:!0}))}}(t);if(h=!0,t&&!n&&w.props.onTrigger(w,t),w.props.wait)return w.props.wait(w,t);C()&&!w.state.isMounted&&(w.popperInstance||Y(),document.addEventListener("mousemove",P)),E();var r=ol(w.props.delay,0,Tc.delay);r?i=setTimeout(function(){K()},r):K()}}function V(){if(W(),!w.state.isVisible)return k(),void T();h=!1;var t=ol(w.props.delay,1,Tc.delay);t?o=setTimeout(function(){w.state.isVisible&&Z()},t):a=requestAnimationFrame(function(){Z()})}function q(t){if(!w.props.interactive||!b.contains(t.target)){if(M().contains(t.target)){if(Jc)return;if(w.state.isVisible&&ul(w.props.trigger,"click"))return}!0===w.props.hideOnClick&&(W(),Z())}}function W(){clearTimeout(i),clearTimeout(o),cancelAnimationFrame(a)}function X(e){gl(e=e||{},Tc),L();var n=w.props,i=yl(t,xc({},w.props,{},e,{ignoreAttributes:!0}));i.ignoreAttributes=il(e,"ignoreAttributes")?e.ignoreAttributes||!1:n.ignoreAttributes,w.props=i,D(),S(),v=al(j,i.interactiveDebounce),function(t,e,n){var r=bl(t),i=r.tooltip,o=r.content,a=r.backdrop,s=r.arrow;t.style.zIndex=""+n.zIndex,i.setAttribute("data-size",n.size),i.setAttribute("data-animation",n.animation),i.style.maxWidth=n.maxWidth+("number"==typeof n.maxWidth?"px":""),n.role?t.setAttribute("role",n.role):t.removeAttribute("role"),e.content!==n.content&&_l(o,n),!e.animateFill&&n.animateFill?(i.appendChild(kl()),i.setAttribute("data-animatefill","")):e.animateFill&&!n.animateFill&&(i.removeChild(a),i.removeAttribute("data-animatefill")),!e.arrow&&n.arrow?i.appendChild(wl(n.arrowType)):e.arrow&&!n.arrow&&i.removeChild(s),e.arrow&&n.arrow&&e.arrowType!==n.arrowType&&i.replaceChild(wl(n.arrowType),s),!e.interactive&&n.interactive?Sl(t,i):e.interactive&&!n.interactive&&function(t,e){t.removeAttribute("tabindex"),e.removeAttribute("data-interactive")}(t,i),!e.inertia&&n.inertia?xl(i):e.inertia&&!n.inertia&&function(t){t.removeAttribute("data-inertia")}(i),e.theme!==n.theme&&(Tl(i,"remove",e.theme),Tl(i,"add",n.theme))}(b,n,i),w.popperChildren=bl(b),w.popperInstance&&(Oc.some(function(t){return il(e,t)&&e[t]!==n[t]})?(w.popperInstance.destroy(),Y(),w.state.isVisible&&w.popperInstance.enableEventListeners(),w.props.followCursor&&r&&P(r)):w.popperInstance.update())}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ol(w.props.duration,0,Tc.duration[1]);if(!w.state.isDestroyed&&w.state.isEnabled&&(!Jc||w.props.touch)&&!M().hasAttribute("disabled")&&!1!==w.props.onShow(w)){E(),b.style.visibility="visible",w.state.isVisible=!0,w.props.interactive&&M().classList.add(Fc);var n=O();dl(n.concat(b),0),c=function(){if(w.state.isVisible){var i=C();i&&r?P(r):i||w.popperInstance.update(),w.popperChildren.backdrop&&(w.popperChildren.content.style.transitionDelay=Math.round(e/12)+"ms"),w.props.sticky&&function(){dl([b],Sc?0:w.props.updateDuration);var e=t.getBoundingClientRect();!function n(){var r=t.getBoundingClientRect();e.top===r.top&&e.right===r.right&&e.bottom===r.bottom&&e.left===r.left||w.popperInstance.scheduleUpdate(),e=r,w.state.isMounted&&requestAnimationFrame(n)}()}(),dl([b],w.props.updateDuration),dl(n,e),ml(n,"visible"),function(t,e){N(t,e)}(e,function(){w.props.aria&&M().setAttribute("aria-".concat(w.props.aria),b.id),w.props.onShown(w),w.state.isShown=!0})}},function(){y=!1;var e=C();w.popperInstance?(pl(w.popperInstance.modifiers,w.props.flip),e||(w.popperInstance.reference=t,w.popperInstance.enableEventListeners()),w.popperInstance.scheduleUpdate()):(Y(),e||w.popperInstance.enableEventListeners());var n=w.props.appendTo,r="parent"===n?t.parentNode:fl(n,[t]);r.contains(b)||(r.appendChild(b),w.props.onMount(w),w.state.isMounted=!0)}()}}function Z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ol(w.props.duration,1,Tc.duration[1]);if(!w.state.isDestroyed&&(w.state.isEnabled||d)&&(!1!==w.props.onHide(w)||d)){T(),b.style.visibility="hidden",w.state.isVisible=!1,w.state.isShown=!1,m=!1,w.props.interactive&&M().classList.remove(Fc);var e=O();dl(e,t),ml(e,"hidden"),function(t,e){N(t,function(){!w.state.isVisible&&b.parentNode&&b.parentNode.contains(b)&&e()})}(t,function(){h||k(),w.props.aria&&M().removeAttribute("aria-".concat(w.props.aria)),w.popperInstance.disableEventListeners(),w.popperInstance.options.placement=w.props.placement,b.parentNode.removeChild(b),w.props.onHidden(w),w.state.isMounted=!1})}}}var Al=!1;function Dl(t,e){gl(e||{},Tc),Al||(document.addEventListener("touchstart",Gc,Pc),window.addEventListener("blur",nl),Al=!0);var n,r=xc({},Tc,{},e);n=t,"[object Object]"!=={}.toString.call(n)||n.addEventListener||function(t){var e={isVirtual:!0,attributes:t.attributes||{},contains:function(){},setAttribute:function(e,n){t.attributes[e]=n},getAttribute:function(e){return t.attributes[e]},removeAttribute:function(e){delete t.attributes[e]},hasAttribute:function(e){return e in t.attributes},addEventListener:function(){},removeEventListener:function(){},classList:{classNames:{},add:function(e){t.classList.classNames[e]=!0},remove:function(e){delete t.classList.classNames[e]},contains:function(e){return e in t.classList.classNames}}};for(var n in e)t[n]=e[n]}(t);var i=function(t){if(ll(t))return[t];if(t instanceof NodeList)return Ac(t);if(Array.isArray(t))return t;try{return Ac(document.querySelectorAll(t))}catch(t){return[]}}(t).reduce(function(t,e){var n=e&&Nl(e,r);return n&&t.push(n),t},[]);return ll(t)?i[0]:i}Dl.version="4.3.5",Dl.defaults=Tc,Dl.setDefaults=function(t){Object.keys(t).forEach(function(e){Tc[e]=t[e]})},Dl.hideAll=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.exclude,n=t.duration;Ac(document.querySelectorAll(qc)).forEach(function(t){var r,i=t._tippy;if(i){var o=!1;e&&(o=(r=e)._tippy&&!Nc.call(r,qc)?i.reference===e:t===e.popper),o||i.hide(n)}})},Dl.group=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.delay,r=void 0===n?t[0].props.delay:n,i=e.duration,o=void 0===i?0:i,a=!1;function s(t){a=t,f()}function u(e){e._originalProps.onShow(e),t.forEach(function(t){t.set({duration:o}),t.state.isVisible&&t.hide()}),s(!0)}function c(t){t._originalProps.onHide(t),s(!1)}function l(t){t._originalProps.onShown(t),t.set({duration:t._originalProps.duration})}function f(){t.forEach(function(t){t.set({onShow:u,onShown:l,onHide:c,delay:a?[0,Array.isArray(r)?r[1]:r]:r,duration:a?o:t._originalProps.duration})})}t.forEach(function(t){t._originalProps?t.set(t._originalProps):t._originalProps=xc({},t.props)}),f()},wc&&setTimeout(function(){Ac(document.querySelectorAll("[data-tippy]")).forEach(function(t){var e=t.getAttribute("data-tippy");e&&Dl(t,{content:e})})}),function(t){if(wc){var e=document.createElement("style");e.type="text/css",e.textContent=t,e.setAttribute("data-tippy-stylesheet","");var n=document.head,r=n.querySelector("style,link");r?n.insertBefore(e,r):n.appendChild(e)}}('.tippy-iOS{cursor:pointer!important;-webkit-tap-highlight-color:transparent}.tippy-popper{transition-timing-function:cubic-bezier(.165,.84,.44,1);max-width:calc(100% - 8px);pointer-events:none;outline:0}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-7px;bottom:-6.5px;-webkit-transform-origin:50% 0;transform-origin:50% 0;margin:0 3px}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;bottom:-7px;margin:0 3px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 25%;transform-origin:0 25%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%)}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%,-45%);transform:scale(.2) translate(-50%,-45%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(-10px);transform:perspective(700px) translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(60deg);transform:perspective(700px) rotateX(60deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=top] [data-animation=scale]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px) scale(.5);transform:translateY(-10px) scale(.5)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-7px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;margin:0 3px}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:8px solid #333;border-right:8px solid transparent;border-left:8px solid transparent;top:-7px;margin:0 3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%)}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-50%);transform:scale(.2) translate(-50%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateY(10px);transform:perspective(700px) translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateX(-60deg);transform:perspective(700px) rotateX(-60deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=scale]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px) scale(.5);transform:translateY(10px) scale(.5)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-12px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%;margin:3px 0}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-75%,-50%);transform:scale(.2) translate(-75%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(-10px);transform:perspective(700px) translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(-60deg);transform:perspective(700px) rotateY(-60deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=left] [data-animation=scale]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px) scale(.5);transform:translateX(-10px) scale(.5)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-12px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%;margin:3px 0}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:8px solid #333;border-top:8px solid transparent;border-bottom:8px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(.2) translate(-25%,-50%);transform:scale(.2) translate(-25%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{-webkit-transform:perspective(700px) translateX(10px);transform:perspective(700px) translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:perspective(700px) rotateY(60deg);transform:perspective(700px) rotateY(60deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0}.tippy-popper[x-placement^=right] [data-animation=scale]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px) scale(.5);transform:translateX(10px) scale(.5)}.tippy-tooltip{position:relative;color:#fff;border-radius:.25rem;font-size:.875rem;padding:.3125rem .5625rem;line-height:1.4;text-align:center;background-color:#333}.tippy-tooltip[data-size=small]{padding:.1875rem .375rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.375rem .75rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:initial}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] .tippy-roundarrow path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:18px;height:7px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;background-color:#333;border-radius:50%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}.tippy-backdrop+.tippy-content{transition-property:opacity;will-change:opacity}.tippy-backdrop+.tippy-content[data-state=hidden]{opacity:0}');var Ll=Dl;n(16);function Pl(t){return(Pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Il(t){return(Il=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bl(t,e){return(Bl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $l(t,e,n){var r=Object.create(t);return r.d=e[n],r.i=n,r}function Fl(t){var e,n=new _c({props:{instanceIndex:t.i,datum:t.d,metadata:t.metadata,groupBy:t.groupBy,group:t.group.key}});return{c:function(){n.$$.fragment.c()},m:function(t,r){uu(n,t,r),e=!0},p:function(t,e){var r={};t.match&&(r.datum=e.d),t.metadata&&(r.metadata=e.metadata),t.groupBy&&(r.groupBy=e.groupBy),t.group&&(r.group=e.group.key),n.$set(r)},i:function(t){e||(au(n.$$.fragment,t),e=!0)},o:function(t){su(n.$$.fragment,t),e=!1},d:function(t){cu(n,t)}}}function Rl(t){var e,n=new cc({props:{instanceIndex:t.i,datum:t.d,metadata:t.metadata,group:t.group.key}});return{c:function(){n.$$.fragment.c()},m:function(t,r){uu(n,t,r),e=!0},p:function(t,e){var r={};t.match&&(r.datum=e.d),t.metadata&&(r.metadata=e.metadata),t.group&&(r.group=e.group.key),n.$set(r)},i:function(t){e||(au(n.$$.fragment,t),e=!0)},o:function(t){su(n.$$.fragment,t),e=!1},d:function(t){cu(n,t)}}}function Hl(t){var e,n,r,i,o,a,s,u,c,l,f,p,h=Lu[t.d.key]?Lu[t.d.key].label:t.d.key,d=t.i,m=function(){return t.h3_binding(r,d)},y=function(){return t.h3_binding(null,d)},g=[Rl,Fl],v=[];function _(t){return"time"===t.viewType?0:1}return c=_(t),l=v[c]=g[c](t),{c:function(){e=Ns("div"),n=Ns("div"),r=Ns("h3"),i=Ds(h),u=Ls(),l.c(),f=Ls(),$s(r,"class",o=t.d.key.toLowerCase()+" svelte-1732jel"),r.dataset.tippyContent=a=Lu[t.d.key]?Lu[t.d.key].desc:"",$s(r,"tabindex",s="nestedByIndicator"!==t.groupBy?0:-1),Rs(r,"with-tooltip","nestedByIndicator"!==t.groupBy),$s(n,"class","graph-container"),$s(e,"class","graph-container--outer")},m:function(t,o){Ts(t,e,o),Es(e,n),Es(n,r),Es(r,i),m(),Es(n,u),v[c].m(n,null),Es(e,f),p=!0},p:function(e,u){t=u,p&&!e.match||h===(h=Lu[t.d.key]?Lu[t.d.key].label:t.d.key)||Fs(i,h),d!==t.i&&(y(),d=t.i,m()),p&&!e.match||o===(o=t.d.key.toLowerCase()+" svelte-1732jel")||$s(r,"class",o),p&&!e.match||a===(a=Lu[t.d.key]?Lu[t.d.key].desc:"")||(r.dataset.tippyContent=a),p&&!e.groupBy||s===(s="nestedByIndicator"!==t.groupBy?0:-1)||$s(r,"tabindex",s),(e.match||e.groupBy)&&Rs(r,"with-tooltip","nestedByIndicator"!==t.groupBy);var f=c;(c=_(t))===f?v[c].p(e,t):(iu(),su(v[f],1,1,function(){v[f]=null}),ou(),(l=v[c])||(l=v[c]=g[c](t)).c(),au(l,1),l.m(n,null))},i:function(t){p||(au(l),p=!0)},o:function(t){su(l),p=!1},d:function(t){t&&Os(e),y(),v[c].d()}}}function Ul(t){for(var e,n,r=t.match.values,i=[],o=0;o<r.length;o+=1)i[o]=Hl($l(t,r,o));var a=function(t){return su(i[t],1,1,function(){i[t]=null})};return{c:function(){for(var t=0;t<i.length;t+=1)i[t].c();e=Ps()},m:function(t,r){for(var o=0;o<i.length;o+=1)i[o].m(t,r);Ts(t,e,r),n=!0},p:function(t,n){if(t.viewType||t.match||t.metadata||t.group||t.groupBy||t.dictionary||t.headings){r=n.match.values;for(var o=0;o<r.length;o+=1){var s=$l(n,r,o);i[o]?(i[o].p(t,s),au(i[o],1)):(i[o]=Hl(s),i[o].c(),au(i[o],1),i[o].m(e.parentNode,e))}for(iu(),o=r.length;o<i.length;o+=1)a(o);ou()}},i:function(t){if(!n){for(var e=0;e<r.length;e+=1)au(i[e]);n=!0}},o:function(t){i=i.filter(Boolean);for(var e=0;e<i.length;e+=1)su(i[e]);n=!1},d:function(t){Cs(i,t),t&&Os(e)}}}function Yl(){document.querySelectorAll(".d3-tip").forEach(function(t){t.parentNode.removeChild(t)})}function zl(t,e,n){var r,i,o,a=e.group,s=e.groupedData,u=e.metadata,c=e.groupBy,l=[];return hu.subscribe(function(t){n("viewType",r=t),Yl()}),du.subscribe(function(){Yl()}),zs(function(){console.log("beforeUpdate:",l),"nestedByIndicator"===c&&l.forEach(function(t){t&&t._tippy&&t._tippy.destroy()})}),i=function(){console.log("afterUpdate:",l),"nestedByIndicator"!==c&&l.forEach(function(t){Ll(t,{arrow:!0,offset:"35, 0"})})},Ys().$$.after_update.push(i),t.$set=function(t){"group"in t&&n("group",a=t.group),"groupedData"in t&&n("groupedData",s=t.groupedData),"metadata"in t&&n("metadata",u=t.metadata),"groupBy"in t&&n("groupBy",c=t.groupBy)},t.$$.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{groupedData:1,group:1};(t.groupedData||t.group)&&n("match",o=s.find(function(t){return t.key===a.key}))},{group:a,groupedData:s,metadata:u,groupBy:c,viewType:r,headings:l,match:o,h3_binding:function(t,e){l[e]!==t&&Ws[t?"unshift":"push"](function(){l[e]=t,n("headings",l)})}}}var Vl=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==Pl(e)&&"function"!=typeof e?jl(t):e}(this,Il(e).call(this)),lu(jl(n),t,zl,Ul,Ms,["group","groupedData","metadata","groupBy"]),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bl(t,e)}(e,fu),e}();n(17);function ql(t){return(ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wl(t){return(Wl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kl(t,e){return(Kl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zl(t,e,n){var r=Object.create(t);return r.group=e[n],r.i=n,r}function Ql(t){var e,n,r,i;return{c:function(){e=Ns("a"),n=Ds("Back to first section"),$s(e,"class",r="skip-link js-skip-link-"+t.group.key+" svelte-20w29h"),$s(e,"id","skip-link-"+t.i),$s(e,"name","skip-link-"+t.i),$s(e,"href","#skip-link-0"),e.dataset.linkTo="0",i=Is(e,"click",js(ef))},m:function(t,r){Ts(t,e,r),Es(e,n)},p:function(t,n){t.groupedData&&r!==(r="skip-link js-skip-link-"+n.group.key+" svelte-20w29h")&&$s(e,"class",r)},d:function(t){t&&Os(e),i()}}}function Jl(t){var e,n,r,i;return{c:function(){e=Ns("a"),n=Ds("Skip to next section"),$s(e,"class",r="skip-link js-skip-link-"+t.group.key+" svelte-20w29h"),$s(e,"id","skip-link-"+t.i),$s(e,"name","skip-link-"+t.i),$s(e,"href","#skip-link-"+(t.i+1)),e.dataset.linkTo=t.i+1,i=Is(e,"click",js(ef))},m:function(t,r){Ts(t,e,r),Es(e,n)},p:function(t,n){t.groupedData&&r!==(r="skip-link js-skip-link-"+n.group.key+" svelte-20w29h")&&$s(e,"class",r)},d:function(t){t&&Os(e),i()}}}function Gl(t){var e,n,r,i,o,a,s,u,c,l,f,p,h,d,m,y,g,v,_,b,x,w,k,S,M,E,T=Lu[t.group.key]?Lu[t.group.key].label:t.group.key,O="time"===t.viewType?"":"(".concat(t.metadata.stopYear,")"),C=Lu[t.group.key]&&Lu[t.group.key].desc?Lu[t.group.key].desc+".":"",N=Lu[t.group.key]&&Lu[t.group.key].source?"Source: "+Lu[t.group.key].source:"";function A(t){return t.i<t.groupedData.length-1?Jl:Ql}var D=A(t),L=D(t),P=new Vl({props:{group:t.group,groupedData:t.groupedData,metadata:t.metadata,groupBy:t.groupBy}});return{c:function(){e=Ns("section"),n=Ns("a"),o=Ls(),a=Ns("h2"),s=Ds(T),u=Ls(),c=Ns("span"),l=Ds(O),f=Ls(),(p=Ns("a")).textContent="[back to top]",h=Ls(),L.c(),d=Ls(),m=Ns("p"),y=Ds(C),g=Ls(),v=Ds(N),_=Ls(),b=Ns("div"),P.$$.fragment.c(),x=Ls(),w=Ns("a"),S=Ls(),$s(n,"tabindex","-1"),$s(n,"class","section-anchor observer-anchor js-section-anchor-"+t.i+" svelte-20w29h"),$s(n,"id",r="anchor-"+t.group.key),n.dataset.key=i=t.group.key,$s(c,"class","svelte-20w29h"),$s(a,"class","dataviz-heading svelte-20w29h"),$s(p,"class","back-to-top svelte-20w29h"),$s(p,"href","#top"),$s(m,"class","description svelte-20w29h"),$s(b,"class","dataviz-container svelte-20w29h"),$s(w,"class","upward-observer-anchor observer-anchor svelte-20w29h"),w.dataset.key=k=t.group.key,$s(e,"class","dataviz-section svelte-20w29h"),E=Is(p,"click",js(nf))},m:function(t,r){Ts(t,e,r),Es(e,n),Es(e,o),Es(e,a),Es(a,s),Es(a,u),Es(a,c),Es(c,l),Es(e,f),Es(e,p),Es(e,h),L.m(e,null),Es(e,d),Es(e,m),Es(m,y),Es(m,g),Es(m,v),Es(e,_),Es(e,b),uu(P,b,null),Es(e,x),Es(e,w),Es(e,S),M=!0},p:function(t,o){M&&!t.groupedData||r===(r="anchor-"+o.group.key)||$s(n,"id",r),M&&!t.groupedData||i===(i=o.group.key)||(n.dataset.key=i),M&&!t.groupedData||T===(T=Lu[o.group.key]?Lu[o.group.key].label:o.group.key)||Fs(s,T),M&&!t.viewType&&!t.metadata||O===(O="time"===o.viewType?"":"(".concat(o.metadata.stopYear,")"))||Fs(l,O),D===(D=A(o))&&L?L.p(t,o):(L.d(1),(L=D(o))&&(L.c(),L.m(e,d))),M&&!t.groupedData||C===(C=Lu[o.group.key]&&Lu[o.group.key].desc?Lu[o.group.key].desc+".":"")||Fs(y,C),M&&!t.groupedData||N===(N=Lu[o.group.key]&&Lu[o.group.key].source?"Source: "+Lu[o.group.key].source:"")||Fs(v,N);var a={};t.groupedData&&(a.group=o.group),t.groupedData&&(a.groupedData=o.groupedData),t.metadata&&(a.metadata=o.metadata),t.groupBy&&(a.groupBy=o.groupBy),P.$set(a),M&&!t.groupedData||k===(k=o.group.key)||(w.dataset.key=k)},i:function(t){M||(au(P.$$.fragment,t),M=!0)},o:function(t){su(P.$$.fragment,t),M=!1},d:function(t){t&&Os(e),L.d(),cu(P),E()}}}function tf(t){for(var e,n,r=t.groupedData,i=[],o=0;o<r.length;o+=1)i[o]=Gl(Zl(t,r,o));var a=function(t){return su(i[t],1,1,function(){i[t]=null})};return{c:function(){for(var t=0;t<i.length;t+=1)i[t].c();e=Ps()},m:function(t,r){for(var o=0;o<i.length;o+=1)i[o].m(t,r);Ts(t,e,r),n=!0},p:function(t,n){if(t.groupedData||t.metadata||t.groupBy||t.dictionary||t.viewType){r=n.groupedData;for(var o=0;o<r.length;o+=1){var s=Zl(n,r,o);i[o]?(i[o].p(t,s),au(i[o],1)):(i[o]=Gl(s),i[o].c(),au(i[o],1),i[o].m(e.parentNode,e))}for(iu(),o=r.length;o<i.length;o+=1)a(o);ou()}},i:function(t){if(!n){for(var e=0;e<r.length;e+=1)au(i[e]);n=!0}},o:function(t){i=i.filter(Boolean);for(var e=0;e<i.length;e+=1)su(i[e]);n=!1},d:function(t){Cs(i,t),t&&Os(e)}}}function ef(t){var e=this.dataset.linkTo;document.querySelector(".js-section-anchor-"+e).modifiedScrollIntoView(),document.querySelector(this.hash).focus()}function nf(){document.querySelector('a[name="top"]').modifiedScrollIntoView(!0)}function rf(t,e,n){var r,i=e.groupedData,o=e.metadata,a=e.groupBy;hu.subscribe(function(t){n("viewType",r=t)}),mu.subscribe(function(t){var e=document.getElementById("anchor-"+t);e&&e.modifiedScrollIntoView()});var s=0;return Vs(function(){var t=new IntersectionObserver(function(t,e){t.forEach(function(t){var e=window.pageYOffset;t.isIntersecting&&e<s&&yu.set(t.target.dataset.key),s=e})});document.querySelectorAll(".section-anchor").forEach(function(e){t.observe(e)});var e=new IntersectionObserver(function(t,e){t.forEach(function(t){console.log(t,s,window.pageYOffset);var e=window.pageYOffset;t.isIntersecting&&e>=s&&yu.set(t.target.dataset.key),s=e})});document.querySelectorAll(".upward-observer-anchor").forEach(function(t){e.observe(t)})}),t.$set=function(t){"groupedData"in t&&n("groupedData",i=t.groupedData),"metadata"in t&&n("metadata",o=t.metadata),"groupBy"in t&&n("groupBy",a=t.groupBy)},{groupedData:i,metadata:o,groupBy:a,viewType:r}}var of=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==ql(e)&&"function"!=typeof e?Xl(t):e}(this,Wl(e).call(this)),lu(Xl(n),t,rf,tf,Ms,["groupedData","metadata","groupBy"]),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kl(t,e)}(e,fu),e}();n(18);function af(t){return(af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sf(t){return(sf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cf(t,e){return(cf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lf(t){var e,n,r,i,o,a,s,u,c=new tc({props:{isSticky:t.isSticky,groupedData:t.groupedData,metadata:t.metadata}}),l=new of({props:{groupedData:t.groupedData,metadata:t.metadata,groupBy:t.groupBy}});return{c:function(){e=Ns("a"),n=Ls(),r=Ns("div"),c.$$.fragment.c(),i=Ls(),o=Ns("div"),a=Ns("a"),s=Ls(),l.$$.fragment.c(),$s(e,"class","top-anchor svelte-12y5wj1"),$s(e,"name","top"),$s(r,"class","top-container svelte-12y5wj1"),$s(a,"tabindex","-1"),$s(a,"class","dataviz-observer-anchor svelte-12y5wj1"),$s(o,"class","dataviz-wrapper svelte-12y5wj1"),Rs(o,"by-city","nestedByCity"===t.groupBy)},m:function(t,f){Ts(t,e,f),Ts(t,n,f),Ts(t,r,f),uu(c,r,null),Ts(t,i,f),Ts(t,o,f),Es(o,a),Es(o,s),uu(l,o,null),u=!0},p:function(t,e){var n={};t.isSticky&&(n.isSticky=e.isSticky),t.groupedData&&(n.groupedData=e.groupedData),t.metadata&&(n.metadata=e.metadata),c.$set(n);var r={};t.groupedData&&(r.groupedData=e.groupedData),t.metadata&&(r.metadata=e.metadata),t.groupBy&&(r.groupBy=e.groupBy),l.$set(r),t.groupBy&&Rs(o,"by-city","nestedByCity"===e.groupBy)},i:function(t){u||(au(c.$$.fragment,t),au(l.$$.fragment,t),u=!0)},o:function(t){su(c.$$.fragment,t),su(l.$$.fragment,t),u=!1},d:function(t){t&&(Os(e),Os(n),Os(r)),cu(c),t&&(Os(i),Os(o)),cu(l)}}}function ff(t,e,n){var r,i,o=e.data,a=e.metadata,s=!1;return Element.prototype.modifiedScrollIntoView=function(){this.scrollIntoView(arguments)},du.subscribe(function(t){n("groupedData",r=o[t]),n("groupBy",i=t)}),Vs(function(){new IntersectionObserver(function(t,e){t.forEach(function(t){t.isIntersecting?n("isSticky",s=!0):n("isSticky",s=!1)})}).observe(document.querySelector(".dataviz-observer-anchor"))}),t.$set=function(t){"data"in t&&n("data",o=t.data),"metadata"in t&&n("metadata",a=t.metadata)},{data:o,metadata:a,groupedData:r,groupBy:i,isSticky:s}}var pf=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==af(e)&&"function"!=typeof e?uf(t):e}(this,sf(e).call(this)),lu(uf(n),t,ff,lf,Ms,["data","metadata"]),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cf(t,e)}(e,fu),e}(),hf=n(5),df=n.n(hf),mf=n(6),yf=n.n(mf),gf={startYear:2008,stopYear:2018};function vf(t,e){function n(t,e){return"Philadelphia"===t?-1:"Philadelphia"===e?1:[t,e].sort()[0]===t?-1:1}i.a.parse(""+df.a,{complete:function(e){!function(t){for(var e in t.forEach(function(t,e,n){gf[t.indicator]=gf[t.indicator]||{},gf[t.city]=gf[t.city]||{};var r=us.range(gf.startYear,gf.stopYear).concat(gf.stopYear);gf[t.indicator].yearValues=gf[t.indicator].yearValues?gf[t.indicator].yearValues.concat(r.map(function(e){return t[e]})):r.map(function(e){return t[e]}),gf[t.city].yearValues=gf[t.city].yearValues?gf[t.city].yearValues.concat(r.map(function(e){return t[e]})):r.map(function(e){return t[e]});var i=Object.keys(t).filter(function(t){return t.match(/race\d$/)});gf[t.indicator].raceValues=gf[t.indicator].raceValues?gf[t.indicator].raceValues.concat(i.map(function(e){return t[e]})):i.map(function(e){return t[e]}),gf[t.city].raceValues=gf[t.city].raceValues?gf[t.city].raceValues.concat(i.map(function(e){return t[e]})):i.map(function(e){return t[e]});var o=Object.keys(t).filter(function(t){return t.match(/age\d$/)});gf[t.indicator].ageValues=gf[t.indicator].ageValues?gf[t.indicator].ageValues.concat(o.map(function(e){return t[e]})):o.map(function(e){return t[e]}),gf[t.city].ageValues=gf[t.city].ageValues?gf[t.city].ageValues.concat(o.map(function(e){return t[e]})):o.map(function(e){return t[e]});var a=Object.keys(t).filter(function(t){return t.match(/race\d_a/)});gf[t.indicator].raceValuesA=gf[t.indicator].raceValuesA?gf[t.indicator].raceValuesA.concat(a.map(function(e){return t[e]})):a.map(function(e){return t[e]}),gf[t.city].raceValuesA=gf[t.city].raceValuesA?gf[t.city].raceValuesA.concat(a.map(function(e){return t[e]})):a.map(function(e){return t[e]});var s=Object.keys(t).filter(function(t){return t.match(/age\d_a/)});gf[t.indicator].ageValuesA=gf[t.indicator].ageValuesA?gf[t.indicator].ageValuesA.concat(s.map(function(e){return t[e]})):s.map(function(e){return t[e]}),gf[t.city].ageValuesA=gf[t.city].ageValuesA?gf[t.city].ageValuesA.concat(s.map(function(e){return t[e]})):s.map(function(e){return t[e]})}),gf)e.match(/start|stop/)||(gf[e].maxYear=us.max(gf[e].yearValues.filter(function(t){return!isNaN(t)})),gf[e].minYear=us.min(gf[e].yearValues.filter(function(t){return!isNaN(t)})),gf[e].maxRace=us.max(gf[e].raceValues.filter(function(t){return!isNaN(t)})),gf[e].minRace=us.min(gf[e].raceValues.filter(function(t){return!isNaN(t)})),gf[e].maxAge=us.max(gf[e].ageValues.filter(function(t){return!isNaN(t)})),gf[e].minAge=us.min(gf[e].ageValues.filter(function(t){return!isNaN(t)})),gf[e].maxPop=us.max(gf[e].ageValuesA.filter(function(t){return!isNaN(t)}).concat(gf[e].raceValuesA.filter(function(t){return!isNaN(t)}))),gf[e].minPop=us.min(gf[e].ageValuesA.filter(function(t){return!isNaN(t)}).concat(gf[e].raceValuesA.filter(function(t){return!isNaN(t)}))));var n=[],r=[];for(var i in gf)i.match(/start|stop/)||(n.push(gf[i].minPop),r.push(gf[i].maxPop));gf.minPop=us.min(n),gf.maxPop=us.max(r)}(e.data),console.log(gf);var r=us.nest().key(function(t){return t.indicator}).key(function(t){return t.city}).sortKeys(n).entries(e.data),i=us.nest().key(function(t){return t.city}).sortKeys(n).key(function(t){return t.indicator}).entries(e.data);t({nestedByIndicator:r,nestedByCity:i})},download:!0,dynamicTyping:!0,error:function(t,n){e({error:t,file:n})},fastMode:!0,header:!0,skipEmptyLines:!0})}console.log("dowag","preview"),document.querySelector("#overview-container").innerHTML=yf.a,new Promise(function(t,e){vf(t,e)}).then(function(t){new pf({target:document.querySelector("#svelte-container"),props:{data:t,metadata:gf}})})}]);