!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t){t.exports=JSON.parse('{"population":{"label":"Population","units":"si","units_alt":"percentage","desc":"","source":"[TO COME]","tooltipFormat":",.0f","disagTooltipFormat":".1%"},"foreign_born":{"label":"Foreign born","units":"percentage","desc":"Percentage of residents who were not U.S. citizens at birth","source":"[TO COME]","tooltipFormat":".1%"},"poverty":{"label":"Poverty rate","units":"percentage","desc":"Percentage of people in households with income below the poverty level","source":"[TO COME]","tooltipFormat":".1%"},"deep_poverty":{"label":"Deep poverty rate","units":"percentage","desc":"Percentage of people in households with income at or below 50 percent of the poverty level","source":"[TO COME]","tooltipFormat":".1%"},"cost_burden":{"label":"Housing cost burdened","units":"percentage","desc":"Percentage of households spending more than 30 percent of their income on housing","source":"[TO COME]","tooltipFormat":".1%"},"hh_income":{"label":"Household income","units":"currency","desc":"Combined income from all members of a household 15 years old or older","source":"[TO COME]","tooltipFormat":"$,.0f"},"homeownership":{"label":"Homeownership","units":"percentage","desc":"Percentage of households owned by the head of household","source":"[TO COME]","tooltipFormat":".1%"},"labor_force":{"label":"Labor force participation rate","units":"percentage","desc":"Percentage of people in the military or classified in the civilian labor force","source":"[TO COME]","tooltipFormat":".1%"},"unemployment":{"label":"Unemployment rate","units":"percentage","desc":"Percentage of the civilian work force that is unemployed","source":"[TO COME]","tooltipFormat":".1%"},"disability":{"label":"Disability","units":"percentage","desc":"Percentage of people with a disability (civilian noninstitutionalized population)","source":"[TO COME]","tooltipFormat":".1%"},"commute":{"label":"Commute to work","units":"percentage","desc":"Percentage of workers who commute to work","source":"[TO COME]","tooltipFormat":".1%"},"college":{"label":"College","units":"percentage","desc":"[TO COME]","source":"[TO COME]","tooltipFormat":".1%"},"pre_K":{"label":"Preschool enrollment rate","units":"percentage","desc":"Percentage of preschool-aged children enrolled in preschool","source":"[TO COME]","tooltipFormat":".1%"},"homicide_capita":{"label":"Homicide rate","units":"decimal","desc":"The number of homicides per 100,000 inhabitants","source":"[TO COME]","tooltipFormat":".1f"},"race1":"White","race2":"Black","race3":"Hispanic","race4":"Asian","age1":"< 35","age2":"35â€“64","age3":"65+"}')},function(t,e,n){},function(t,e,n){var i,r,a;
/* @license
Papa Parse
v5.0.1
https://github.com/mholt/PapaParse
License: MIT
*/r=[],void 0===(a="function"==typeof(i=function t(){"use strict";var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},n=!e.document&&!!e.postMessage,i=n&&/blob:/i.test((e.location||{}).protocol),r={},a=0,o={parse:function(n,i){var s=(i=i||{}).dynamicTyping||!1;if(w(s)&&(i.dynamicTypingFunction=s,s={}),i.dynamicTyping=s,i.transform=!!w(i.transform)&&i.transform,i.worker&&o.WORKERS_SUPPORTED){var u=function(){if(!o.WORKERS_SUPPORTED)return!1;var n,i,s=(n=e.URL||e.webkitURL||null,i=t.toString(),o.BLOB_URL||(o.BLOB_URL=n.createObjectURL(new Blob(["(",i,")();"],{type:"text/javascript"})))),u=new e.Worker(s);return u.onmessage=g,u.id=a++,r[u.id]=u}();return u.userStep=i.step,u.userChunk=i.chunk,u.userComplete=i.complete,u.userError=i.error,i.step=w(i.step),i.chunk=w(i.chunk),i.complete=w(i.complete),i.error=w(i.error),delete i.worker,void u.postMessage({input:n,config:i,workerId:u.id})}var p=null;return o.NODE_STREAM_INPUT,"string"==typeof n?p=i.download?new c(i):new h(i):!0===n.readable&&w(n.read)&&w(n.on)?p=new f(i):(e.File&&n instanceof File||n instanceof Object)&&(p=new l(i)),p.stream(n)},unparse:function(t,e){var n=!1,i=!0,r=",",a="\r\n",s='"',u=s+s,c=!1,l=null;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||o.BAD_DELIMITERS.filter(function(t){return-1!==e.delimiter.indexOf(t)}).length||(r=e.delimiter),("boolean"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(c=e.skipEmptyLines),"string"==typeof e.newline&&(a=e.newline),"string"==typeof e.quoteChar&&(s=e.quoteChar),"boolean"==typeof e.header&&(i=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");l=e.columns}void 0!==e.escapeChar&&(u=e.escapeChar+s)}}();var h=new RegExp(d(s),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return p(null,t,c);if("object"==typeof t[0])return p(l||f(t[0]),t,c)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:f(t.data[0])),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),p(t.fields||[],t.data||[],c);throw new Error("Unable to serialize unrecognized input");function f(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function p(t,e,n){var o="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var s=Array.isArray(t)&&0<t.length,u=!Array.isArray(e[0]);if(s&&i){for(var c=0;c<t.length;c++)0<c&&(o+=r),o+=_(t[c],c);0<e.length&&(o+=a)}for(var l=0;l<e.length;l++){var h=s?t.length:e[l].length,f=!1,p=s?0===Object.keys(e[l]).length:0===e[l].length;if(n&&!s&&(f="greedy"===n?""===e[l].join("").trim():1===e[l].length&&0===e[l][0].length),"greedy"===n&&s){for(var d=[],g=0;g<h;g++){var y=u?t[g]:g;d.push(e[l][y])}f=""===d.join("").trim()}if(!f){for(var m=0;m<h;m++){0<m&&!p&&(o+=r);var v=s&&u?t[m]:m;o+=_(e[l][v],m)}l<e.length-1&&(!n||0<h&&!p)&&(o+=a)}}return o}function _(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);t=t.toString().replace(h,u);var i="boolean"==typeof n&&n||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(t,o.BAD_DELIMITERS)||-1<t.indexOf(r)||" "===t.charAt(0)||" "===t.charAt(t.length-1);return i?s+t+s:t}}};if(o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!n&&!!e.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=_,o.ParserHandle=p,o.NetworkStreamer=c,o.FileStreamer=l,o.StringStreamer=h,o.ReadableStreamStreamer=f,e.jQuery){var s=e.jQuery;s.fn.parse=function(t){var n=t.config||{},i=[];return this.each(function(t){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var r=0;r<this.files.length;r++)i.push({file:this.files[r],inputElem:this,instanceConfig:s.extend({},n)})}),r(),this;function r(){if(0!==i.length){var e,n,r,u=i[0];if(w(t.before)){var c=t.before(u.file,u.inputElem);if("object"==typeof c){if("abort"===c.action)return e=u.file,n=u.inputElem,r=c.reason,void(w(t.error)&&t.error({name:"AbortError"},e,n,r));if("skip"===c.action)return void a();"object"==typeof c.config&&(u.instanceConfig=s.extend(u.instanceConfig,c.config))}else if("skip"===c)return void a()}var l=u.instanceConfig.complete;u.instanceConfig.complete=function(t){w(l)&&l(t,u.file,u.inputElem),a()},o.parse(u.file,u.instanceConfig)}else w(t.complete)&&t.complete()}function a(){i.splice(0,1),r()}}}function u(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=v(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new p(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,n){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(t);void 0!==r&&(t=r)}this.isFirstChunk=!1,this._halted=!1;var a=this._partialLine+t;this._partialLine="";var s=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=s.meta.cursor;this._finished||(this._partialLine=a.substring(u-this._baseIndex),this._baseIndex=u),s&&s.data&&(this._rowCount+=s.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)e.postMessage({results:s,workerId:o.WORKER_ID,finished:c});else if(w(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!c||!w(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(t){w(this._config.error)?this._config.error(t):i&&this._config.error&&e.postMessage({workerId:o.WORKER_ID,error:t,finished:!1})}}function c(t){var e;(t=t||{}).chunkSize||(t.chunkSize=o.RemoteChunkSize),u.call(this,t),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),n||(e.onload=x(this._chunkLoaded,this),e.onerror=x(this._chunkError,this)),e.open("GET",this._input,!n),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var i in t)e.setRequestHeader(i,t[i])}if(this._config.chunkSize){var r=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+r)}try{e.send()}catch(t){this._chunkError(t.message)}n&&0===e.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._finished=!this._config.chunkSize||this._start>function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substr(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(new Error(n))}}function l(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=o.LocalChunkSize),u.call(this,t);var i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,i?((e=new FileReader).onload=x(this._chunkLoaded,this),e.onerror=x(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,r)}var a=e.readAsText(t,this._config.encoding);i||this._chunkLoaded({target:{result:a}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function h(t){var e;u.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,n=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(n)}}}function f(t){u.call(this,t=t||{});var e=[],n=!0,i=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=x(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=x(function(t){this._streamCleanUp(),this._sendError(t)},this),this._streamEnd=x(function(){this._streamCleanUp(),i=!0,this._streamData("")},this),this._streamCleanUp=x(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(t){var e,n,i,r=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,a=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,s=this,u=0,c=0,l=!1,h=!1,f=[],p={data:[],errors:[],meta:{}};if(w(t.step)){var g=t.step;t.step=function(e){if(p=e,x())m();else{if(m(),0===p.data.length)return;u+=e.data.length,t.preview&&u>t.preview?n.abort():g(p,s)}}}function y(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function m(){if(p&&i&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),i=!1),t.skipEmptyLines)for(var e=0;e<p.data.length;e++)y(p.data[e])&&p.data.splice(e--,1);return x()&&function(){if(p)if(Array.isArray(p.data[0])){for(var e=0;x()&&e<p.data.length;e++)p.data[e].forEach(n);p.data.splice(0,1)}else p.data.forEach(n);function n(e){w(t.transformHeader)&&(e=t.transformHeader(e)),f.push(e)}}(),function(){if(!p||!t.header&&!t.dynamicTyping&&!t.transform)return p;function e(e,n){var i,r=t.header?{}:[];for(i=0;i<e.length;i++){var a=i,o=e[i];t.header&&(a=i>=f.length?"__parsed_extra":f[i]),t.transform&&(o=t.transform(o,a)),o=b(a,o),"__parsed_extra"===a?(r[a]=r[a]||[],r[a].push(o)):r[a]=o}return t.header&&(i>f.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+i,c+n):i<f.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+i,c+n)),r}var n=1;return!p.data[0]||Array.isArray(p.data[0])?(p.data=p.data.map(e),n=p.data.length):p.data=e(p.data,0),t.header&&p.meta&&(p.meta.fields=f),c+=n,p}()}function x(){return t.header&&0===f.length}function b(e,n){return i=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[i]&&(t.dynamicTyping[i]=t.dynamicTypingFunction(i)),!0===(t.dynamicTyping[i]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(r.test(n)?parseFloat(n):a.test(n)?new Date(n):""===n?null:n):n;var i}function k(t,e,n,i){p.errors.push({type:t,code:e,message:n,row:i})}this.parse=function(r,a,s){var u=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substr(0,1048576);var n=new RegExp(d(e)+"([^]*?)"+d(e),"gm"),i=(t=t.replace(n,"")).split("\r"),r=t.split("\n"),a=1<r.length&&r[0].length<i[0].length;if(1===i.length||a)return"\n";for(var o=0,s=0;s<i.length;s++)"\n"===i[s][0]&&o++;return o>=i.length/2?"\r\n":"\r"}(r,u)),i=!1,t.delimiter)w(t.delimiter)&&(t.delimiter=t.delimiter(r),p.meta.delimiter=t.delimiter);else{var c=function(e,n,i,r,a){var s,u,c,l;a=a||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var h=0;h<a.length;h++){var f=a[h],p=0,d=0,g=0;c=void 0;for(var m=new _({comments:r,delimiter:f,newline:n,preview:10}).parse(e),v=0;v<m.data.length;v++)if(i&&y(m.data[v]))g++;else{var x=m.data[v].length;d+=x,void 0!==c?0<x&&(p+=Math.abs(x-c),c=x):c=x}0<m.data.length&&(d/=m.data.length-g),(void 0===u||p<=u)&&(void 0===l||l<d)&&1.99<d&&(u=p,s=f,l=d)}return{successful:!!(t.delimiter=s),bestDelimiter:s}}(r,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);c.successful?t.delimiter=c.bestDelimiter:(i=!0,t.delimiter=o.DefaultDelimiter),p.meta.delimiter=t.delimiter}var h=v(t);return t.preview&&t.header&&h.preview++,e=r,n=new _(h),p=n.parse(e,a,s),m(),l?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,n.abort(),e=e.substr(n.getCharIndex())},this.resume=function(){s.streamer._halted?(l=!1,s.streamer.parseChunk(e,!0)):setTimeout(this.resume,3)},this.aborted=function(){return h},this.abort=function(){h=!0,n.abort(),p.meta.aborted=!0,w(t.complete)&&t.complete(p),e=""}}function d(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _(t){var e,n=(t=t||{}).delimiter,i=t.newline,r=t.comments,a=t.step,s=t.preview,u=t.fastMode,c=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(c=t.escapeChar),("string"!=typeof n||-1<o.BAD_DELIMITERS.indexOf(n))&&(n=","),r===n)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<o.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var l=0,h=!1;this.parse=function(t,o,f){if("string"!=typeof t)throw new Error("Input must be a string");var p=t.length,_=n.length,g=i.length,y=r.length,m=w(a),v=[],x=[],b=[],k=l=0;if(!t)return R();if(u||!1!==u&&-1===t.indexOf(e)){for(var M=t.split(i),T=0;T<M.length;T++){if(b=M[T],l+=b.length,T!==M.length-1)l+=i.length;else if(f)return R();if(!r||b.substr(0,y)!==r){if(m){if(v=[],O(b.split(n)),P(),h)return R()}else O(b.split(n));if(s&&s<=T)return v=v.slice(0,s),R(!0)}}return R()}for(var C=t.indexOf(n,l),S=t.indexOf(i,l),N=new RegExp(d(c)+d(e),"g"),E=t.indexOf(e,l);;)if(t[l]!==e)if(r&&0===b.length&&t.substr(l,y)===r){if(-1===S)return R();l=S+g,S=t.indexOf(i,l),C=t.indexOf(n,l)}else{if(-1!==C&&(C<S||-1===S)){if(-1===E){b.push(t.substring(l,C)),l=C+_,C=t.indexOf(n,l);continue}var $=F(C,E,S);if($&&$.nextDelim){C=$.nextDelim,E=$.quoteSearch,b.push(t.substring(l,C)),l=C+_,C=t.indexOf(n,l);continue}}if(-1===S)break;if(b.push(t.substring(l,S)),B(S+g),m&&(P(),h))return R();if(s&&v.length>=s)return R(!0)}else for(E=l,l++;;){if(-1===(E=t.indexOf(e,E+1)))return f||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:v.length,index:l}),L();if(E===p-1)return L(t.substring(l,E).replace(N,e));if(e!==c||t[E+1]!==c){if(e===c||0===E||t[E-1]!==c){var D=I(-1===S?C:Math.min(C,S));if(t[E+1+D]===n){b.push(t.substring(l,E).replace(N,e)),t[l=E+1+D+_]!==e&&(E=t.indexOf(e,l)),C=t.indexOf(n,l),S=t.indexOf(i,l);break}var A=I(S);if(t.substr(E+1+A,g)===i){if(b.push(t.substring(l,E).replace(N,e)),B(E+1+A+g),C=t.indexOf(n,l),E=t.indexOf(e,l),m&&(P(),h))return R();if(s&&v.length>=s)return R(!0);break}x.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:v.length,index:l}),E++}}else E++}return L();function O(t){v.push(t),k=l}function I(e){var n=0;if(-1!==e){var i=t.substring(E+1,e);i&&""===i.trim()&&(n=i.length)}return n}function L(e){return f||(void 0===e&&(e=t.substr(l)),b.push(e),l=p,O(b),m&&P()),R()}function B(e){l=e,O(b),b=[],S=t.indexOf(i,l)}function R(t,e){return{data:e?v[0]:v,errors:x,meta:{delimiter:n,linebreak:i,aborted:h,truncated:!!t,cursor:k+(o||0)}}}function P(){a(R(void 0,!0)),v=[],x=[]}function F(i,r,a){var o={nextDelim:void 0,quoteSearch:void 0},s=t.indexOf(e,r+1);if(r<i&&i<s&&(s<a||-1===a)){var u=t.indexOf(n,s);if(-1===u)return o;s<u&&(s=t.indexOf(e,s+1)),o=F(u,s,a)}else o={nextDelim:i,quoteSearch:r};return o}},this.abort=function(){h=!0},this.getCharIndex=function(){return l}}function g(t){var e=t.data,n=r[e.workerId],i=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var a={abort:function(){i=!0,y(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:m,resume:m};if(w(n.userStep)){for(var o=0;o<e.results.data.length&&(n.userStep({data:e.results.data[o],errors:e.results.errors,meta:e.results.meta},a),!i);o++);delete e.results}else w(n.userChunk)&&(n.userChunk(e.results,a,e.file),delete e.results)}e.finished&&!i&&y(e.workerId,e.results)}function y(t,e){var n=r[t];w(n.userComplete)&&n.userComplete(e),n.terminate(),delete r[t]}function m(){throw new Error("Not implemented.")}function v(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=v(t[n]);return e}function x(t,e){return function(){t.apply(e,arguments)}}function w(t){return"function"==typeof t}return i&&(e.onmessage=function(t){var n=t.data;if(void 0===o.WORKER_ID&&n&&(o.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:o.WORKER_ID,results:o.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var i=o.parse(n.input,n.config);i&&e.postMessage({workerId:o.WORKER_ID,results:i,finished:!0})}}),(c.prototype=Object.create(u.prototype)).constructor=c,(l.prototype=Object.create(u.prototype)).constructor=l,(h.prototype=Object.create(h.prototype)).constructor=h,(f.prototype=Object.create(u.prototype)).constructor=f,o})?i.apply(e,r):i)||(t.exports=a)},function(t,e){t.exports="<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\ntempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,\nquis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\nconsequat. Duis aute irure dolor in reprehenderit in voluptate velit esse\ncillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non\nproident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n"},function(t,e,n){t.exports=n.p+"4c95e37f20bd2aabacdfe990ddd23bec.svg"},function(t,e,n){t.exports=n.p+"data/dashboard-data-1.csv?v=de16b5"},function(t,e,n){t.exports=n(17)},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n.n(i),a=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},o=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return a(e(t),n)}),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)<0?i=a+1:r=a}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)>0?r=a:i=a+1}return i}}};var s=o(a),u=s.right,c=(s.left,u);var l=function(t,e){var n,i,r,a=t.length,o=-1;if(null==e){for(;++o<a;)if(null!=(n=t[o])&&n>=n)for(i=r=n;++o<a;)null!=(n=t[o])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++o<a;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=r=n;++o<a;)null!=(n=e(t[o],o,t))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]},h=Array.prototype,f=(h.slice,h.map,function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(r);++i<r;)a[i]=t+i*n;return a}),p=Math.sqrt(50),d=Math.sqrt(10),_=Math.sqrt(2),g=function(t,e,n){var i,r,a,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(o=y(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(r=Math.ceil(e-t+1));++s<r;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(r=Math.ceil(t-e+1));++s<r;)a[s]=(t-s)/o;return i&&a.reverse(),a};function y(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,r);return r>=0?(a>=p?10:a>=d?5:a>=_?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(a>=p?10:a>=d?5:a>=_?2:1)}function m(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),a=i/r;return a>=p?r*=10:a>=d?r*=5:a>=_&&(r*=2),e<t?-r:r}var v=function(t,e){var n,i,r=t.length,a=-1;if(null==e){for(;++a<r;)if(null!=(n=t[a])&&n>=n)for(i=n;++a<r;)null!=(n=t[a])&&i>n&&(i=n)}else for(;++a<r;)if(null!=(n=e(t[a],a,t))&&n>=n)for(i=n;++a<r;)null!=(n=e(t[a],a,t))&&i>n&&(i=n);return i};var x=Array.prototype.slice,w=function(t){return t},b=1,k=2,M=3,T=4,C=1e-6;function S(t){return"translate("+(t+.5)+",0)"}function N(t){return"translate(0,"+(t+.5)+")"}function E(){return!this.__axis}function $(t,e){var n=[],i=null,r=null,a=6,o=6,s=3,u=t===b||t===T?-1:1,c=t===T||t===k?"x":"y",l=t===b||t===M?S:N;function h(h){var f=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,p=null==r?e.tickFormat?e.tickFormat.apply(e,n):w:r,d=Math.max(a,0)+s,_=e.range(),g=+_[0]+.5,y=+_[_.length-1]+.5,m=(e.bandwidth?function(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}:function(t){return function(e){return+t(e)}})(e.copy()),v=h.selection?h.selection():h,x=v.selectAll(".domain").data([null]),S=v.selectAll(".tick").data(f,e).order(),N=S.exit(),$=S.enter().append("g").attr("class","tick"),D=S.select("line"),A=S.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge($),D=D.merge($.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),A=A.merge($.append("text").attr("fill","currentColor").attr(c,u*d).attr("dy",t===b?"0em":t===M?"0.71em":"0.32em")),h!==v&&(x=x.transition(h),S=S.transition(h),D=D.transition(h),A=A.transition(h),N=N.transition(h).attr("opacity",C).attr("transform",function(t){return isFinite(t=m(t))?l(t):this.getAttribute("transform")}),$.attr("opacity",C).attr("transform",function(t){var e=this.parentNode.__axis;return l(e&&isFinite(e=e(t))?e:m(t))})),N.remove(),x.attr("d",t===T||t==k?o?"M"+u*o+","+g+"H0.5V"+y+"H"+u*o:"M0.5,"+g+"V"+y:o?"M"+g+","+u*o+"V0.5H"+y+"V"+u*o:"M"+g+",0.5H"+y),S.attr("opacity",1).attr("transform",function(t){return l(m(t))}),D.attr(c+"2",u*a),A.attr(c,u*d).text(p),v.filter(E).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===k?"start":t===T?"end":"middle"),v.each(function(){this.__axis=m})}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=x.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:x.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(i=null==t?null:x.call(t),h):i&&i.slice()},h.tickFormat=function(t){return arguments.length?(r=t,h):r},h.tickSize=function(t){return arguments.length?(a=o=+t,h):a},h.tickSizeInner=function(t){return arguments.length?(a=+t,h):a},h.tickSizeOuter=function(t){return arguments.length?(o=+t,h):o},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h}function D(){}function A(t,e){var n=new D;if(t instanceof D)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,a=t.length;if(null==e)for(;++r<a;)n.set(r,t[r]);else for(;++r<a;)n.set(e(i=t[r],r,t),i)}else if(t)for(var o in t)n.set(o,t[o]);return n}D.prototype=A.prototype={constructor:D,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var O=A;function I(){return{}}function L(t,e,n){t[e]=n}function B(){return O()}function R(t,e,n){t.set(e,n)}function P(){}var F=O.prototype;function z(t,e){var n=new P;if(t instanceof P)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}P.prototype=z.prototype={constructor:P,has:F.has,add:function(t){return this["$"+(t+="")]=t,this},remove:F.remove,clear:F.clear,values:F.keys,size:F.size,empty:F.empty,each:F.each};var U=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},V=function(t){return(t=U(Math.abs(t)))?t[1]:NaN},q=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function H(t){return new j(t)}function j(t){if(!(e=q.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}H.prototype=j.prototype,j.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Y,W,X,Z,Q=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(r>0){if(!+t[i])break t;r=0}}return r>0?t.slice(0,r)+t.slice(e+1):t},K=function(t,e){var n=U(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},J={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return K(100*t,e)},r:K,s:function(t,e){var n=U(t,e);if(!n)return t+"";var i=n[0],r=n[1],a=r-(Y=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+U(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},G=function(t){return t},tt=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"],et=function(t){var e,n,i=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,i){for(var r=t.length,a=[],o=0,s=e[0],u=0;r>0&&s>0&&(u+s+1>i&&(s=Math.max(1,i-u)),a.push(t.substring(r-=s,r+s)),!((u+=s+1)>i));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}):G,r=t.currency,a=t.decimal,o=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):G,s=t.percent||"%";function u(t){var e=(t=H(t)).fill,n=t.align,u=t.sign,c=t.symbol,l=t.zero,h=t.width,f=t.comma,p=t.precision,d=t.trim,_=t.type;"n"===_?(f=!0,_="g"):J[_]||(null==p&&(p=12),d=!0,_="g"),(l||"0"===e&&"="===n)&&(l=!0,e="0",n="=");var g="$"===c?r[0]:"#"===c&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",y="$"===c?r[1]:/[%p]/.test(_)?s:"",m=J[_],v=/[defgprs%]/.test(_);function x(t){var r,s,c,x=g,w=y;if("c"===_)w=m(t)+w,t="";else{var b=(t=+t)<0;if(t=m(Math.abs(t),p),d&&(t=Q(t)),b&&0==+t&&(b=!1),x=(b?"("===u?u:"-":"-"===u||"("===u?"":u)+x,w=("s"===_?tt[8+Y/3]:"")+w+(b&&"("===u?")":""),v)for(r=-1,s=t.length;++r<s;)if(48>(c=t.charCodeAt(r))||c>57){w=(46===c?a+t.slice(r+1):t.slice(r))+w,t=t.slice(0,r);break}}f&&!l&&(t=i(t,1/0));var k=x.length+t.length+w.length,M=k<h?new Array(h-k+1).join(e):"";switch(f&&l&&(t=i(M+t,M.length?h-w.length:1/0),M=""),n){case"<":t=x+t+w+M;break;case"=":t=x+M+t+w;break;case"^":t=M.slice(0,k=M.length>>1)+x+t+w+M.slice(k);break;default:t=M+x+t+w}return o(t)}return p=null==p?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),x.toString=function(){return t+""},x}return{format:u,formatPrefix:function(t,e){var n=u(((t=H(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(V(e)/3))),r=Math.pow(10,-i),a=tt[8+i/3];return function(t){return n(r*t)+a}}}};W=et({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),X=W.format,Z=W.formatPrefix;function nt(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,a,o,s,u,c,l,h,f,p=t._root,d={data:i},_=t._x0,g=t._y0,y=t._x1,m=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((c=e>=(a=(_+y)/2))?_=a:y=a,(l=n>=(o=(g+m)/2))?g=o:m=o,r=p,!(p=p[h=l<<1|c]))return r[h]=d,t;if(s=+t._x.call(null,p.data),u=+t._y.call(null,p.data),e===s&&n===u)return d.next=p,r?r[h]=d:t._root=d,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(c=e>=(a=(_+y)/2))?_=a:y=a,(l=n>=(o=(g+m)/2))?g=o:m=o}while((h=l<<1|c)==(f=(u>=o)<<1|s>=a));return r[f]=p,r[h]=d,t}var it=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r};function rt(t){return t[0]}function at(t){return t[1]}function ot(t,e,n){var i=new st(null==e?rt:e,null==n?at:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function st(t,e,n,i,r,a){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=a,this._root=void 0}function ut(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var ct=ot.prototype=st.prototype;ct.copy=function(){var t,e,n=new st(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=ut(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=ut(e));return n},ct.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return nt(this.cover(e,n),e,n,t)},ct.addAll=function(t){var e,n,i,r,a=t.length,o=new Array(a),s=new Array(a),u=1/0,c=1/0,l=-1/0,h=-1/0;for(n=0;n<a;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(o[n]=i,s[n]=r,i<u&&(u=i),i>l&&(l=i),r<c&&(c=r),r>h&&(h=r));if(u>l||c>h)return this;for(this.cover(u,c).cover(l,h),n=0;n<a;++n)nt(this,o[n],s[n],t[n]);return this},ct.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,a=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,a=(i=Math.floor(e))+1;else{for(var o,s,u=r-n,c=this._root;n>t||t>=r||i>e||e>=a;)switch(s=(e<i)<<1|t<n,(o=new Array(4))[s]=c,c=o,u*=2,s){case 0:r=n+u,a=i+u;break;case 1:n=r-u,a=i+u;break;case 2:r=n+u,i=a-u;break;case 3:n=r-u,i=a-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=r,this._y1=a,this},ct.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},ct.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ct.find=function(t,e,n){var i,r,a,o,s,u,c,l=this._x0,h=this._y0,f=this._x1,p=this._y1,d=[],_=this._root;for(_&&d.push(new it(_,l,h,f,p)),null==n?n=1/0:(l=t-n,h=e-n,f=t+n,p=e+n,n*=n);u=d.pop();)if(!(!(_=u.node)||(r=u.x0)>f||(a=u.y0)>p||(o=u.x1)<l||(s=u.y1)<h))if(_.length){var g=(r+o)/2,y=(a+s)/2;d.push(new it(_[3],g,y,o,s),new it(_[2],r,y,g,s),new it(_[1],g,a,o,y),new it(_[0],r,a,g,y)),(c=(e>=y)<<1|t>=g)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-c],d[d.length-1-c]=u)}else{var m=t-+this._x.call(null,_.data),v=e-+this._y.call(null,_.data),x=m*m+v*v;if(x<n){var w=Math.sqrt(n=x);l=t-w,h=e-w,f=t+w,p=e+w,i=_.data}}return i},ct.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,i,r,a,o,s,u,c,l,h,f,p=this._root,d=this._x0,_=this._y0,g=this._x1,y=this._y1;if(!p)return this;if(p.length)for(;;){if((c=a>=(s=(d+g)/2))?d=s:g=s,(l=o>=(u=(_+y)/2))?_=u:y=u,e=p,!(p=p[h=l<<1|c]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;p.data!==t;)if(i=p,!(p=p.next))return this;return(r=p.next)&&delete p.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=r,this)},ct.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},ct.root=function(){return this._root},ct.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},ct.visit=function(t){var e,n,i,r,a,o,s=[],u=this._root;for(u&&s.push(new it(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,i=e.x0,r=e.y0,a=e.x1,o=e.y1)&&u.length){var c=(i+a)/2,l=(r+o)/2;(n=u[3])&&s.push(new it(n,c,l,a,o)),(n=u[2])&&s.push(new it(n,i,l,c,o)),(n=u[1])&&s.push(new it(n,c,r,a,l)),(n=u[0])&&s.push(new it(n,i,r,c,l))}return this},ct.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new it(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var a,o=e.x0,s=e.y0,u=e.x1,c=e.y1,l=(o+u)/2,h=(s+c)/2;(a=r[0])&&n.push(new it(a,o,s,l,h)),(a=r[1])&&n.push(new it(a,l,s,u,h)),(a=r[2])&&n.push(new it(a,o,h,l,c)),(a=r[3])&&n.push(new it(a,l,h,u,c))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},ct.x=function(t){return arguments.length?(this._x=t,this):this._x},ct.y=function(t){return arguments.length?(this._y=t,this):this._y};var lt=function(t){return function(){return t}},ht=function(){return 1e-6*(Math.random()-.5)};function ft(t){return t.x+t.vx}function pt(t){return t.y+t.vy}var dt={value:function(){}};function _t(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new gt(i)}function gt(t){this._=t}function yt(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function mt(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function vt(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=dt,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}gt.prototype=_t.prototype={constructor:gt,on:function(t,e){var n,i=this._,r=yt(t+"",i),a=-1,o=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=r[a]).type)i[n]=vt(i[n],t.name,e);else if(null==e)for(n in i)i[n]=vt(i[n],t.name,null);return this}for(;++a<o;)if((n=(t=r[a]).type)&&(n=mt(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new gt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(i=this._[t]).length;a<n;++a)i[a].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)}};var xt,wt,bt=_t,kt=0,Mt=0,Tt=0,Ct=1e3,St=0,Nt=0,Et=0,$t="object"==typeof performance&&performance.now?performance:Date,Dt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function At(){return Nt||(Dt(Ot),Nt=$t.now()+Et)}function Ot(){Nt=0}function It(){this._call=this._time=this._next=null}function Lt(t,e,n){var i=new It;return i.restart(t,e,n),i}function Bt(){Nt=(St=$t.now())+Et,kt=Mt=0;try{!function(){At(),++kt;for(var t,e=xt;e;)(t=Nt-e._time)>=0&&e._call.call(null,t),e=e._next;--kt}()}finally{kt=0,function(){var t,e,n=xt,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:xt=e);wt=t,Pt(i)}(),Nt=0}}function Rt(){var t=$t.now(),e=t-St;e>Ct&&(Et-=e,St=t)}function Pt(t){kt||(Mt&&(Mt=clearTimeout(Mt)),t-Nt>24?(t<1/0&&(Mt=setTimeout(Bt,t-$t.now()-Et)),Tt&&(Tt=clearInterval(Tt))):(Tt||(St=$t.now(),Tt=setInterval(Rt,Ct)),kt=1,Dt(Bt)))}It.prototype=Lt.prototype={constructor:It,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?At():+n)+(null==e?0:+e),this._next||wt===this||(wt?wt._next=this:xt=this,wt=this),this._call=t,this._time=n,Pt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pt())}};function Ft(t){return t.x}function zt(t){return t.y}var Ut=10,Vt=Math.PI*(3-Math.sqrt(5)),qt=Math.PI,Ht=2*qt,jt=Ht-1e-6;function Yt(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Wt(){return new Yt}Yt.prototype=Wt.prototype={constructor:Yt,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var a=this._x1,o=this._y1,s=n-t,u=i-e,c=a-t,l=o-e,h=c*c+l*l;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(l*s-u*c)>1e-6&&r){var f=n-a,p=i-o,d=s*s+u*u,_=f*f+p*p,g=Math.sqrt(d),y=Math.sqrt(h),m=r*Math.tan((qt-Math.acos((d+h-_)/(2*g*y)))/2),v=m/y,x=m/g;Math.abs(v-1)>1e-6&&(this._+="L"+(t+v*c)+","+(e+v*l)),this._+="A"+r+","+r+",0,0,"+ +(l*f>c*p)+","+(this._x1=t+x*s)+","+(this._y1=e+x*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,a){t=+t,e=+e,a=!!a;var o=(n=+n)*Math.cos(i),s=n*Math.sin(i),u=t+o,c=e+s,l=1^a,h=a?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+u+","+c),n&&(h<0&&(h=h%Ht+Ht),h>jt?this._+="A"+n+","+n+",0,1,"+l+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=qt)+","+l+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Xt=Wt;function Zt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Qt=Array.prototype,Kt=Qt.map,Jt=Qt.slice,Gt={name:"implicit"};function te(){var t=O(),e=[],n=[],i=Gt;function r(r){var a=r+"",o=t.get(a);if(!o){if(i!==Gt)return i;t.set(a,o=e.push(r))}return n[(o-1)%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=O();for(var i,a,o=-1,s=n.length;++o<s;)t.has(a=(i=n[o])+"")||t.set(a,e.push(i));return r},r.range=function(t){return arguments.length?(n=Jt.call(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return te(e,n).unknown(i)},Zt.apply(r,arguments),r}var ee=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function ne(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function ie(){}var re="\\s*([+-]?\\d+)\\s*",ae="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",oe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",se=/^#([0-9a-f]{3})$/,ue=/^#([0-9a-f]{6})$/,ce=new RegExp("^rgb\\("+[re,re,re]+"\\)$"),le=new RegExp("^rgb\\("+[oe,oe,oe]+"\\)$"),he=new RegExp("^rgba\\("+[re,re,re,ae]+"\\)$"),fe=new RegExp("^rgba\\("+[oe,oe,oe,ae]+"\\)$"),pe=new RegExp("^hsl\\("+[ae,oe,oe]+"\\)$"),de=new RegExp("^hsla\\("+[ae,oe,oe,ae]+"\\)$"),_e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ge(){return this.rgb().formatHex()}function ye(){return this.rgb().formatRgb()}function me(t){var e;return t=(t+"").trim().toLowerCase(),(e=se.exec(t))?new ke((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=ue.exec(t))?ve(parseInt(e[1],16)):(e=ce.exec(t))?new ke(e[1],e[2],e[3],1):(e=le.exec(t))?new ke(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=he.exec(t))?xe(e[1],e[2],e[3],e[4]):(e=fe.exec(t))?xe(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=pe.exec(t))?Se(e[1],e[2]/100,e[3]/100,1):(e=de.exec(t))?Se(e[1],e[2]/100,e[3]/100,e[4]):_e.hasOwnProperty(t)?ve(_e[t]):"transparent"===t?new ke(NaN,NaN,NaN,0):null}function ve(t){return new ke(t>>16&255,t>>8&255,255&t,1)}function xe(t,e,n,i){return i<=0&&(t=e=n=NaN),new ke(t,e,n,i)}function we(t){return t instanceof ie||(t=me(t)),t?new ke((t=t.rgb()).r,t.g,t.b,t.opacity):new ke}function be(t,e,n,i){return 1===arguments.length?we(t):new ke(t,e,n,null==i?1:i)}function ke(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Me(){return"#"+Ce(this.r)+Ce(this.g)+Ce(this.b)}function Te(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ce(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Se(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $e(t,e,n,i)}function Ne(t){if(t instanceof $e)return new $e(t.h,t.s,t.l,t.opacity);if(t instanceof ie||(t=me(t)),!t)return new $e;if(t instanceof $e)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),o=NaN,s=a-r,u=(a+r)/2;return s?(o=e===a?(n-i)/s+6*(n<i):n===a?(i-e)/s+2:(e-n)/s+4,s/=u<.5?a+r:2-a-r,o*=60):s=u>0&&u<1?0:o,new $e(o,s,u,t.opacity)}function Ee(t,e,n,i){return 1===arguments.length?Ne(t):new $e(t,e,n,null==i?1:i)}function $e(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function De(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}ee(ie,me,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ge,formatHex:ge,formatHsl:function(){return Ne(this).formatHsl()},formatRgb:ye,toString:ye}),ee(ke,be,ne(ie,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ke(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ke(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Me,formatHex:Me,formatRgb:Te,toString:Te})),ee($e,Ee,ne(ie,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new $e(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new $e(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new ke(De(t>=240?t-240:t+120,r,i),De(t,r,i),De(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ae=Math.PI/180,Oe=180/Math.PI,Ie=.96422,Le=1,Be=.82521,Re=4/29,Pe=6/29,Fe=3*Pe*Pe,ze=Pe*Pe*Pe;function Ue(t){if(t instanceof qe)return new qe(t.l,t.a,t.b,t.opacity);if(t instanceof Qe)return Ke(t);t instanceof ke||(t=we(t));var e,n,i=We(t.r),r=We(t.g),a=We(t.b),o=He((.2225045*i+.7168786*r+.0606169*a)/Le);return i===r&&r===a?e=n=o:(e=He((.4360747*i+.3850649*r+.1430804*a)/Ie),n=He((.0139322*i+.0971045*r+.7141733*a)/Be)),new qe(116*o-16,500*(e-o),200*(o-n),t.opacity)}function Ve(t,e,n,i){return 1===arguments.length?Ue(t):new qe(t,e,n,null==i?1:i)}function qe(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function He(t){return t>ze?Math.pow(t,1/3):t/Fe+Re}function je(t){return t>Pe?t*t*t:Fe*(t-Re)}function Ye(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function We(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Xe(t){if(t instanceof Qe)return new Qe(t.h,t.c,t.l,t.opacity);if(t instanceof qe||(t=Ue(t)),0===t.a&&0===t.b)return new Qe(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Oe;return new Qe(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ze(t,e,n,i){return 1===arguments.length?Xe(t):new Qe(t,e,n,null==i?1:i)}function Qe(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Ke(t){if(isNaN(t.h))return new qe(t.l,0,0,t.opacity);var e=t.h*Ae;return new qe(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}ee(qe,Ve,ne(ie,{brighter:function(t){return new qe(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new qe(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new ke(Ye(3.1338561*(e=Ie*je(e))-1.6168667*(t=Le*je(t))-.4906146*(n=Be*je(n))),Ye(-.9787684*e+1.9161415*t+.033454*n),Ye(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),ee(Qe,Ze,ne(ie,{brighter:function(t){return new Qe(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Qe(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ke(this).rgb()}}));var Je=-.14861,Ge=1.78277,tn=-.29227,en=-.90649,nn=1.97294,rn=nn*en,an=nn*Ge,on=Ge*tn-en*Je;function sn(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof un)return new un(t.h,t.s,t.l,t.opacity);t instanceof ke||(t=we(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(on*i+rn*e-an*n)/(on+rn-an),a=i-r,o=(nn*(n-r)-tn*a)/en,s=Math.sqrt(o*o+a*a)/(nn*r*(1-r)),u=s?Math.atan2(o,a)*Oe-120:NaN;return new un(u<0?u+360:u,s,r,t.opacity)}(t):new un(t,e,n,null==i?1:i)}function un(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function cn(t,e,n,i,r){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*i+o*r)/6}ee(un,sn,ne(ie,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new un(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new un(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Ae,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new ke(255*(e+n*(Je*i+Ge*r)),255*(e+n*(tn*i+en*r)),255*(e+n*(nn*i)),this.opacity)}}));var ln=function(t){return function(){return t}};function hn(t,e){return function(n){return t+n*e}}function fn(t,e){var n=e-t;return n?hn(t,n>180||n<-180?n-360*Math.round(n/360):n):ln(isNaN(t)?e:t)}function pn(t){return 1==(t=+t)?dn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):ln(isNaN(e)?n:e)}}function dn(t,e){var n=e-t;return n?hn(t,n):ln(isNaN(t)?e:t)}var _n=function t(e){var n=pn(e);function i(t,e){var i=n((t=be(t)).r,(e=be(e)).r),r=n(t.g,e.g),a=n(t.b,e.b),o=dn(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=a(e),t.opacity=o(e),t+""}}return i.gamma=t,i}(1);function gn(t){return function(e){var n,i,r=e.length,a=new Array(r),o=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=be(e[n]),a[n]=i.r||0,o[n]=i.g||0,s[n]=i.b||0;return a=t(a),o=t(o),s=t(s),i.opacity=1,function(t){return i.r=a(t),i.g=o(t),i.b=s(t),i+""}}}gn(function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],a=t[i+1],o=i>0?t[i-1]:2*r-a,s=i<e-1?t[i+2]:2*a-r;return cn((n-i/e)*e,o,r,a,s)}}),gn(function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],a=t[i%e],o=t[(i+1)%e],s=t[(i+2)%e];return cn((n-i/e)*e,r,a,o,s)}});var yn=function(t,e){return e-=t=+t,function(n){return t+e*n}},mn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vn=new RegExp(mn.source,"g");var xn,wn,bn,kn,Mn=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?ln(e):("number"===i?yn:"string"===i?(n=me(e))?(e=n,_n):function(t,e){var n,i,r,a=mn.lastIndex=vn.lastIndex=0,o=-1,s=[],u=[];for(t+="",e+="";(n=mn.exec(t))&&(i=vn.exec(e));)(r=i.index)>a&&(r=e.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:yn(n,i)})),a=vn.lastIndex;return a<e.length&&(r=e.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,i=0;i<e;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})}:e instanceof me?_n:e instanceof Date?function(t,e){var n=new Date;return e-=t=+t,function(i){return n.setTime(t+e*i),n}}:Array.isArray(e)?function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,a=new Array(r),o=new Array(i);for(n=0;n<r;++n)a[n]=Mn(t[n],e[n]);for(;n<i;++n)o[n]=e[n];return function(t){for(n=0;n<r;++n)o[n]=a[n](t);return o}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Mn(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}:yn)(t,e)},Tn=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},Cn=180/Math.PI,Sn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Nn=function(t,e,n,i,r,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,u/=s),t*i<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(e,t)*Cn,skewX:Math.atan(u)*Cn,scaleX:o,scaleY:s}};function En(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(a,o){var s=[],u=[];return a=t(a),o=t(o),function(t,i,r,a,o,s){if(t!==r||i!==a){var u=o.push("translate(",null,e,null,n);s.push({i:u-4,x:yn(t,r)},{i:u-2,x:yn(i,a)})}else(r||a)&&o.push("translate("+r+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,u),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(r(n)+"rotate(",null,i)-2,x:yn(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(a.rotate,o.rotate,s,u),function(t,e,n,a){t!==e?a.push({i:n.push(r(n)+"skewX(",null,i)-2,x:yn(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(a.skewX,o.skewX,s,u),function(t,e,n,i,a,o){if(t!==n||e!==i){var s=a.push(r(a)+"scale(",null,",",null,")");o.push({i:s-4,x:yn(t,n)},{i:s-2,x:yn(e,i)})}else 1===n&&1===i||a.push(r(a)+"scale("+n+","+i+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,u),a=o=null,function(t){for(var e,n=-1,i=u.length;++n<i;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}En(function(t){return"none"===t?Sn:(xn||(xn=document.createElement("DIV"),wn=document.documentElement,bn=document.defaultView),xn.style.transform=t,t=bn.getComputedStyle(wn.appendChild(xn),null).getPropertyValue("transform"),wn.removeChild(xn),t=t.slice(7,-1).split(","),Nn(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),En(function(t){return null==t?Sn:(kn||(kn=document.createElementNS("http://www.w3.org/2000/svg","g")),kn.setAttribute("transform",t),(t=kn.transform.baseVal.consolidate())?(t=t.matrix,Nn(t.a,t.b,t.c,t.d,t.e,t.f)):Sn)},", ",")",")"),Math.SQRT2;function $n(t){return function(e,n){var i=t((e=Ee(e)).h,(n=Ee(n)).h),r=dn(e.s,n.s),a=dn(e.l,n.l),o=dn(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=a(t),e.opacity=o(t),e+""}}}$n(fn),$n(dn);function Dn(t){return function(e,n){var i=t((e=Ze(e)).h,(n=Ze(n)).h),r=dn(e.c,n.c),a=dn(e.l,n.l),o=dn(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=a(t),e.opacity=o(t),e+""}}}Dn(fn),Dn(dn);function An(t){return function e(n){function i(e,i){var r=t((e=sn(e)).h,(i=sn(i)).h),a=dn(e.s,i.s),o=dn(e.l,i.l),s=dn(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=a(t),e.l=o(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,i.gamma=e,i}(1)}An(fn),An(dn);var On=function(t){return function(){return t}},In=function(t){return+t},Ln=[0,1];function Bn(t){return t}function Rn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:On(isNaN(e)?NaN:.5)}function Pn(t){var e,n=t[0],i=t[t.length-1];return n>i&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function Fn(t,e,n){var i=t[0],r=t[1],a=e[0],o=e[1];return r<i?(i=Rn(r,i),a=n(o,a)):(i=Rn(i,r),a=n(a,o)),function(t){return a(i(t))}}function zn(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),a=new Array(i),o=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<i;)r[o]=Rn(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=c(t,e,1,i)-1;return a[n](r[n](e))}}function Un(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vn(){var t,e,n,i,r,a,o=Ln,s=Ln,u=Mn,c=Bn;function l(){return i=Math.min(o.length,s.length)>2?zn:Fn,r=a=null,h}function h(e){return isNaN(e=+e)?n:(r||(r=i(o.map(t),s,u)))(t(c(e)))}return h.invert=function(n){return c(e((a||(a=i(s,o.map(t),yn)))(n)))},h.domain=function(t){return arguments.length?(o=Kt.call(t,In),c===Bn||(c=Pn(o)),l()):o.slice()},h.range=function(t){return arguments.length?(s=Jt.call(t),l()):s.slice()},h.rangeRound=function(t){return s=Jt.call(t),u=Tn,l()},h.clamp=function(t){return arguments.length?(c=t?Pn(o):Bn,h):c!==Bn},h.interpolate=function(t){return arguments.length?(u=t,l()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,l()}}function qn(t,e){return Vn()(t,e)}var Hn=function(t,e,n,i){var r,a=m(t,e,n);switch((i=H(null==i?",f":i)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(V(e)/3)))-V(Math.abs(t)))}(a,o))||(i.precision=r),Z(i,o);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,V(e)-V(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-V(Math.abs(t)))}(a))||(i.precision=r-2*("%"===i.type))}return X(i)};function jn(t){var e=t.domain;return t.ticks=function(t){var n=e();return g(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return Hn(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),a=0,o=r.length-1,s=r[a],u=r[o];return u<s&&(i=s,s=u,u=i,i=a,a=o,o=i),(i=y(s,u,n))>0?i=y(s=Math.floor(s/i)*i,u=Math.ceil(u/i)*i,n):i<0&&(i=y(s=Math.ceil(s*i)/i,u=Math.floor(u*i)/i,n)),i>0?(r[a]=Math.floor(s/i)*i,r[o]=Math.ceil(u/i)*i,e(r)):i<0&&(r[a]=Math.ceil(s*i)/i,r[o]=Math.floor(u*i)/i,e(r)),t},t}var Yn=function(t,e){var n,i=0,r=(t=t.slice()).length-1,a=t[i],o=t[r];return o<a&&(n=i,i=r,r=n,n=a,a=o,o=n),t[i]=e.floor(a),t[r]=e.ceil(o),t};function Wn(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Xn(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Zn(t){return t<0?-t*t:t*t}function Qn(t){var e=t(Bn,Bn),n=1;function i(){return 1===n?t(Bn,Bn):.5===n?t(Xn,Zn):t(Wn(n),Wn(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,i()):n},jn(e)}var Kn=new Date,Jn=new Date;function Gn(t,e,n,i){function r(e){return t(e=new Date(+e)),e}return r.floor=r,r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,a){var o,s=[];if(n=r.ceil(n),a=null==a?1:Math.floor(a),!(n<i&&a>0))return s;do{s.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<i);return s},r.filter=function(n){return Gn(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););})},n&&(r.count=function(e,i){return Kn.setTime(+e),Jn.setTime(+i),t(Kn),t(Jn),Math.floor(n(Kn,Jn))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var ti=Gn(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});ti.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Gn(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):ti:null};var ei=ti,ni=(ti.range,6e4),ii=6048e5,ri=Gn(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),ai=ri,oi=(ri.range,Gn(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*ni)},function(t,e){return(e-t)/ni},function(t){return t.getMinutes()})),si=oi,ui=(oi.range,Gn(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*ni)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()})),ci=ui,li=(ui.range,Gn(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ni)/864e5},function(t){return t.getDate()-1})),hi=li;li.range;function fi(t){return Gn(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ni)/ii})}var pi=fi(0),di=fi(1),_i=fi(2),gi=fi(3),yi=fi(4),mi=fi(5),vi=fi(6),xi=(pi.range,di.range,_i.range,gi.range,yi.range,mi.range,vi.range,Gn(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),wi=xi,bi=(xi.range,Gn(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));bi.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Gn(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var ki=bi,Mi=(bi.range,Gn(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*ni)},function(t,e){return(e-t)/ni},function(t){return t.getUTCMinutes()})),Ti=(Mi.range,Gn(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()})),Ci=(Ti.range,Gn(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1})),Si=Ci;Ci.range;function Ni(t){return Gn(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/ii})}var Ei=Ni(0),$i=Ni(1),Di=Ni(2),Ai=Ni(3),Oi=Ni(4),Ii=Ni(5),Li=Ni(6),Bi=(Ei.range,$i.range,Di.range,Ai.range,Oi.range,Ii.range,Li.range,Gn(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),Ri=(Bi.range,Gn(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));Ri.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Gn(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Pi=Ri;Ri.range;function Fi(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zi(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ui(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var Vi,qi,Hi,ji,Yi,Wi={"-":"",_:" ",0:"0"},Xi=/^\s*\d+/,Zi=/^%/,Qi=/[\\^$*+?|[\]().{}]/g;function Ki(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function Ji(t){return t.replace(Qi,"\\$&")}function Gi(t){return new RegExp("^(?:"+t.map(Ji).join("|")+")","i")}function tr(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function er(t,e,n){var i=Xi.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function nr(t,e,n){var i=Xi.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function ir(t,e,n){var i=Xi.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function rr(t,e,n){var i=Xi.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function ar(t,e,n){var i=Xi.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function or(t,e,n){var i=Xi.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function sr(t,e,n){var i=Xi.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function ur(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function cr(t,e,n){var i=Xi.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function lr(t,e,n){var i=Xi.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function hr(t,e,n){var i=Xi.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function fr(t,e,n){var i=Xi.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function pr(t,e,n){var i=Xi.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function dr(t,e,n){var i=Xi.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function _r(t,e,n){var i=Xi.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function gr(t,e,n){var i=Xi.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function yr(t,e,n){var i=Zi.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function mr(t,e,n){var i=Xi.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function vr(t,e,n){var i=Xi.exec(e.slice(n));return i?(t.Q=1e3*+i[0],n+i[0].length):-1}function xr(t,e){return Ki(t.getDate(),e,2)}function wr(t,e){return Ki(t.getHours(),e,2)}function br(t,e){return Ki(t.getHours()%12||12,e,2)}function kr(t,e){return Ki(1+hi.count(ki(t),t),e,3)}function Mr(t,e){return Ki(t.getMilliseconds(),e,3)}function Tr(t,e){return Mr(t,e)+"000"}function Cr(t,e){return Ki(t.getMonth()+1,e,2)}function Sr(t,e){return Ki(t.getMinutes(),e,2)}function Nr(t,e){return Ki(t.getSeconds(),e,2)}function Er(t){var e=t.getDay();return 0===e?7:e}function $r(t,e){return Ki(pi.count(ki(t),t),e,2)}function Dr(t,e){var n=t.getDay();return t=n>=4||0===n?yi(t):yi.ceil(t),Ki(yi.count(ki(t),t)+(4===ki(t).getDay()),e,2)}function Ar(t){return t.getDay()}function Or(t,e){return Ki(di.count(ki(t),t),e,2)}function Ir(t,e){return Ki(t.getFullYear()%100,e,2)}function Lr(t,e){return Ki(t.getFullYear()%1e4,e,4)}function Br(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ki(e/60|0,"0",2)+Ki(e%60,"0",2)}function Rr(t,e){return Ki(t.getUTCDate(),e,2)}function Pr(t,e){return Ki(t.getUTCHours(),e,2)}function Fr(t,e){return Ki(t.getUTCHours()%12||12,e,2)}function zr(t,e){return Ki(1+Si.count(Pi(t),t),e,3)}function Ur(t,e){return Ki(t.getUTCMilliseconds(),e,3)}function Vr(t,e){return Ur(t,e)+"000"}function qr(t,e){return Ki(t.getUTCMonth()+1,e,2)}function Hr(t,e){return Ki(t.getUTCMinutes(),e,2)}function jr(t,e){return Ki(t.getUTCSeconds(),e,2)}function Yr(t){var e=t.getUTCDay();return 0===e?7:e}function Wr(t,e){return Ki(Ei.count(Pi(t),t),e,2)}function Xr(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Oi(t):Oi.ceil(t),Ki(Oi.count(Pi(t),t)+(4===Pi(t).getUTCDay()),e,2)}function Zr(t){return t.getUTCDay()}function Qr(t,e){return Ki($i.count(Pi(t),t),e,2)}function Kr(t,e){return Ki(t.getUTCFullYear()%100,e,2)}function Jr(t,e){return Ki(t.getUTCFullYear()%1e4,e,4)}function Gr(){return"+0000"}function ta(){return"%"}function ea(t){return+t}function na(t){return Math.floor(+t/1e3)}!function(t){Vi=function(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,a=t.days,o=t.shortDays,s=t.months,u=t.shortMonths,c=Gi(r),l=tr(r),h=Gi(a),f=tr(a),p=Gi(o),d=tr(o),_=Gi(s),g=tr(s),y=Gi(u),m=tr(u),v={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:xr,e:xr,f:Tr,H:wr,I:br,j:kr,L:Mr,m:Cr,M:Sr,p:function(t){return r[+(t.getHours()>=12)]},Q:ea,s:na,S:Nr,u:Er,U:$r,V:Dr,w:Ar,W:Or,x:null,X:null,y:Ir,Y:Lr,Z:Br,"%":ta},x={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Rr,e:Rr,f:Vr,H:Pr,I:Fr,j:zr,L:Ur,m:qr,M:Hr,p:function(t){return r[+(t.getUTCHours()>=12)]},Q:ea,s:na,S:jr,u:Yr,U:Wr,V:Xr,w:Zr,W:Qr,x:null,X:null,y:Kr,Y:Jr,Z:Gr,"%":ta},w={a:function(t,e,n){var i=p.exec(e.slice(n));return i?(t.w=d[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=h.exec(e.slice(n));return i?(t.w=f[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=y.exec(e.slice(n));return i?(t.m=m[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=_.exec(e.slice(n));return i?(t.m=g[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,n,i){return M(t,e,n,i)},d:lr,e:lr,f:gr,H:fr,I:fr,j:hr,L:_r,m:cr,M:pr,p:function(t,e,n){var i=c.exec(e.slice(n));return i?(t.p=l[i[0].toLowerCase()],n+i[0].length):-1},Q:mr,s:vr,S:dr,u:nr,U:ir,V:rr,w:er,W:ar,x:function(t,e,i){return M(t,n,e,i)},X:function(t,e,n){return M(t,i,e,n)},y:sr,Y:or,Z:ur,"%":yr};function b(t,e){return function(n){var i,r,a,o=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(o.push(t.slice(u,s)),null!=(r=Wi[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(a=e[i])&&(i=a(n,r)),o.push(i),u=s+1);return o.push(t.slice(u,s)),o.join("")}}function k(t,e){return function(n){var i,r,a=Ui(1900);if(M(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(r=(i=zi(Ui(a.y))).getUTCDay(),i=r>4||0===r?$i.ceil(i):$i(i),i=Si.offset(i,7*(a.V-1)),a.y=i.getUTCFullYear(),a.m=i.getUTCMonth(),a.d=i.getUTCDate()+(a.w+6)%7):(r=(i=e(Ui(a.y))).getDay(),i=r>4||0===r?di.ceil(i):di(i),i=hi.offset(i,7*(a.V-1)),a.y=i.getFullYear(),a.m=i.getMonth(),a.d=i.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),r="Z"in a?zi(Ui(a.y)).getUTCDay():e(Ui(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(r+5)%7:a.w+7*a.U-(r+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,zi(a)):e(a)}}function M(t,e,n,i){for(var r,a,o=0,s=e.length,u=n.length;o<s;){if(i>=u)return-1;if(37===(r=e.charCodeAt(o++))){if(r=e.charAt(o++),!(a=w[r in Wi?e.charAt(o++):r])||(i=a(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return v.x=b(n,v),v.X=b(i,v),v.c=b(e,v),x.x=b(n,x),x.X=b(i,x),x.c=b(e,x),{format:function(t){var e=b(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",Fi);return e.toString=function(){return t},e},utcFormat:function(t){var e=b(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t,zi);return e.toString=function(){return t},e}}}(t),qi=Vi.format,Hi=Vi.parse,ji=Vi.utcFormat,Yi=Vi.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||ji("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||Yi("%Y-%m-%dT%H:%M:%S.%LZ");var ia=1e3,ra=60*ia,aa=60*ra,oa=24*aa,sa=7*oa,ua=30*oa,ca=365*oa;function la(t){return new Date(t)}function ha(t){return t instanceof Date?+t:+new Date(+t)}function fa(t,e,n,i,r,a,s,u,c){var l=qn(Bn,Bn),h=l.invert,f=l.domain,p=c(".%L"),d=c(":%S"),_=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),x=c("%B"),w=c("%Y"),b=[[s,1,ia],[s,5,5*ia],[s,15,15*ia],[s,30,30*ia],[a,1,ra],[a,5,5*ra],[a,15,15*ra],[a,30,30*ra],[r,1,aa],[r,3,3*aa],[r,6,6*aa],[r,12,12*aa],[i,1,oa],[i,2,2*oa],[n,1,sa],[e,1,ua],[e,3,3*ua],[t,1,ca]];function k(o){return(s(o)<o?p:a(o)<o?d:r(o)<o?_:i(o)<o?g:e(o)<o?n(o)<o?y:v:t(o)<o?x:w)(o)}function M(e,n,i,r){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(i-n)/e,s=o(function(t){return t[2]}).right(b,a);s===b.length?(r=m(n/ca,i/ca,e),e=t):s?(r=(s=b[a/b[s-1][2]<b[s][2]/a?s-1:s])[1],e=s[0]):(r=Math.max(m(n,i,e),1),e=u)}return null==r?e:e.every(r)}return l.invert=function(t){return new Date(h(t))},l.domain=function(t){return arguments.length?f(Kt.call(t,ha)):f().map(la)},l.ticks=function(t,e){var n,i=f(),r=i[0],a=i[i.length-1],o=a<r;return o&&(n=r,r=a,a=n),n=(n=M(t,r,a,e))?n.range(r,a+1):[],o?n.reverse():n},l.tickFormat=function(t,e){return null==e?k:c(e)},l.nice=function(t,e){var n=f();return(t=M(t,n[0],n[n.length-1],e))?f(Yn(n,t)):l},l.copy=function(){return Un(l,fa(t,e,n,i,r,a,s,u,c))},l}var pa="http://www.w3.org/1999/xhtml",da={svg:"http://www.w3.org/2000/svg",xhtml:pa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},_a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),da.hasOwnProperty(e)?{space:da[e],local:t}:t};var ga=function(t){var e=_a(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===pa&&e.documentElement.namespaceURI===pa?e.createElement(t):e.createElementNS(n,t)}})(e)};function ya(){}var ma=function(t){return null==t?ya:function(){return this.querySelector(t)}};function va(){return[]}var xa=function(t){return new Array(t.length)};function wa(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}wa.prototype={constructor:wa,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ba="$";function ka(t,e,n,i,r,a){for(var o,s=0,u=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],i[s]=o):n[s]=new wa(t,a[s]);for(;s<u;++s)(o=e[s])&&(r[s]=o)}function Ma(t,e,n,i,r,a,o){var s,u,c,l={},h=e.length,f=a.length,p=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(p[s]=c=ba+o.call(u,u.__data__,s,e),c in l?r[s]=u:l[c]=u);for(s=0;s<f;++s)(u=l[c=ba+o.call(t,a[s],s,a)])?(i[s]=u,u.__data__=a[s],l[c]=null):n[s]=new wa(t,a[s]);for(s=0;s<h;++s)(u=e[s])&&l[p[s]]===u&&(r[s]=u)}function Ta(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ca(t){return function(){this.removeAttribute(t)}}function Sa(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Na(t,e){return function(){this.setAttribute(t,e)}}function Ea(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function $a(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Da(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var Aa=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Oa(t){return function(){this.style.removeProperty(t)}}function Ia(t,e,n){return function(){this.style.setProperty(t,e,n)}}function La(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Ba(t,e){return t.style.getPropertyValue(e)||Aa(t).getComputedStyle(t,null).getPropertyValue(e)}function Ra(t){return function(){delete this[t]}}function Pa(t,e){return function(){this[t]=e}}function Fa(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function za(t){return t.trim().split(/^|\s+/)}function Ua(t){return t.classList||new Va(t)}function Va(t){this._node=t,this._names=za(t.getAttribute("class")||"")}function qa(t,e){for(var n=Ua(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Ha(t,e){for(var n=Ua(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function ja(t){return function(){qa(this,t)}}function Ya(t){return function(){Ha(this,t)}}function Wa(t,e){return function(){(e.apply(this,arguments)?qa:Ha)(this,t)}}Va.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Xa(){this.textContent=""}function Za(t){return function(){this.textContent=t}}function Qa(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ka(){this.innerHTML=""}function Ja(t){return function(){this.innerHTML=t}}function Ga(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function to(){this.nextSibling&&this.parentNode.appendChild(this)}function eo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function no(){return null}function io(){var t=this.parentNode;t&&t.removeChild(this)}function ro(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function ao(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var oo={},so=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(oo={mouseenter:"mouseover",mouseleave:"mouseout"}));function uo(t,e,n){return t=co(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function co(t,e,n){return function(i){var r=so;so=i;try{t.call(this,this.__data__,e,n)}finally{so=r}}}function lo(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function ho(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,a=e.length;i<a;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function fo(t,e,n){var i=oo.hasOwnProperty(t.type)?uo:co;return function(r,a,o){var s,u=this.__on,c=i(e,a,o);if(u)for(var l=0,h=u.length;l<h;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function po(t,e,n){var i=Aa(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}var _o=[null];function go(t,e){this._groups=t,this._parents=e}function yo(){return new go([[document.documentElement]],_o)}go.prototype=yo.prototype={constructor:go,select:function(t){"function"!=typeof t&&(t=ma(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,o,s=e[r],u=s.length,c=i[r]=new Array(u),l=0;l<u;++l)(a=s[l])&&(o=t.call(a,a.__data__,l,s))&&("__data__"in a&&(o.__data__=a.__data__),c[l]=o);return new go(i,this._parents)},selectAll:function(t){var e;"function"!=typeof t&&(t=null==(e=t)?va:function(){return this.querySelectorAll(e)});for(var n=this._groups,i=n.length,r=[],a=[],o=0;o<i;++o)for(var s,u=n[o],c=u.length,l=0;l<c;++l)(s=u[l])&&(r.push(t.call(s,s.__data__,l,u)),a.push(s));return new go(r,a)},filter:function(t){var e;"function"!=typeof t&&(e=t,t=function(){return this.matches(e)});for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a)for(var o,s=n[a],u=s.length,c=r[a]=[],l=0;l<u;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&c.push(o);return new go(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),l=-1,this.each(function(t){d[++l]=t}),d;var n,i=e?Ma:ka,r=this._parents,a=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=a.length,s=new Array(o),u=new Array(o),c=new Array(o),l=0;l<o;++l){var h=r[l],f=a[l],p=f.length,d=t.call(h,h&&h.__data__,l,r),_=d.length,g=u[l]=new Array(_),y=s[l]=new Array(_);i(h,f,g,y,c[l]=new Array(p),d,e);for(var m,v,x=0,w=0;x<_;++x)if(m=g[x]){for(x>=w&&(w=x+1);!(v=y[w])&&++w<_;);m._next=v||null}}return(s=new go(s,r))._enter=u,s._exit=c,s},enter:function(){return new go(this._enter||this._groups.map(xa),this._parents)},exit:function(){return new go(this._exit||this._groups.map(xa),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,a=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?a.remove():n(a),i&&r?i.merge(r).order():r},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var u,c=e[s],l=n[s],h=c.length,f=o[s]=new Array(h),p=0;p<h;++p)(u=c[p]||l[p])&&(f[p]=u);for(;s<i;++s)o[s]=e[s];return new go(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],a=r.length-1,o=r[a];--a>=0;)(i=r[a])&&(o&&4^i.compareDocumentPosition(o)&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Ta);for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var o,s=n[a],u=s.length,c=r[a]=new Array(u),l=0;l<u;++l)(o=s[l])&&(c[l]=o);c.sort(e)}return new go(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,a=e[n],o=0,s=a.length;o<s;++o)(r=a[o])&&t.call(r,r.__data__,o,a);return this},attr:function(t,e){var n=_a(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?Sa:Ca:"function"==typeof e?n.local?Da:$a:n.local?Ea:Na)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Oa:"function"==typeof e?La:Ia)(t,e,null==n?"":n)):Ba(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ra:"function"==typeof e?Fa:Pa)(t,e)):this.node()[t]},classed:function(t,e){var n=za(t+"");if(arguments.length<2){for(var i=Ua(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?Wa:e?ja:Ya)(n,e))},text:function(t){return arguments.length?this.each(null==t?Xa:("function"==typeof t?Qa:Za)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ka:("function"==typeof t?Ga:Ja)(t)):this.node().innerHTML},raise:function(){return this.each(to)},lower:function(){return this.each(eo)},append:function(t){var e="function"==typeof t?t:ga(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:ga(t),i=null==e?no:"function"==typeof e?e:ma(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(io)},clone:function(t){return this.select(t?ao:ro)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,a=lo(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?fo:ho,null==n&&(n=!1),i=0;i<o;++i)this.each(s(a[i],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(i=0,u=s[c];i<o;++i)if((r=a[i]).type===u.type&&r.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return po(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return po(this,t,e)}})(t,e))}};var mo=yo,vo=function(t){return"string"==typeof t?new go([[document.querySelector(t)]],[document.documentElement]):new go([[t]],_o)},xo=0;function wo(){this._="@"+(++xo).toString(36)}wo.prototype=function(){return new wo}.prototype={constructor:wo,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var bo=function(t){return function(){return t}},ko=(Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,1e-12),Mo=Math.PI,To=2*Mo;function Co(t){this._context=t}Co.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var So=function(t){return new Co(t)};function No(t){return t[0]}function Eo(t){return t[1]}var $o=function(){var t=No,e=Eo,n=bo(!0),i=null,r=So,a=null;function o(o){var s,u,c,l=o.length,h=!1;for(null==i&&(a=r(c=Xt())),s=0;s<=l;++s)!(s<l&&n(u=o[s],s,o))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(u,s,o),+e(u,s,o));if(c)return a=null,c+""||null}return o.x=function(e){return arguments.length?(t="function"==typeof e?e:bo(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:bo(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:bo(!!t),o):n},o.curve=function(t){return arguments.length?(r=t,null!=i&&(a=r(i)),o):r},o.context=function(t){return arguments.length?(null==t?i=a=null:a=r(i=t),o):i},o};Ao(So);function Do(t){this._curve=t}function Ao(t){function e(e){return new Do(t(e))}return e._curve=t,e}Do.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};Array.prototype.slice;Math.sqrt(1/3);var Oo=Math.sin(Mo/10)/Math.sin(7*Mo/10),Io=(Math.sin(To/10),Math.cos(To/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function Lo(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Bo(t){this._context=t}Bo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lo(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ro(t){this._context=t}Ro.prototype={areaStart:Io,areaEnd:Io,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Lo(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Po(t){this._context=t}Po.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Lo(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fo(t,e){this._basis=new Bo(t),this._beta=e}Fo.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],a=e[0],o=t[n]-r,s=e[n]-a,u=-1;++u<=n;)i=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+i*o),this._beta*e[u]+(1-this._beta)*(a+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};(function t(e){function n(t){return 1===e?new Bo(t):new Fo(t,e)}return n.beta=function(e){return t(+e)},n})(.85);function zo(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Uo(t,e){this._context=t,this._k=(1-e)/6}Uo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:zo(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:zo(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new Uo(t,e)}return n.tension=function(e){return t(+e)},n})(0);function Vo(t,e){this._context=t,this._k=(1-e)/6}Vo.prototype={areaStart:Io,areaEnd:Io,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:zo(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new Vo(t,e)}return n.tension=function(e){return t(+e)},n})(0);function qo(t,e){this._context=t,this._k=(1-e)/6}qo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zo(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new qo(t,e)}return n.tension=function(e){return t(+e)},n})(0);function Ho(t,e,n){var i=t._x1,r=t._y1,a=t._x2,o=t._y2;if(t._l01_a>ko){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>ko){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/l,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(i,r,a,o,t._x2,t._y2)}function jo(t,e){this._context=t,this._alpha=e}jo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Ho(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new jo(t,e):new Uo(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function Yo(t,e){this._context=t,this._alpha=e}Yo.prototype={areaStart:Io,areaEnd:Io,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ho(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new Yo(t,e):new Vo(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function Wo(t,e){this._context=t,this._alpha=e}Wo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ho(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new Wo(t,e):new qo(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function Xo(t){this._context=t}Xo.prototype={areaStart:Io,areaEnd:Io,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Zo(t){return t<0?-1:1}function Qo(t,e,n){var i=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),o=(n-t._y1)/(r||i<0&&-0),s=(a*r+o*i)/(i+r);return(Zo(a)+Zo(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Ko(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Jo(t,e,n){var i=t._x0,r=t._y0,a=t._x1,o=t._y1,s=(a-i)/3;t._context.bezierCurveTo(i+s,r+s*e,a-s,o-s*n,a,o)}function Go(t){this._context=t}function ts(t){this._context=new es(t)}function es(t){this._context=t}function ns(t){this._context=t}function is(t){var e,n,i=t.length-1,r=new Array(i),a=new Array(i),o=new Array(i);for(r[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,a[i-1]=7,o[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(r[i-1]=o[i-1]/a[i-1],e=i-2;e>=0;--e)r[e]=(o[e]-r[e+1])/a[e];for(a[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)a[e]=2*t[e+1]-r[e+1];return[r,a]}Go.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jo(this,this._t0,Ko(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Jo(this,Ko(this,n=Qo(this,t,e)),n);break;default:Jo(this,this._t0,n=Qo(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(ts.prototype=Object.create(Go.prototype)).point=function(t,e){Go.prototype.point.call(this,e,t)},es.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,a){this._context.bezierCurveTo(e,t,i,n,a,r)}},ns.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=is(t),r=is(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function rs(t,e){this._context=t,this._t=e}rs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var as={axisBottom:function(t){return $(M,t)},axisLeft:function(t){return $(T,t)},descending:function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},entries:function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},extent:l,forceCollide:function(t){var e,n,i=1,r=1;function a(){for(var t,a,s,u,c,l,h,f=e.length,p=0;p<r;++p)for(a=ot(e,ft,pt).visitAfter(o),t=0;t<f;++t)s=e[t],l=n[s.index],h=l*l,u=s.x+s.vx,c=s.y+s.vy,a.visit(d);function d(t,e,n,r,a){var o=t.data,f=t.r,p=l+f;if(!o)return e>u+p||r<u-p||n>c+p||a<c-p;if(o.index>s.index){var d=u-o.x-o.vx,_=c-o.y-o.vy,g=d*d+_*_;g<p*p&&(0===d&&(g+=(d=ht())*d),0===_&&(g+=(_=ht())*_),g=(p-(g=Math.sqrt(g)))/g*i,s.vx+=(d*=g)*(p=(f*=f)/(h+f)),s.vy+=(_*=g)*p,o.vx-=d*(p=1-p),o.vy-=_*p)}}}function o(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var i,r,a=e.length;for(n=new Array(a),i=0;i<a;++i)r=e[i],n[r.index]=+t(r,i,e)}}return"function"!=typeof t&&(t=lt(null==t?1:+t)),a.initialize=function(t){e=t,s()},a.iterations=function(t){return arguments.length?(r=+t,a):r},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:lt(+e),s(),a):t},a},forceManyBody:function(){var t,e,n,i,r=lt(-30),a=1,o=1/0,s=.81;function u(i){var r,a=t.length,o=ot(t,Ft,zt).visitAfter(l);for(n=i,r=0;r<a;++r)e=t[r],o.visit(h)}function c(){if(t){var e,n,a=t.length;for(i=new Array(a),e=0;e<a;++e)n=t[e],i[n.index]=+r(n,e,t)}}function l(t){var e,n,r,a,o,s=0,u=0;if(t.length){for(r=a=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(s+=e.value,u+=n,r+=n*e.x,a+=n*e.y);t.x=r/u,t.y=a/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function h(t,r,u,c){if(!t.value)return!0;var l=t.x-e.x,h=t.y-e.y,f=c-r,p=l*l+h*h;if(f*f/s<p)return p<o&&(0===l&&(p+=(l=ht())*l),0===h&&(p+=(h=ht())*h),p<a&&(p=Math.sqrt(a*p)),e.vx+=l*t.value*n/p,e.vy+=h*t.value*n/p),!0;if(!(t.length||p>=o)){(t.data!==e||t.next)&&(0===l&&(p+=(l=ht())*l),0===h&&(p+=(h=ht())*h),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(f=i[t.data.index]*n/p,e.vx+=l*f,e.vy+=h*f)}while(t=t.next)}}return u.initialize=function(e){t=e,c()},u.strength=function(t){return arguments.length?(r="function"==typeof t?t:lt(+t),c(),u):r},u.distanceMin=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)},u.distanceMax=function(t){return arguments.length?(o=t*t,u):Math.sqrt(o)},u.theta=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)},u},forceSimulation:function(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),a=0,o=.6,s=new Map,u=Lt(l),c=bt("tick","end");function l(){h(),c.call("tick",e),n<i&&(u.stop(),c.call("end",e))}function h(i){var u,c,l=t.length;void 0===i&&(i=1);for(var h=0;h<i;++h)for(n+=(a-n)*r,s.forEach(function(t){t(n)}),u=0;u<l;++u)null==(c=t[u]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return e}function f(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=Ut*Math.sqrt(n),a=n*Vt;e.x=r*Math.cos(a),e.y=r*Math.sin(a)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),f(),e={tick:h,restart:function(){return u.restart(l),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(o=1-t,e):1-o},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,i){var r,a,o,s,u,c=0,l=t.length;for(null==i?i=1/0:i*=i,c=0;c<l;++c)(o=(r=e-(s=t[c]).x)*r+(a=n-s.y)*a)<i&&(u=s,i=o);return u},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}},format:X,formatLocale:et,line:$o,max:function(t,e){var n,i,r=t.length,a=-1;if(null==e){for(;++a<r;)if(null!=(n=t[a])&&n>=n)for(i=n;++a<r;)null!=(n=t[a])&&n>i&&(i=n)}else for(;++a<r;)if(null!=(n=e(t[a],a,t))&&n>=n)for(i=n;++a<r;)null!=(n=e(t[a],a,t))&&n>i&&(i=n);return i},min:v,nest:function(){var t,e,n,i=[],r=[];function a(n,r,o,s){if(r>=i.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var u,c,l,h=-1,f=n.length,p=i[r++],d=O(),_=o();++h<f;)(l=d.get(u=p(c=n[h])+""))?l.push(c):d.set(u,[c]);return d.each(function(t,e){s(_,e,a(t,r,o,s))}),_}return n={object:function(t){return a(t,0,I,L)},map:function(t){return a(t,0,B,R)},entries:function(t){return function t(n,a){if(++a>i.length)return n;var o,s=r[a-1];return null!=e&&a>=i.length?o=n.entries():(o=[],n.each(function(e,n){o.push({key:n,values:t(e,a)})})),null!=s?o.sort(function(t,e){return s(t.key,e.key)}):o}(a(t,0,B,R),0)},key:function(t){return i.push(t),n},sortKeys:function(t){return r[i.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}},path:Xt,range:f,scaleOrdinal:te,scaleLinear:function t(){var e=qn(Bn,Bn);return e.copy=function(){return Un(e,t())},Zt.apply(e,arguments),jn(e)},scaleSqrt:function(){return function t(){var e=Qn(Vn());return e.copy=function(){return Un(e,t()).exponent(e.exponent())},Zt.apply(e,arguments),e}.apply(null,arguments).exponent(.5)},scaleTime:function(){return Zt.apply(fa(ki,wi,pi,hi,ci,si,ai,ei,qi).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},select:vo,selectAll:function(t){return"string"==typeof t?new go([document.querySelectorAll(t)],[document.documentElement]):new go([null==t?[]:t],_o)},timeFormat:qi,timeParse:Hi,timeYear:ki,tip:function(){var t=function(){return"n"},e=function(){return[0,0]},n=function(){return" "},i=document.body,r=h(),a=null,o=null,s=null;function u(t){(a=function(t){var e=t.node();return e?"svg"===e.tagName.toLowerCase()?e:e.ownerSVGElement:null}(t))&&(o=a.createSVGPoint(),i.appendChild(r))}u.show=function(){var r=Array.prototype.slice.call(arguments);r[r.length-1]instanceof SVGElement&&(s=r.pop());var a,o=n.apply(this,r),h=e.apply(this,r),p=t.apply(this,r),d=f(),_=l.length,g=document.documentElement.scrollTop||i.scrollTop,y=document.documentElement.scrollLeft||i.scrollLeft;for(d.html(o).style("opacity",1).style("pointer-events","all");_--;)d.classed(l[_],!1);return a=c.get(p).apply(this),d.classed(p,!0).style("top",a.top+h[0]+g+"px").style("left",a.left+h[1]+y+"px"),u},u.hide=function(){return f().style("opacity",0).style("pointer-events","none"),u},u.attr=function(t,e){if(arguments.length<2&&"string"==typeof t)return f().attr(t);var n=Array.prototype.slice.call(arguments);return mo.prototype.attr.apply(f(),n),u},u.style=function(t,e){if(arguments.length<2&&"string"==typeof t)return f().style(t);var n=Array.prototype.slice.call(arguments);return mo.prototype.style.apply(f(),n),u},u.direction=function(e){return arguments.length?(t=null==e?e:d(e),u):t},u.offset=function(t){return arguments.length?(e=null==t?t:d(t),u):e},u.html=function(t){return arguments.length?(n=null==t?t:d(t),u):n},u.rootElement=function(t){return arguments.length?(i=null==t?t:d(t),u):i},u.destroy=function(){return r&&(f().remove(),r=null),u};var c=O({n:function(){var t=p(this);return{top:t.n.y-r.offsetHeight,left:t.n.x-r.offsetWidth/2}},s:function(){var t=p(this);return{top:t.s.y,left:t.s.x-r.offsetWidth/2}},e:function(){var t=p(this);return{top:t.e.y-r.offsetHeight/2,left:t.e.x}},w:function(){var t=p(this);return{top:t.w.y-r.offsetHeight/2,left:t.w.x-r.offsetWidth}},nw:function(){var t=p(this);return{top:t.nw.y-r.offsetHeight,left:t.nw.x-r.offsetWidth}},ne:function(){var t=p(this);return{top:t.ne.y-r.offsetHeight,left:t.ne.x}},sw:function(){var t=p(this);return{top:t.sw.y,left:t.sw.x-r.offsetWidth}},se:function(){var t=p(this);return{top:t.se.y,left:t.se.x}}}),l=c.keys();function h(){var t=vo(document.createElement("div"));return t.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box"),t.node()}function f(){return null==r&&(r=h(),i.appendChild(r)),vo(r)}function p(t){for(var e=s||t;null==e.getScreenCTM&&null!=e.parentNode;)e=e.parentNode;var n={},i=e.getScreenCTM(),r=e.getBBox(),a=r.width,u=r.height,c=r.x,l=r.y;return o.x=c,o.y=l,n.nw=o.matrixTransform(i),o.x+=a,n.ne=o.matrixTransform(i),o.y+=u,n.se=o.matrixTransform(i),o.x-=a,n.sw=o.matrixTransform(i),o.y-=u/2,n.w=o.matrixTransform(i),o.x+=a,n.e=o.matrixTransform(i),o.x-=a/2,o.y-=u/2,n.n=o.matrixTransform(i),o.y+=u,n.s=o.matrixTransform(i),n}function d(t){return"function"==typeof t?t:function(){return t}}return u}};function os(){}function ss(t){return t()}function us(){return Object.create(null)}function cs(t){t.forEach(ss)}function ls(t){return"function"==typeof t}function hs(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}new Set;function fs(t,e){t.appendChild(e)}function ps(t,e,n){t.insertBefore(e,n||null)}function ds(t){t.parentNode.removeChild(t)}function _s(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function gs(t){return document.createElement(t)}function ys(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ms(t){return document.createTextNode(t)}function vs(){return ms(" ")}function xs(){return ms("")}function ws(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function bs(t){return function(e){return e.preventDefault(),t.call(this,e)}}function ks(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function Ms(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function Ts(t,e){e=""+e,t.data!==e&&(t.data=e)}function Cs(t,e,n){t.classList[n?"add":"remove"](e)}let Ss;function Ns(t){Ss=t}function Es(){if(!Ss)throw new Error("Function called outside component initialization");return Ss}function $s(t){Es().$$.before_update.push(t)}function Ds(t){Es().$$.on_mount.push(t)}const As=[],Os=[],Is=[],Ls=[],Bs=Promise.resolve();let Rs=!1;function Ps(){Rs||(Rs=!0,Bs.then(zs))}function Fs(t){Is.push(t)}function zs(){const t=new Set;do{for(;As.length;){const t=As.shift();Ns(t),Us(t.$$)}for(;Os.length;)Os.pop()();for(let e=0;e<Is.length;e+=1){const n=Is[e];t.has(n)||(n(),t.add(n))}Is.length=0}while(As.length);for(;Ls.length;)Ls.pop()();Rs=!1}function Us(t){t.fragment&&(t.update(t.dirty),cs(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(Fs))}const Vs=new Set;let qs;function Hs(){qs={r:0,c:[],p:qs}}function js(){qs.r||cs(qs.c),qs=qs.p}function Ys(t,e){t&&t.i&&(Vs.delete(t),t.i(e))}function Ws(t,e,n,i){if(t&&t.o){if(Vs.has(t))return;Vs.add(t),qs.c.push(()=>{Vs.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}"undefined"!=typeof window?window:global;let Xs;function Zs(t,e,n){const{fragment:i,on_mount:r,on_destroy:a,after_update:o}=t.$$;i.m(e,n),Fs(()=>{const e=r.map(ss).filter(ls);a?a.push(...e):cs(e),t.$$.on_mount=[]}),o.forEach(Fs)}function Qs(t,e){t.$$.fragment&&(cs(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function Ks(t,e,n,i,r,a){const o=Ss;Ns(t);const s=e.props||{},u=t.$$={fragment:null,ctx:null,props:a,update:os,not_equal:r,bound:us(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(o?o.$$.context:[]),callbacks:us(),dirty:null};let c=!1;var l;u.ctx=n?n(t,s,(e,n)=>{u.ctx&&r(u.ctx[e],u.ctx[e]=n)&&(u.bound[e]&&u.bound[e](n),c&&function(t,e){t.$$.dirty||(As.push(t),Ps(),t.$$.dirty=us()),t.$$.dirty[e]=!0}(t,e))}):s,u.update(),c=!0,cs(u.before_update),u.fragment=i(u.ctx),e.target&&(e.hydrate?u.fragment.l((l=e.target,Array.from(l.childNodes))):u.fragment.c(),e.intro&&Ys(t.$$.fragment),Zs(t,e.target,e.anchor),zs()),Ns(o)}"undefined"!=typeof HTMLElement&&(Xs=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}$destroy(){Qs(this,1),this.$destroy=os}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}});class Js{$destroy(){Qs(this,1),this.$destroy=os}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}var Gs=n(3),tu=n.n(Gs);function eu(t){var e,n,i,r;return{c(){(e=gs("h2")).textContent="Overview",n=vs(),i=gs("noscript"),r=gs("noscript")},m(t,a){ps(t,e,a),ps(t,n,a),ps(t,i,a),i.insertAdjacentHTML("afterend",tu.a),ps(t,r,a)},p:os,i:os,o:os,d(t){t&&(ds(e),ds(n),function(t,e){for(;t.nextSibling&&t.nextSibling!==e;)t.parentNode.removeChild(t.nextSibling)}(i,r),ds(i),ds(r))}}}var nu=class extends Js{constructor(t){super(),Ks(this,t,null,eu,hs,[])}};function iu(t,e=os){let n;const i=[];function r(e){if(hs(t,e)){if(t=e,!n)return;i.forEach(t=>t[1]()),i.forEach(e=>e[0](t))}}return{set:r,update:function(e){r(e(t))},subscribe:function(a,o=os){const s=[a,o];return i.push(s),1===i.length&&(n=e(r)||os),a(t),()=>{const t=i.indexOf(s);-1!==t&&i.splice(t,1),0===i.length&&(n(),n=null)}}}}const ru=iu("time"),au=iu("nestedByIndicator"),ou=iu(""),su=iu("");n(7);n(8);function uu(t,e,n){const i=Object.create(t);return i.option=e[n],i}function cu(t){var e,n,i,r,a,o,s=t.option.display;return{c(){e=gs("li"),n=ms(s),e.dataset.value=i=t.option.value,Ms(e,"aria-selected",r=t.currentValue===t.option.value),Ms(e,"aria-role","option"),Ms(e,"id",a="dropdown-item-"+t.option.value),Ms(e,"class","svelte-10iaoe8"),Cs(e,"hover",!!t.toBeSelected&&t.option.value===t.toBeSelected.dataset.value),o=ws(e,"click",ks(t.itemClickHandler))},m(t,i){ps(t,e,i),fs(e,n)},p(t,o){t.options&&s!==(s=o.option.display)&&Ts(n,s),t.options&&i!==(i=o.option.value)&&(e.dataset.value=i),(t.currentValue||t.options)&&r!==(r=o.currentValue===o.option.value)&&Ms(e,"aria-selected",r),t.options&&a!==(a="dropdown-item-"+o.option.value)&&Ms(e,"id",a),(t.toBeSelected||t.options)&&Cs(e,"hover",!!o.toBeSelected&&o.option.value===o.toBeSelected.dataset.value)},d(t){t&&ds(e),o()}}}function lu(t){for(var e,n,i,r,a,o,s,u,c,l,h,f=t.options,p=[],d=0;d<f.length;d+=1)p[d]=cu(uu(t,f,d));return{c(){e=gs("div"),n=gs("label"),i=ms(t.label),r=vs(),a=gs("div"),o=gs("div"),s=gs("div"),u=ms(t.currentDisplay),c=vs(),l=gs("ul");for(var f=0;f<p.length;f+=1)p[f].c();Ms(n,"class","svelte-10iaoe8"),Ms(s,"class","svelte-10iaoe8"),Ms(l,"aria-role","listbox"),Ms(l,"aria-activedescendant",t.activeDescendantID),Ms(l,"class","svelte-10iaoe8"),Ms(o,"class","dropdown svelte-10iaoe8"),Ms(o,"aria-haspopup","listbox"),Ms(o,"aria-expanded",t.isOpen),Ms(o,"role","button"),Ms(o,"tabindex","0"),Cs(o,"is-open",t.isOpen),Ms(a,"class","dropdown-inner svelte-10iaoe8"),Ms(e,"class","dropdown-outer svelte-10iaoe8"),h=[ws(o,"keydown",t.keyHandler),ws(o,"click",ks(t.clickHandler))]},m(t,h){ps(t,e,h),fs(e,n),fs(n,i),fs(e,r),fs(e,a),fs(a,o),fs(o,s),fs(s,u),fs(o,c),fs(o,l);for(var f=0;f<p.length;f+=1)p[f].m(l,null)},p(t,e){if(t.label&&Ts(i,e.label),t.currentDisplay&&Ts(u,e.currentDisplay),t.options||t.currentValue||t.toBeSelected){f=e.options;for(var n=0;n<f.length;n+=1){const i=uu(e,f,n);p[n]?p[n].p(t,i):(p[n]=cu(i),p[n].c(),p[n].m(l,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=f.length}t.activeDescendantID&&Ms(l,"aria-activedescendant",e.activeDescendantID),t.isOpen&&(Ms(o,"aria-expanded",e.isOpen),Cs(o,"is-open",e.isOpen))},i:os,o:os,d(t){t&&ds(e),_s(p,t),cs(h)}}}function hu(t,e,n){let{label:i,options:r,currentValue:a,itemOnClick:o,subscribeTo:s}=e;n("itemOnClick",o=o||function(){console.log("no itemOnClick prop")}),s&&s.subscribe(t=>{n("currentValue",a=t||a)});let u,c,l,h,f=!1;function p(){n("isOpen",f=!1),n("toBeSelected",u=l)}return Ds(()=>{l=document.querySelector("#"+c),n("toBeSelected",u=l)}),t.$set=t=>{"label"in t&&n("label",i=t.label),"options"in t&&n("options",r=t.options),"currentValue"in t&&n("currentValue",a=t.currentValue),"itemOnClick"in t&&n("itemOnClick",o=t.itemOnClick),"subscribeTo"in t&&n("subscribeTo",s=t.subscribeTo)},t.$$.update=(t={currentValue:1,options:1,activeDescendantID:1})=>{(t.currentValue||t.options)&&n("currentValue",a=a||r[0].value),t.currentValue&&n("activeDescendantID",c="dropdown-item-"+a),t.activeDescendantID&&(l=document.querySelector("#"+c)),(t.options||t.currentValue)&&n("currentDisplay",h=r.find(t=>t.value===a)?r.find(t=>t.value===a).display:r[0].display)},{label:i,options:r,currentValue:a,itemOnClick:o,subscribeTo:s,isOpen:f,toBeSelected:u,clickHandler:function(t){f?(p(),document.body.removeEventListener("click",p)):(n("isOpen",f=!0),document.body.addEventListener("click",p))},keyHandler:function(t){function e(){u.dispatchEvent(new MouseEvent("click"),{view:window,bubbles:!0,cancelable:!0})}if(9!==t.keyCode&&t.preventDefault(),console.log(t.keyCode),-1!==[32,38,40].indexOf(t.keyCode))if(f)if(32===t.keyCode)e();else if(38===t.keyCode){let t=u.previousElementSibling;t&&n("toBeSelected",u=t)}else{let t=u.nextElementSibling;console.log(t),t&&n("toBeSelected",u=t)}else n("isOpen",f=!0);27===t.keyCode&&f&&p(),13===t.keyCode&&f&&e()},itemClickHandler:function(t){console.log(this,this.dataset.value),n("currentValue",a=this.dataset.value),o.call(this,t),n("isOpen",f=!1)},activeDescendantID:c,currentDisplay:h}}var fu=class extends Js{constructor(t){super(),Ks(this,t,hu,lu,hs,["label","options","currentValue","itemOnClick","subscribeTo"])}};n(9);function pu(t){var e;return{c(){Ms(e=gs("button"),"aria-label",t.ariaLabel),Ms(e,"class","x-out svelte-1ms4h2i")},m(t,n){ps(t,e,n)},p(t,n){t.ariaLabel&&Ms(e,"aria-label",n.ariaLabel)},i:os,o:os,d(t){t&&ds(e)}}}function du(t,e,n){let{ariaLabel:i}=e;return t.$set=t=>{"ariaLabel"in t&&n("ariaLabel",i=t.ariaLabel)},{ariaLabel:i}}var _u={dropdown:fu,xOut:class extends Js{constructor(t){super(),Ks(this,t,du,pu,hs,["ariaLabel"])}}},gu=n(0);n(10);function yu(t){var e,n,i,r,a,o,s,u=new _u.dropdown({props:{label:"Organize by:",options:t.organizeByOptions,itemOnClick:t.organizeItemOnClick}}),c=new _u.dropdown({props:{label:t.groupSelectorLabel+":",options:mu(t.groupedData),itemOnClick:vu,subscribeTo:su}});return{c(){e=gs("div"),n=gs("div"),u.$$.fragment.c(),i=vs(),r=gs("div"),c.$$.fragment.c(),a=vs(),(o=gs("div")).innerHTML='<div><input type="radio" name="view-type" value="time" id="radio1" checked="true"><label for="radio1" class="svelte-1rrj1l1">Over time</label></div> <div><input type="radio" name="view-type" value="disaggregated" id="radio2"><label for="radio2" class="svelte-1rrj1l1">By age and race</label></div>',Ms(n,"class","svelte-1rrj1l1"),Ms(r,"class","svelte-1rrj1l1"),Ms(o,"class","view-type-selectors svelte-1rrj1l1"),Ms(e,"class","selections svelte-1rrj1l1")},m(l,h){ps(l,e,h),fs(e,n),Zs(u,n,null),fs(e,i),fs(e,r),Zs(c,r,null),fs(e,a),fs(e,o),t.div4_binding(o),s=!0},p(t,e){var n={};t.organizeByOptions&&(n.options=e.organizeByOptions),t.organizeItemOnClick&&(n.itemOnClick=e.organizeItemOnClick),u.$set(n);var i={};t.groupSelectorLabel&&(i.label=e.groupSelectorLabel+":"),(t.createOptions||t.groupedData)&&(i.options=mu(e.groupedData)),t.dropdownItemOnClick&&(i.itemOnClick=vu),t.scrolledToStore&&(i.subscribeTo=su),c.$set(i)},i(t){s||(Ys(u.$$.fragment,t),Ys(c.$$.fragment,t),s=!0)},o(t){Ws(u.$$.fragment,t),Ws(c.$$.fragment,t),s=!1},d(n){n&&ds(e),Qs(u),Qs(c),t.div4_binding(null)}}}function mu(t){return t.map((t,e)=>({value:t.key,display:gu[t.key]?gu[t.key].label:t.key,isInitialSelected:0===e}))}function vu(){ou.set(this.dataset.value)}function xu(t){ru.set(t.target.value)}function wu(t,e,n){let i,r,{groupedData:a,metadata:o}=e,s=[{value:"nestedByIndicator",display:"Indicator",isInitialSelected:!0},{value:"nestedByCity",display:"City",isInitialSelected:!1}],{typeSelectors:u}=e;return au.subscribe(t=>{var e=document.querySelector(".dataviz-section a.section-anchor");e&&e.scrollIntoView(),n("groupSelectorLabel",r=s.find(e=>e.value===t).display)}),Ds(()=>{u.querySelectorAll("input").forEach(t=>{t.addEventListener("change",xu)})}),t.$set=t=>{"groupedData"in t&&n("groupedData",a=t.groupedData),"metadata"in t&&n("metadata",o=t.metadata),"typeSelectors"in t&&n("typeSelectors",u=t.typeSelectors)},{groupedData:a,metadata:o,groupSelectorLabel:r,organizeByOptions:s,typeSelectors:u,organizeItemOnClick:function(){au.set(this.dataset.value),i=this.dataset.value},div4_binding:function(t){Os[t?"unshift":"push"](()=>{n("typeSelectors",u=t)})}}}var bu=class extends Js{constructor(t){super(),Ks(this,t,wu,yu,hs,["groupedData","metadata","typeSelectors"])}};n(1),n(11);function ku(t){var e,n;return{c(){e=gs("div"),Ms(n=ys("svg"),"width","100%"),Ms(n,"xmlns","http://www.w3.org/2000/svg"),Ms(n,"version","1.1"),Ms(n,"viewBox","0 0 100 "+Mu),Ms(n,"class","svelte-yg5n0s"),Ms(e,"class","svg-container svelte-yg5n0s")},m(i,r){ps(i,e,r),fs(e,n),t.svg_1_binding(n)},p:os,i:os,o:os,d(n){n&&ds(e),t.svg_1_binding(null)}}}const Mu=116;function Tu(t){return t.findIndex(t=>null!==t.value)}function Cu(t,e,n){var{datum:i}=e;let{metadata:r,initialViewType:a,group:o}=e;var s;return $s(()=>{s&&(s.innerHTML="",n("svg",s));const t=3,e=20,a=100-e-5,u=Mu-t-10,c=as.scaleTime().range([0,a]),l=as.scaleLinear().range([u,0]),h=as.line().x(t=>c(t.year)).y(t=>l(t.value)).defined(t=>null!==t.value),f=as.range(r.startYear,r.stopYear).concat(r.stopYear),p=as.timeParse("%Y"),d=f.map(t=>({year:p(t),value:i.values[0][t]})),_=as.formatLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""]});console.log(i);const g="currency"===gu[i.values[0].indicator].units?".0s":"si"===gu[i.values[0].indicator].units?".1s":"number"===gu[i.values[0].indicator].units?".0f":"decimal"===gu[i.values[0].indicator].units?".0f":".0%";c.domain(as.extent(d,t=>t.year));const y=r[i.values[0].indicator].minYear,m=r[i.values[0].indicator].maxYear;l.domain([y,m]).nice(4);const v=as.select(s),x=as.tip().attr("class","d3-tip bubble").offset([2*Mu-10,.5]).html(t=>`<span class="year">${t.year.getFullYear()}</span> | ${_.format(gu[i.values[0].indicator].tooltipFormat)(t.value)}`),w=v.append("g").attr("transform",`translate(${e},${t})`);v.append("g").attr("transform",`translate(${e}, ${u+t})`).attr("class","axis x-axis").call(as.axisBottom(c).tickSizeInner(0).tickSizeOuter(0).tickPadding(4).tickValues([d[Tu(d)].year,d[d.length-1].year])),v.append("g").attr("class","axis y-axis").attr("transform",`translate(${e+3}, ${t})`).call(as.axisLeft(l).tickSizeInner(0).tickSizeOuter(1).tickPadding(4).ticks(4,g));var b=as.range(1,d.length+1-Tu(d)),k=function(t,e){var n=function(t,e){return t+e},i=1*t.reduce(n)/t.length,r=1*e.reduce(n)/e.length,a=t.map(function(t){return Math.pow(t-i,2)}).reduce(n),o=e.map(function(t){return Math.pow(t-r,2)}).reduce(n),s=t.map(function(t,n){return(t-i)*(e[n]-r)}).reduce(n),u=s/a;return[u,r-i*u,Math.pow(s,2)/(a*o)]}(b,d.slice(Tu(d)).map(t=>t.value));console.log(k),w.append("line").attr("class","line trendline").attr("x1",c(d[Tu(d)].year)).attr("y1",l(k[0]+k[1])).attr("x2",c(d[d.length-1].year)).attr("y2",l(k[0]*b.length+k[1])),w.append("path").datum(d).attr("class","line valueline").attr("d",h),w.selectAll(".value-point").data(d.slice(Tu(d))).enter().append("circle").attr("class","value-point").attr("tabindex",0).attr("data-id",(t,e)=>`${o}-${i.key}-${e}`).attr("r",2).attr("cx",t=>c(t.year)).attr("cy",t=>l(t.value)).on("focus",function(){as.select("#rect-"+this.dataset.id).node().dispatchEvent(new MouseEvent("mouseover",{bubbles:!0,cancelable:!0,view:window}))}).on("blur",function(){as.select("#rect-"+this.dataset.id).node().dispatchEvent(new MouseEvent("mouseout",{bubbles:!0,cancelable:!0,view:window}))}).nodes().forEach(function(t){t.addEventListener("keydown",function(t,e){27===e.keyCode&&document.querySelector(".js-skip-link-"+t).focus()}.bind(void 0,o))}),w.selectAll(".value-proxy-rect").data(d.slice(Tu(d))).enter().append("rect").attr("id",(t,e)=>`rect-${o}-${i.key}-${e}`).attr("class","value-proxy-rect").attr("width",8).attr("height",2*Mu).attr("x",t=>c(t.year)-4).attr("y",t=>l(t.value)-Mu).call(x).on("mouseover",x.show).on("mouseout",x.hide)}),t.$set=t=>{"datum"in t&&n("datum",i=t.datum),"metadata"in t&&n("metadata",r=t.metadata),"initialViewType"in t&&n("initialViewType",a=t.initialViewType),"group"in t&&n("group",o=t.group)},{datum:i,metadata:r,initialViewType:a,group:o,svg:s,svg_1_binding:function(t){Os[t?"unshift":"push"](()=>{n("svg",s=t)})}}}var Su=class extends Js{constructor(t){super(),Ks(this,t,Cu,ku,hs,["datum","metadata","initialViewType","group"])}};n(12);function Nu(t){var e,n;return{c(){e=gs("div"),Ms(n=ys("svg"),"width","100%"),Ms(n,"xmlns","http://www.w3.org/2000/svg"),Ms(n,"version","1.1"),Ms(n,"viewBox","0 0 100 "+Eu),Ms(n,"class","svelte-1cyek1n"),Ms(e,"class","svg-container svelte-1cyek1n")},m(i,r){ps(i,e,r),fs(e,n),t.svg_1_binding(n)},p:os,i:os,o:os,d(n){n&&ds(e),t.svg_1_binding(null)}}}const Eu=116,$u=15,Du=5;function Au(t,e,n){let{datum:i,group:r,metadata:a,groupBy:o}=e;var s;console.log(o),console.log(this);let u,c=[a.minPop,a.maxPop];return $s(()=>{s&&(s.innerHTML="",n("svg",s));const t=3,e=5,o=10,u=20,l=as.formatLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),h=100-u-e,f=Eu-t-o,p=as.scaleOrdinal().range([0,h]),d=as.scaleLinear().range([f,0]),_=as.scaleSqrt().range([Du,$u]),g=[[{colorIndex:0,percent:i.values[0].age1,absolute:i.values[0].age1_a,key:"age1"},{colorIndex:1,percent:i.values[0].age2,absolute:i.values[0].age2_a,key:"age2"},{colorIndex:2,percent:i.values[0].age3,absolute:i.values[0].age3_a,key:"age3"}],[{colorIndex:0,percent:i.values[0].race1,absolute:i.values[0].race1_a,key:"race1"},{colorIndex:1,percent:i.values[0].race2,absolute:i.values[0].race2_a,key:"race2"},{colorIndex:2,percent:i.values[0].race3,absolute:i.values[0].race3_a,key:"race3"},{colorIndex:3,percent:i.values[0].race4,absolute:i.values[0].race4_a,key:"race4"}]];console.log(g),console.log(i);const y=gu[i.values[0].indicator].units_alt||gu[i.values[0].indicator].units,m="currency"===y?".0s":"si"===y?".1s":"number"===y?".0f":"decimal"===y?".0f":".0%";p.domain([0,g.length]);const v=as.min([a[i.values[0].indicator].minAge,a[i.values[0].indicator].minRace]),x=as.max([a[i.values[0].indicator].maxAge,a[i.values[0].indicator].maxRace]);d.domain([v,x]).nice(4),_.domain(c),p.domain(["Age","Race"]);const w=as.tip().attr("class","d3-tip disaggregated").html((t,e)=>t.sort((t,e)=>as.descending(t.percent,e.percent)).reduce((t,n,i)=>{var a=n.key.match("age")?"age":"race";return t+`<p class="${e===i?"isHighlighted":""} ${"tooltip-p tooltip-color-"+n.colorIndex}""><span class="${a}">${gu[n.key]}</span> | ${gu[r].disagTooltipFormat?l.format(gu[r].disagTooltipFormat)(n.percent):l.format(gu[r].tooltipFormat)(n.percent)} \n                                 (${n.absolute?as.format(",.0f")(n.absolute)+" ppl":"size n/a"})</p>`},"")),b=as.select(s);b.append("g").attr("transform",`translate(${u}, ${f+t})`).attr("class","axis x-axis categorical").call(as.axisBottom(p).tickSizeInner(0).tickSizeOuter(0).tickPadding(4)),b.append("g").attr("class","axis y-axis").attr("transform",`translate(${u+3}, ${t})`).call(as.axisLeft(d).tickSizeInner(0).tickSizeOuter(1).tickPadding(4).ticks(4,m));b.append("g").attr("transform",`translate(${u},${t})`).selectAll(".type").data(g).enter().append("g").attr("transform",(t,e,n)=>0===e?`translate(${$u}, 0)`:`translate(${h-$u}, 0)`).each(function(t){if(t.filter(t=>!isNaN(t.percent)).length>0){as.select(this).selectAll(".data-group").data(t=>(console.log(t),t.sort((t,e)=>as.descending(t.percent,e.percent)))).enter().append("g").attr("class","data-group").append("circle").attr("tabindex",0).attr("cx",0).attr("cy",t=>d(t.percent)).attr("r",t=>null!==t.absolute?_(t.absolute):Du/2).attr("class",t=>"bubble color"+t.colorIndex).classed("absolute-undefined",t=>null===t.absolute).call(w).on("mouseover",function(e,n){w.show.call(this,t.filter(t=>!isNaN(t.percent)),n)}).on("mouseout",w.hide).on("focus",function(e,n){w.show.call(this,t.filter(t=>!isNaN(t.percent)),n)}).on("blur",w.hide).nodes().forEach(function(t){t.addEventListener("keydown",function(t,e){27===e.keyCode&&document.querySelector(".js-skip-link-"+t).focus()}.bind(void 0,r))})}else as.select(this).append("text").attr("class","not-available").text("N/A").attr("y",f/2)})}),t.$set=t=>{"datum"in t&&n("datum",i=t.datum),"group"in t&&n("group",r=t.group),"metadata"in t&&n("metadata",a=t.metadata),"groupBy"in t&&n("groupBy",o=t.groupBy)},t.$$.update=(t={groupBy:1})=>{t.groupBy&&(u="nestedByCity"===o?"city":"indicator")},{datum:i,group:r,metadata:a,groupBy:o,svg:s,svg_1_binding:function(t){Os[t?"unshift":"push"](()=>{n("svg",s=t)})}}}var Ou=class extends Js{constructor(t){super(),Ks(this,t,Au,Nu,hs,["datum","group","metadata","groupBy"])}};n(13);function Iu(t,e,n){const i=Object.create(t);return i.d=e[n],i}function Lu(t){var e,n;return{c(){e=ys("svg"),Ms(n=ys("path"),"d","M456.667 1.333c126.667-1.333 235.333 42 326 130s137.333 195.333 140 322C924 580 880.334 689 791.667 780.333s-196.333 138.333-323 141C342 922.666 233 879 141.667 790.333S4 594 2.667 467.333c-2.667-126.667 40.667-235.667 130-327s197.333-137.667 324-139m52 152c-28 0-49.667 8-65 24-15.333 16-23 32.667-23 50-1.333 18.667 3.667 33.333 15 44 11.333 10.667 27.667 16 49 16 25.333 0 45.667-7.333 61-22 15.333-14.667 23-32.667 23-54 0-38.667-20-58-60-58m-120 594c20 0 48-8.667 84-26s71.333-43.333 106-78l-18-24c-32 24-56 36-72 36-9.333 0-10.667-12.667-4-38l42-160c17.333-64 10-96-22-96-20 0-49.667 9.667-89 29s-77.667 44.333-115 75l16 26c34.667-22.667 59.333-34 74-34 8 0 8 11.333 0 34l-36 152c-17.333 69.333-6 104 34 104"),Ms(n,"class","svelte-llo836"),Ms(e,"class","info-mark svelte-llo836"),Ms(e,"width","14px"),Ms(e,"xmlns","http://www.w3.org/2000/svg"),Ms(e,"viewBox","0 0 924 922.666015625")},m(t,i){ps(t,e,i),fs(e,n)},d(t){t&&ds(e)}}}function Bu(t){var e,n=new Ou({props:{datum:t.d,metadata:t.metadata,groupBy:t.groupBy,group:t.group.key}});return{c(){n.$$.fragment.c()},m(t,i){Zs(n,t,i),e=!0},p(t,e){var i={};t.match&&(i.datum=e.d),t.metadata&&(i.metadata=e.metadata),t.groupBy&&(i.groupBy=e.groupBy),t.group&&(i.group=e.group.key),n.$set(i)},i(t){e||(Ys(n.$$.fragment,t),e=!0)},o(t){Ws(n.$$.fragment,t),e=!1},d(t){Qs(n,t)}}}function Ru(t){var e,n=new Su({props:{datum:t.d,metadata:t.metadata,group:t.group.key}});return{c(){n.$$.fragment.c()},m(t,i){Zs(n,t,i),e=!0},p(t,e){var i={};t.match&&(i.datum=e.d),t.metadata&&(i.metadata=e.metadata),t.group&&(i.group=e.group.key),n.$set(i)},i(t){e||(Ys(n.$$.fragment,t),e=!0)},o(t){Ws(n.$$.fragment,t),e=!1},d(t){Qs(n,t)}}}function Pu(t){var e,n,i,r,a,o,s,u,c,l,h=gu[t.d.key]?gu[t.d.key].label:t.d.key,f="nestedByIndicator"!==t.groupBy&&Lu(),p=[Ru,Bu],d=[];function _(t){return"time"===t.viewType?0:1}return s=_(t),u=d[s]=p[s](t),{c(){e=gs("div"),n=gs("div"),i=gs("h3"),f&&f.c(),r=vs(),a=ms(h),o=vs(),u.c(),c=vs(),Ms(i,"class","svelte-llo836"),Ms(n,"class","graph-container"),Ms(e,"class","graph-container--outer")},m(t,u){ps(t,e,u),fs(e,n),fs(n,i),f&&f.m(i,null),fs(i,r),fs(i,a),fs(n,o),d[s].m(n,null),fs(e,c),l=!0},p(t,e){"nestedByIndicator"!==e.groupBy?f||((f=Lu()).c(),f.m(i,r)):f&&(f.d(1),f=null),l&&!t.match||h===(h=gu[e.d.key]?gu[e.d.key].label:e.d.key)||Ts(a,h);var o=s;(s=_(e))===o?d[s].p(t,e):(Hs(),Ws(d[o],1,1,()=>{d[o]=null}),js(),(u=d[s])||(u=d[s]=p[s](e)).c(),Ys(u,1),u.m(n,null))},i(t){l||(Ys(u),l=!0)},o(t){Ws(u),l=!1},d(t){t&&ds(e),f&&f.d(),d[s].d()}}}function Fu(t){for(var e,n,i=t.match.values,r=[],a=0;a<i.length;a+=1)r[a]=Pu(Iu(t,i,a));const o=t=>Ws(r[t],1,1,()=>{r[t]=null});return{c(){for(var t=0;t<r.length;t+=1)r[t].c();e=xs()},m(t,i){for(var a=0;a<r.length;a+=1)r[a].m(t,i);ps(t,e,i),n=!0},p(t,n){if(t.viewType||t.match||t.metadata||t.group||t.groupBy||t.dictionary){i=n.match.values;for(var a=0;a<i.length;a+=1){const o=Iu(n,i,a);r[a]?(r[a].p(t,o),Ys(r[a],1)):(r[a]=Pu(o),r[a].c(),Ys(r[a],1),r[a].m(e.parentNode,e))}for(Hs(),a=i.length;a<r.length;a+=1)o(a);js()}},i(t){if(!n){for(var e=0;e<i.length;e+=1)Ys(r[e]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)Ws(r[t]);n=!1},d(t){_s(r,t),t&&ds(e)}}}function zu(t,e,n){let i,r,{group:a,groupedData:o,metadata:s,groupBy:u}=e;return console.log(a),ru.subscribe(t=>{n("viewType",i=t)}),t.$set=t=>{"group"in t&&n("group",a=t.group),"groupedData"in t&&n("groupedData",o=t.groupedData),"metadata"in t&&n("metadata",s=t.metadata),"groupBy"in t&&n("groupBy",u=t.groupBy)},t.$$.update=(t={groupedData:1,group:1})=>{(t.groupedData||t.group)&&n("match",r=o.find(t=>t.key===a.key))},{group:a,groupedData:o,metadata:s,groupBy:u,viewType:i,match:r}}var Uu=class extends Js{constructor(t){super(),Ks(this,t,zu,Fu,hs,["group","groupedData","metadata","groupBy"])}},Vu=n(4),qu=n.n(Vu);n(14);function Hu(t,e,n){const i=Object.create(t);return i.group=e[n],i.i=n,i}function ju(t){var e,n,i,r;return{c(){e=gs("div"),n=gs("p"),i=gs("img"),r=ms(" = best fit trend line"),Ms(i,"src",qu.a),Ms(i,"alt","blue line equals best fit trend line"),Ms(i,"class","svelte-m8ccz6"),Ms(e,"class","trendline-key svelte-m8ccz6")},m(t,a){ps(t,e,a),fs(e,n),fs(n,i),fs(n,r)},p:os,d(t){t&&ds(e)}}}function Yu(t){var e,n,i,r;return{c(){e=gs("a"),n=ms("Back to first section"),Ms(e,"class",i="skip-link js-skip-link-"+t.group.key+" svelte-m8ccz6"),Ms(e,"id","skip-link-"+t.i),Ms(e,"name","skip-link-"+t.i),Ms(e,"href","#skip-link-0"),e.dataset.linkTo="0",r=ws(e,"click",bs(Qu))},m(t,i){ps(t,e,i),fs(e,n)},p(t,n){t.groupedData&&i!==(i="skip-link js-skip-link-"+n.group.key+" svelte-m8ccz6")&&Ms(e,"class",i)},d(t){t&&ds(e),r()}}}function Wu(t){var e,n,i,r;return{c(){e=gs("a"),n=ms("Skip to next section"),Ms(e,"class",i="skip-link js-skip-link-"+t.group.key+" svelte-m8ccz6"),Ms(e,"id","skip-link-"+t.i),Ms(e,"name","skip-link-"+t.i),Ms(e,"href","#skip-link-"+(t.i+1)),e.dataset.linkTo=t.i+1,r=ws(e,"click",bs(Qu))},m(t,i){ps(t,e,i),fs(e,n)},p(t,n){t.groupedData&&i!==(i="skip-link js-skip-link-"+n.group.key+" svelte-m8ccz6")&&Ms(e,"class",i)},d(t){t&&ds(e),r()}}}function Xu(t){var e,n,i,r,a,o,s,u,c,l,h,f,p,d,_,g,y,m,v,x,w=gu[t.group.key]?gu[t.group.key].label:t.group.key,b=gu[t.group.key]&&gu[t.group.key].desc?gu[t.group.key].desc+".":"",k=gu[t.group.key]&&gu[t.group.key].source?"Source: "+gu[t.group.key].source:"";function M(t){return t.i<t.groupedData.length-1?Wu:Yu}var T=M(t),C=T(t),S=new Uu({props:{group:t.group,groupedData:t.groupedData,metadata:t.metadata,groupBy:t.groupBy}});return{c(){e=gs("section"),n=gs("a"),a=vs(),o=gs("h2"),s=ms(w),u=vs(),C.c(),c=vs(),l=gs("p"),h=ms(b),f=vs(),p=ms(k),d=vs(),_=gs("div"),S.$$.fragment.c(),g=vs(),y=gs("a"),v=vs(),Ms(n,"tabindex","-1"),Ms(n,"class","section-anchor observer-anchor js-section-anchor-"+t.i+" svelte-m8ccz6"),Ms(n,"id",i="anchor-"+t.group.key),n.dataset.key=r=t.group.key,Ms(o,"class","dataviz-heading svelte-m8ccz6"),Ms(l,"class","description svelte-m8ccz6"),Ms(_,"class","dataviz-container svelte-m8ccz6"),Ms(y,"class","upward-observer-anchor observer-anchor svelte-m8ccz6"),y.dataset.key=m=t.group.key,Ms(e,"class","dataviz-section svelte-m8ccz6")},m(t,i){ps(t,e,i),fs(e,n),fs(e,a),fs(e,o),fs(o,s),fs(e,u),C.m(e,null),fs(e,c),fs(e,l),fs(l,h),fs(l,f),fs(l,p),fs(e,d),fs(e,_),Zs(S,_,null),fs(e,g),fs(e,y),fs(e,v),x=!0},p(t,a){x&&!t.groupedData||i===(i="anchor-"+a.group.key)||Ms(n,"id",i),x&&!t.groupedData||r===(r=a.group.key)||(n.dataset.key=r),x&&!t.groupedData||w===(w=gu[a.group.key]?gu[a.group.key].label:a.group.key)||Ts(s,w),T===(T=M(a))&&C?C.p(t,a):(C.d(1),(C=T(a))&&(C.c(),C.m(e,c))),x&&!t.groupedData||b===(b=gu[a.group.key]&&gu[a.group.key].desc?gu[a.group.key].desc+".":"")||Ts(h,b),x&&!t.groupedData||k===(k=gu[a.group.key]&&gu[a.group.key].source?"Source: "+gu[a.group.key].source:"")||Ts(p,k);var o={};t.groupedData&&(o.group=a.group),t.groupedData&&(o.groupedData=a.groupedData),t.metadata&&(o.metadata=a.metadata),t.groupBy&&(o.groupBy=a.groupBy),S.$set(o),x&&!t.groupedData||m===(m=a.group.key)||(y.dataset.key=m)},i(t){x||(Ys(S.$$.fragment,t),x=!0)},o(t){Ws(S.$$.fragment,t),x=!1},d(t){t&&ds(e),C.d(),Qs(S)}}}function Zu(t){for(var e,n,i,r="time"===t.viewType&&ju(),a=t.groupedData,o=[],s=0;s<a.length;s+=1)o[s]=Xu(Hu(t,a,s));const u=t=>Ws(o[t],1,1,()=>{o[t]=null});return{c(){r&&r.c(),e=vs();for(var t=0;t<o.length;t+=1)o[t].c();n=xs()},m(t,a){r&&r.m(t,a),ps(t,e,a);for(var s=0;s<o.length;s+=1)o[s].m(t,a);ps(t,n,a),i=!0},p(t,i){if("time"===i.viewType?r?r.p(t,i):((r=ju()).c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),t.groupedData||t.metadata||t.groupBy||t.dictionary){a=i.groupedData;for(var s=0;s<a.length;s+=1){const e=Hu(i,a,s);o[s]?(o[s].p(t,e),Ys(o[s],1)):(o[s]=Xu(e),o[s].c(),Ys(o[s],1),o[s].m(n.parentNode,n))}for(Hs(),s=a.length;s<o.length;s+=1)u(s);js()}},i(t){if(!i){for(var e=0;e<a.length;e+=1)Ys(o[e]);i=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Ws(o[t]);i=!1},d(t){r&&r.d(t),t&&ds(e),_s(o,t),t&&ds(n)}}}function Qu(t){var e=this.dataset.linkTo;document.querySelector(".js-section-anchor-"+e).scrollIntoView(),document.querySelector(this.hash).focus()}function Ku(t,e,n){let i,{initialCities:r,initialIndicator:a,groupedData:o,metadata:s,groupBy:u}=e;ru.subscribe(t=>{n("viewType",i=t)}),ou.subscribe(t=>{var e=document.getElementById("anchor-"+t);e&&e.scrollIntoView()});let c=0;return Ds(()=>{var t=new IntersectionObserver(function(t,e){t.forEach(t=>{var e=window.pageYOffset;t.isIntersecting&&e<c&&su.set(t.target.dataset.key),c=e})});document.querySelectorAll(".section-anchor").forEach(e=>{t.observe(e)});var e=new IntersectionObserver(function(t,e){t.forEach(t=>{console.log(t,c,window.pageYOffset);var e=window.pageYOffset;t.isIntersecting&&e>=c&&su.set(t.target.dataset.key),c=e})});document.querySelectorAll(".upward-observer-anchor").forEach(t=>{e.observe(t)})}),t.$set=t=>{"initialCities"in t&&n("initialCities",r=t.initialCities),"initialIndicator"in t&&n("initialIndicator",a=t.initialIndicator),"groupedData"in t&&n("groupedData",o=t.groupedData),"metadata"in t&&n("metadata",s=t.metadata),"groupBy"in t&&n("groupBy",u=t.groupBy)},{initialCities:r,initialIndicator:a,groupedData:o,metadata:s,groupBy:u,viewType:i}}var Ju=class extends Js{constructor(t){super(),Ks(this,t,Ku,Zu,hs,["initialCities","initialIndicator","groupedData","metadata","groupBy"])}};n(15);function Gu(t){var e,n;return{c(){(e=gs("button")).textContent="Show legend",Ms(e,"class","show-legend svelte-1a85e3o"),n=ws(e,"click",t.clickHandler)},m(t,n){ps(t,e,n)},d(t){t&&ds(e),n()}}}function tc(t){var e,n,i,r,a,o,s,u,c,l,h,f,p,d,_,g=new _u.xOut({}),y=t.isClosed&&Gu(t);return{c(){e=gs("div"),n=gs("div"),i=gs("div"),r=gs("div"),a=gs("h2"),o=ms("Legend "),s=gs("div"),g.$$.fragment.c(),u=vs(),(c=gs("div")).innerHTML='<div class="color-codes svelte-1a85e3o"><div class="svelte-1a85e3o"><h3 class="svelte-1a85e3o">Age:</h3> <ul class="svelte-1a85e3o"><li class="svelte-1a85e3o">&lt;35</li> <li class="svelte-1a85e3o">35â€“64</li> <li class="svelte-1a85e3o">64+</li></ul></div> <div class="svelte-1a85e3o"><h3 class="svelte-1a85e3o">Race:</h3> <ul class="svelte-1a85e3o"><li class="svelte-1a85e3o">White, non-Hispanic</li> <li class="svelte-1a85e3o">Black</li> <li class="svelte-1a85e3o">Hispanic</li> <li class="svelte-1a85e3o">Asian</li></ul></div></div>',l=vs(),h=gs("div"),f=ys("svg"),p=vs(),y&&y.c(),Ms(s,"class","x-out-container svelte-1a85e3o"),Ms(a,"class","svelte-1a85e3o"),Ms(c,"class","legend svelte-1a85e3o"),Ms(r,"class","svelte-1a85e3o"),Ms(f,"class","population-legend svelte-1a85e3o"),Ms(f,"width","100%"),Ms(f,"xmlns","http://www.w3.org/2000/svg"),Ms(f,"version","1.1"),Ms(f,"viewBox","0 0 "+100/3.19+" "+t.viewBoxHeight),Ms(h,"class","legend-svg-container svelte-1a85e3o"),Ms(i,"class","legend-container-wrapper svelte-1a85e3o"),Ms(n,"class","legend-container-inner svelte-1a85e3o"),Ms(e,"class","legend-container svelte-1a85e3o"),Cs(e,"isClosed",t.isClosed),Cs(e,"hide","time"===t.viewType),_=ws(a,"click",t.clickHandler)},m(_,m){ps(_,e,m),fs(e,n),fs(n,i),fs(i,r),fs(r,a),fs(a,o),fs(a,s),Zs(g,s,null),fs(r,u),fs(r,c),fs(i,l),fs(i,h),fs(h,f),t.svg_1_binding(f),fs(e,p),y&&y.m(e,null),d=!0},p(t,n){n.isClosed?y||((y=Gu(n)).c(),y.m(e,null)):y&&(y.d(1),y=null),t.isClosed&&Cs(e,"isClosed",n.isClosed),t.viewType&&Cs(e,"hide","time"===n.viewType)},i(t){d||(Ys(g.$$.fragment,t),d=!0)},o(t){Ws(g.$$.fragment,t),d=!1},d(n){n&&ds(e),Qs(g),t.svg_1_binding(null),y&&y.d(),_()}}}function ec(t,e,n){let i,r,{metadata:a,maxRadius:o,minRadius:s}=e,u=!1,c=[a.minPop,a.maxPop],l=2*o+12,h=0,f=7,p=2;return ru.subscribe(t=>{n("viewType",i=t)}),Ds(()=>{const t=l-h-f,e=as.scaleSqrt().range([s,o]).domain(c),n=c.map(t=>(function(t){var e=Math.round(Math.log(t)/Math.LN10+1e-9);return Math.pow(10,e)})(t)).concat([s/2]);var i=as.select(r).selectAll("g").data(n).enter().append("g").attr("transform",(i,r)=>2!==r?`translate(${p+ +e(n[1])}, ${t-e(i)})`:`translate(${p+ +e(n[1])},${t-i})`);i.append("circle").attr("r",(t,n)=>2===n?t:e(t)),i.append("text").attr("class","circle-label").attr("transform",(t,n)=>2!==n?`translate(0, ${0-+e(t)-2})`:`translate(0, ${2*t+4} )`).text((t,e)=>2!==e?as.format(".0s")(t):"n/a")}),t.$set=t=>{"metadata"in t&&n("metadata",a=t.metadata),"maxRadius"in t&&n("maxRadius",o=t.maxRadius),"minRadius"in t&&n("minRadius",s=t.minRadius)},{metadata:a,maxRadius:o,minRadius:s,viewType:i,isClosed:u,viewBoxHeight:l,svg:r,clickHandler:function(t){console.log(t),n("isClosed",u=!u)},svg_1_binding:function(t){Os[t?"unshift":"push"](()=>{n("svg",r=t)})}}}var nc=class extends Js{constructor(t){super(),Ks(this,t,ec,tc,hs,["metadata","maxRadius","minRadius"])}};n(16);function ic(t){var e,n,i,r,a,o=new nu({}),s=new bu({props:{groupedData:t.groupedData,metadata:t.metadata}}),u=new Ju({props:{groupedData:t.groupedData,initialCities:t.initialCities,metadata:t.metadata,groupBy:t.groupBy}}),c=new nc({props:{metadata:t.metadata,maxRadius:"15",minRadius:"5"}});return{c(){o.$$.fragment.c(),e=vs(),s.$$.fragment.c(),n=vs(),i=gs("div"),u.$$.fragment.c(),r=vs(),c.$$.fragment.c(),Ms(i,"class","dataviz-wrapper svelte-1sftzp4"),Cs(i,"by-city","nestedByCity"===t.groupBy)},m(t,l){Zs(o,t,l),ps(t,e,l),Zs(s,t,l),ps(t,n,l),ps(t,i,l),Zs(u,i,null),ps(t,r,l),Zs(c,t,l),a=!0},p(t,e){var n={};t.groupedData&&(n.groupedData=e.groupedData),t.metadata&&(n.metadata=e.metadata),s.$set(n);var r={};t.groupedData&&(r.groupedData=e.groupedData),t.initialCities&&(r.initialCities=e.initialCities),t.metadata&&(r.metadata=e.metadata),t.groupBy&&(r.groupBy=e.groupBy),u.$set(r),t.groupBy&&Cs(i,"by-city","nestedByCity"===e.groupBy);var a={};t.metadata&&(a.metadata=e.metadata),c.$set(a)},i(t){a||(Ys(o.$$.fragment,t),Ys(s.$$.fragment,t),Ys(u.$$.fragment,t),Ys(c.$$.fragment,t),a=!0)},o(t){Ws(o.$$.fragment,t),Ws(s.$$.fragment,t),Ws(u.$$.fragment,t),Ws(c.$$.fragment,t),a=!1},d(t){Qs(o,t),t&&ds(e),Qs(s,t),t&&(ds(n),ds(i)),Qs(u),t&&ds(r),Qs(c,t)}}}function rc(t,e,n){let i,r,{data:a,initialCities:o,initialIndicator:s,metadata:u}=e;return au.subscribe(t=>{n("groupedData",i=a[t]),n("groupBy",r=t)}),t.$set=t=>{"data"in t&&n("data",a=t.data),"initialCities"in t&&n("initialCities",o=t.initialCities),"initialIndicator"in t&&n("initialIndicator",s=t.initialIndicator),"metadata"in t&&n("metadata",u=t.metadata)},{data:a,initialCities:o,initialIndicator:s,metadata:u,groupedData:i,groupBy:r}}var ac=class extends Js{constructor(t){super(),Ks(this,t,rc,ic,hs,["data","initialCities","initialIndicator","metadata"])}},oc=n(5),sc=n.n(oc);const uc=["Baltimore","Boston","Chicago","Cleveland","Detroit","Houston","Philadelphia","Phoenix","Pittsburgh","Washington"],cc={startYear:2007,stopYear:2017};function lc(t,e){r.a.parse(""+sc.a,{complete:function(e){!function(t){t.forEach((t,e,n)=>{cc[t.indicator]=cc[t.indicator]||{},cc[t.city]=cc[t.city]||{};var i=as.range(cc.startYear,cc.stopYear).concat(cc.stopYear);cc[t.indicator].yearValues=cc[t.indicator].yearValues?cc[t.indicator].yearValues.concat(i.map(e=>t[e])):i.map(e=>t[e]),cc[t.city].yearValues=cc[t.city].yearValues?cc[t.city].yearValues.concat(i.map(e=>t[e])):i.map(e=>t[e]);var r=Object.keys(t).filter(t=>t.match(/race\d$/));cc[t.indicator].raceValues=cc[t.indicator].raceValues?cc[t.indicator].raceValues.concat(r.map(e=>t[e])):r.map(e=>t[e]),cc[t.city].raceValues=cc[t.city].raceValues?cc[t.city].raceValues.concat(r.map(e=>t[e])):r.map(e=>t[e]);var a=Object.keys(t).filter(t=>t.match(/age\d$/));cc[t.indicator].ageValues=cc[t.indicator].ageValues?cc[t.indicator].ageValues.concat(a.map(e=>t[e])):a.map(e=>t[e]),cc[t.city].ageValues=cc[t.city].ageValues?cc[t.city].ageValues.concat(a.map(e=>t[e])):a.map(e=>t[e]);var o=Object.keys(t).filter(t=>t.match(/race\d_a/));cc[t.indicator].raceValuesA=cc[t.indicator].raceValuesA?cc[t.indicator].raceValuesA.concat(o.map(e=>t[e])):o.map(e=>t[e]),cc[t.city].raceValuesA=cc[t.city].raceValuesA?cc[t.city].raceValuesA.concat(o.map(e=>t[e])):o.map(e=>t[e]);var s=Object.keys(t).filter(t=>t.match(/age\d_a/));cc[t.indicator].ageValuesA=cc[t.indicator].ageValuesA?cc[t.indicator].ageValuesA.concat(s.map(e=>t[e])):s.map(e=>t[e]),cc[t.city].ageValuesA=cc[t.city].ageValuesA?cc[t.city].ageValuesA.concat(s.map(e=>t[e])):s.map(e=>t[e])});for(let t in cc)t.match(/start|stop/)||(cc[t].maxYear=as.max(cc[t].yearValues.filter(t=>!isNaN(t))),cc[t].minYear=as.min(cc[t].yearValues.filter(t=>!isNaN(t))),cc[t].maxRace=as.max(cc[t].raceValues.filter(t=>!isNaN(t))),cc[t].minRace=as.min(cc[t].raceValues.filter(t=>!isNaN(t))),cc[t].maxAge=as.max(cc[t].ageValues.filter(t=>!isNaN(t))),cc[t].minAge=as.min(cc[t].ageValues.filter(t=>!isNaN(t))),cc[t].maxPop=as.max(cc[t].ageValuesA.filter(t=>!isNaN(t)).concat(cc[t].raceValuesA.filter(t=>!isNaN(t)))),cc[t].minPop=as.min(cc[t].ageValuesA.filter(t=>!isNaN(t)).concat(cc[t].raceValuesA.filter(t=>!isNaN(t)))));var e=[],n=[];for(let t in cc)t.match(/start|stop/)||(e.push(cc[t].minPop),n.push(cc[t].maxPop));cc.minPop=as.min(e),cc.maxPop=as.max(n)}(e.data),console.log(cc);var n=as.nest().key(t=>t.indicator).key(t=>t.city).entries(e.data),i=as.nest().key(t=>t.city).key(t=>t.indicator).entries(e.data);t({nestedByIndicator:n,nestedByCity:i})},download:!0,dynamicTyping:!0,error:function(t,n){e({error:t,file:n})},fastMode:!0,header:!0,skipEmptyLines:!0})}const hc=function(t){if(t.isResolved)return t;var e=!0,n=!1,i=!1,r=t.then(function(t){return i=!0,e=!1,t},function(t){throw n=!0,e=!1,t});return r.isFulfilled=function(){return i},r.isPending=function(){return e},r.isRejected=function(){return n},r}(new Promise((t,e)=>{lc(t,e)}));console.log(hc),hc.then(t=>{new ac({target:document.querySelector("#svelte-container"),props:{data:t,initialCities:uc,initialIndicator:"poverty",metadata:cc}})})}]);